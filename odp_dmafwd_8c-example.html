<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference Manual: odp_dmafwd.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="odpdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ODP-Logo-HQ.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference Manual
   &#160;<span id="projectnumber">1.48.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('odp_dmafwd_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">odp_dmafwd.c</div>  </div>
</div><!--header-->
<div class="contents">
<p>This tester application can be used to profile the performance of an ODP DMA implementation.Tester workflow consists of packet reception, copy and forwarding steps. Packets are first received from configured interfaces after which packets are copied, either with plain SW memory copy or with DMA offload copy. Finally, copied packets are echoed back to the sender(s).</p>
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2023-2025 Nokia</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef _GNU_SOURCE</span></div>
<div class="line"><span class="preprocessor">#define _GNU_SOURCE</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="odp__api_8h.html">odp_api.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;odp/helper/odph_api.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define EXIT_NOT_SUP 2</span></div>
<div class="line"><span class="preprocessor">#define PROG_NAME &quot;odp_dmafwd&quot;</span></div>
<div class="line"><span class="preprocessor">#define DELIMITER &quot;,&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum</span> {</div>
<div class="line">    SW_COPY = 0U,</div>
<div class="line">    DMA_COPY_EV,</div>
<div class="line">    DMA_COPY_POLL</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define DEF_CPY_TYPE SW_COPY</span></div>
<div class="line"><span class="preprocessor">#define DEF_CNT 32768U</span></div>
<div class="line"><span class="preprocessor">#define DEF_LEN 1024U</span></div>
<div class="line"><span class="preprocessor">#define DEF_WORKERS 1U</span></div>
<div class="line"><span class="preprocessor">#define DEF_TIME 0U</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MAX_IFS 2U</span></div>
<div class="line"><span class="preprocessor">#define MAX_OUT_QS 32U</span></div>
<div class="line"><span class="preprocessor">#define MAX_BURST 32U</span></div>
<div class="line"><span class="preprocessor">#define MAX_WORKERS (ODP_THREAD_COUNT_MAX - 1)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define DIV_IF(a, b) ((b) &gt; 0U ? ((a) / (b)) : 0U)</span></div>
<div class="line"> </div>
<div class="line"><a name="a0"></a><a class="code" href="group__odp__initialization.html#ga1c51393d64c840c04df3536b6fe40b95">ODP_STATIC_ASSERT</a>(MAX_IFS &lt; UINT8_MAX, <span class="stringliteral">&quot;Too large maximum interface count&quot;</span>);</div>
<div class="line"><a class="code" href="group__odp__initialization.html#ga1c51393d64c840c04df3536b6fe40b95">ODP_STATIC_ASSERT</a>(MAX_OUT_QS &lt; UINT8_MAX, <span class="stringliteral">&quot;Too large maximum output queue count&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    uint32_t burst_size;</div>
<div class="line">    uint32_t num_pkts;</div>
<div class="line">    uint32_t pkt_len;</div>
<div class="line">    uint32_t cache_size;</div>
<div class="line">} dynamic_defs_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    PRS_OK,</div>
<div class="line">    PRS_NOK,</div>
<div class="line">    PRS_TERM,</div>
<div class="line">    PRS_NOT_SUP</div>
<div class="line">} parse_result_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>prog_config_s prog_config_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    uint64_t copy_errs;</div>
<div class="line">    uint64_t trs;</div>
<div class="line">    uint64_t start_errs;</div>
<div class="line">    uint64_t trs_errs;</div>
<div class="line">    uint64_t buf_alloc_errs;</div>
<div class="line">    uint64_t compl_alloc_errs;</div>
<div class="line">    uint64_t pkt_alloc_errs;</div>
<div class="line">    uint64_t trs_poll_errs;</div>
<div class="line">    uint64_t trs_polled;</div>
<div class="line">    uint64_t fwd_pkts;</div>
<div class="line">    uint64_t discards;</div>
<div class="line">    uint64_t sched_cc;</div>
<div class="line">    uint64_t tot_cc;</div>
<div class="line">    uint64_t sched_rounds;</div>
<div class="line">    uint64_t pkt_cleanup;</div>
<div class="line">} stats_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a name="a1"></a><a class="code" href="group__odp__compiler__optim.html#ga205a8257879c02657e7c39ee7ad5e40a">ODP_ALIGNED_CACHE</a> {</div>
<div class="line">    prog_config_t *prog_config;</div>
<div class="line">    <a name="_a2"></a><a class="code" href="struct__odp__abi__dma__t.html">odp_dma_t</a> dma_handle;</div>
<div class="line">    <a name="_a3"></a><a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> compl_pool;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> copy_pool;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> trs_pool;</div>
<div class="line">    <a name="_a4"></a><a class="code" href="struct__odp__abi__queue__t.html">odp_queue_t</a> compl_q;</div>
<div class="line">    <a name="_a5"></a><a class="code" href="struct__odp__abi__stash__t.html">odp_stash_t</a> inflight_stash;</div>
<div class="line">    stats_t stats;</div>
<div class="line">    <span class="keywordtype">int</span> thr_idx;</div>
<div class="line">} thread_config_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>pktio_s {</div>
<div class="line">    <a name="_a6"></a><a class="code" href="structodp__pktout__queue__s.html">odp_pktout_queue_t</a> out_qs[MAX_OUT_QS];</div>
<div class="line">    <span class="keywordtype">char</span> *name;</div>
<div class="line">    <a name="_a7"></a><a class="code" href="struct__odp__abi__pktio__t.html">odp_pktio_t</a> handle;</div>
<div class="line">    uint8_t num_out_qs;</div>
<div class="line">} pktio_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <a name="_a8"></a><a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> src_pkts[MAX_BURST];</div>
<div class="line">    <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> dst_pkts[MAX_BURST];</div>
<div class="line">    pktio_t *pktio;</div>
<div class="line">    <span class="keywordtype">int</span> num;</div>
<div class="line">} transfer_t;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Function for initializing transfer structures */</span></div>
<div class="line"><span class="keyword">typedef</span> transfer_t *(*init_fn_t)(<a name="_a9"></a><a class="code" href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a> *trs_param,</div>
<div class="line">                 <a name="_a10"></a><a class="code" href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a> *compl_param, <a name="_a11"></a><a class="code" href="structodp__dma__seg__t.html">odp_dma_seg_t</a> *src_segs,</div>
<div class="line">                 <a class="code" href="structodp__dma__seg__t.html">odp_dma_seg_t</a> *dst_segs, pktio_t *pktio, thread_config_t *config);</div>
<div class="line"><span class="comment">/* Function for starting transfers */</span></div>
<div class="line"><span class="keyword">typedef</span> <a name="a12"></a><a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> (*start_fn_t)(<a class="code" href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a> *trs_param,</div>
<div class="line">                 <a class="code" href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a> *compl_param, thread_config_t *config);</div>
<div class="line"><span class="comment">/* Function for setting up packets for copy */</span></div>
<div class="line"><span class="keyword">typedef</span> void (*pkt_fn_t)(<a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkts[], <span class="keywordtype">int</span> num, pktio_t *pktio, init_fn_t init_fn,</div>
<div class="line">             start_fn_t start_fn, thread_config_t *config);</div>
<div class="line"><span class="comment">/* Function for draining and tearing down inflight operations */</span></div>
<div class="line"><span class="keyword">typedef</span> void (*drain_fn_t)(thread_config_t *config);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>prog_config_s {</div>
<div class="line">    uint8_t pktio_idx_map[<a name="a13"></a><a class="code" href="group__odp__packet__io.html#gac600157dd09955a9cee3f6618c757ee7">ODP_PKTIO_MAX_INDEX</a> + 1];</div>
<div class="line">    odph_thread_t thread_tbl[MAX_WORKERS];</div>
<div class="line">    thread_config_t thread_config[MAX_WORKERS];</div>
<div class="line">    pktio_t pktios[MAX_IFS];</div>
<div class="line">    dynamic_defs_t dyn_defs;</div>
<div class="line">    <a class="code" href="group__odp__initialization.html#ga8d362bd3c7c87ab5892ca63b15c375c0">odp_instance_t</a> <a name="a14"></a><a class="code" href="group__odp__initialization.html#ga076abe89a81ffb7a7ba46a912eca2166">odp_instance</a>;</div>
<div class="line">    <a name="_a15"></a><a class="code" href="structodp__barrier__s.html">odp_barrier_t</a> init_barrier;</div>
<div class="line">    <a class="code" href="structodp__barrier__s.html">odp_barrier_t</a> term_barrier;</div>
<div class="line">    <a name="_a16"></a><a class="code" href="structodp__atomic__u32__s.html">odp_atomic_u32_t</a> is_running;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> pktio_pool;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> copy_pool;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> trs_pool;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>{</div>
<div class="line">        init_fn_t init_fn;</div>
<div class="line">        start_fn_t start_fn;</div>
<div class="line">        pkt_fn_t pkt_fn;</div>
<div class="line">        drain_fn_t drain_fn;</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    uint64_t inflight_obj_size;</div>
<div class="line">    uint32_t burst_size;</div>
<div class="line">    uint32_t num_pkts;</div>
<div class="line">    uint32_t pkt_len;</div>
<div class="line">    uint32_t cache_size;</div>
<div class="line">    uint32_t num_inflight;</div>
<div class="line">    uint32_t trs_cache_size;</div>
<div class="line">    uint32_t compl_cache_size;</div>
<div class="line">    uint32_t stash_cache_size;</div>
<div class="line">    <span class="keywordtype">double</span> time_sec;</div>
<div class="line">    <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> seg_free;</div>
<div class="line">    <a class="code" href="group__odp__stash.html#ga16d8b84bdebda58ced5df34d5ce36efb">odp_stash_type_t</a> stash_type;</div>
<div class="line">    <span class="keywordtype">int</span> num_thrs;</div>
<div class="line">    uint8_t num_ifs;</div>
<div class="line">    uint8_t copy_type;</div>
<div class="line">} prog_config_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkts[MAX_BURST * 2U];</div>
<div class="line">    pktio_t *pktio;</div>
<div class="line">    <span class="keywordtype">int</span> num;</div>
<div class="line">} pkt_vec_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> prog_config_t *prog_conf;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> terminate(<span class="keywordtype">int</span> signal <a name="a17"></a><a class="code" href="group__odp__compiler__optim.html#ga45a2684e38da3e71b300bc89de5d6b52">ODP_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">    <a name="a18"></a><a class="code" href="group__odp__atomic.html#gaa6d2d16a9ef9897b1442d77e41f7101e">odp_atomic_store_u32</a>(&amp;prog_conf-&gt;is_running, 0U);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> init_config(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a name="_a19"></a><a class="code" href="structodp__dma__capability__t.html">odp_dma_capability_t</a> dma_capa;</div>
<div class="line">    uint32_t burst_size;</div>
<div class="line">    <a name="_a20"></a><a class="code" href="structodp__pool__capability__t.html">odp_pool_capability_t</a> pool_capa;</div>
<div class="line">    <a name="_a21"></a><a class="code" href="structodp__pool__param__t.html">odp_pool_param_t</a> pool_param;</div>
<div class="line">    thread_config_t *thr;</div>
<div class="line"> </div>
<div class="line">    memset(config, 0, <span class="keyword">sizeof</span>(*config));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a22"></a><a class="code" href="group__odp__dma.html#gae6f4284ba090db40a94d2ef041964691">odp_dma_capability</a>(&amp;dma_capa) == 0) {</div>
<div class="line">        burst_size = ODPH_MIN(dma_capa.<a name="a23"></a><a class="code" href="structodp__dma__capability__t.html#a6a07eb119b331a76b59911aa494bb609">max_src_segs</a>, dma_capa.<a name="a24"></a><a class="code" href="structodp__dma__capability__t.html#a5c4d5ed59d58a33ee2633cf1a85c7cfe">max_dst_segs</a>);</div>
<div class="line">        burst_size = ODPH_MIN(burst_size, MAX_BURST);</div>
<div class="line">        config-&gt;dyn_defs.burst_size = burst_size;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a25"></a><a class="code" href="group__odp__pool.html#ga2c6f42e9611904eac84872bf8f913b75">odp_pool_capability</a>(&amp;pool_capa) == 0) {</div>
<div class="line">        config-&gt;dyn_defs.num_pkts = pool_capa.<a name="a26"></a><a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a name="a27"></a><a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a> &gt; 0U ?</div>
<div class="line">                        ODPH_MIN(pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a>, DEF_CNT) : DEF_CNT;</div>
<div class="line">        config-&gt;dyn_defs.pkt_len = pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a name="a28"></a><a class="code" href="structodp__pool__capability__t.html#affefe3b2c3a473c37d08fcd2929e84c2">max_len</a> &gt; 0U ?</div>
<div class="line">                        ODPH_MIN(pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#affefe3b2c3a473c37d08fcd2929e84c2">max_len</a>, DEF_LEN) : DEF_LEN;</div>
<div class="line">        <a name="a29"></a><a class="code" href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a>(&amp;pool_param);</div>
<div class="line">        config-&gt;dyn_defs.cache_size = pool_param.<a name="a30"></a><a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a name="a31"></a><a class="code" href="structodp__pool__param__t.html#a7cae0f09e3ba15b1a6885adb3baa80fe">cache_size</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    config-&gt;pktio_pool = <a name="a32"></a><a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>;</div>
<div class="line">    config-&gt;copy_pool = <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>;</div>
<div class="line">    config-&gt;trs_pool = <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>;</div>
<div class="line">    config-&gt;burst_size = config-&gt;dyn_defs.burst_size;</div>
<div class="line">    config-&gt;num_pkts = config-&gt;dyn_defs.num_pkts;</div>
<div class="line">    config-&gt;pkt_len = config-&gt;dyn_defs.pkt_len;</div>
<div class="line">    config-&gt;cache_size = config-&gt;dyn_defs.cache_size;</div>
<div class="line">    config-&gt;time_sec = DEF_TIME;</div>
<div class="line">    config-&gt;num_thrs = DEF_WORKERS;</div>
<div class="line">    config-&gt;copy_type = DEF_CPY_TYPE;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; MAX_WORKERS; ++i) {</div>
<div class="line">        thr = &amp;config-&gt;thread_config[i];</div>
<div class="line">        thr-&gt;dma_handle = <a name="a33"></a><a class="code" href="group__odp__dma.html#gaf0a75419d62bf83022397a55082ba67b">ODP_DMA_INVALID</a>;</div>
<div class="line">        thr-&gt;compl_pool = <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>;</div>
<div class="line">        thr-&gt;compl_q = <a name="a34"></a><a class="code" href="group__odp__queue.html#ga771259a58e71e065e0d00d2fc431b014">ODP_QUEUE_INVALID</a>;</div>
<div class="line">        thr-&gt;inflight_stash = <a name="a35"></a><a class="code" href="group__odp__stash.html#ga34969641fe94a21fcd737377315ff5a0">ODP_STASH_INVALID</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0U; i &lt; MAX_IFS; ++i)</div>
<div class="line">        config-&gt;pktios[i].handle = <a name="a36"></a><a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_usage(dynamic_defs_t *dyn_defs)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;DMA performance tester with packet I/O. Receive and forward packets after\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;software copy or DMA offload copy.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;Usage: &quot;</span> PROG_NAME <span class="stringliteral">&quot; OPTIONS\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  E.g. &quot;</span> PROG_NAME <span class="stringliteral">&quot; -i eth0\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;       &quot;</span> PROG_NAME <span class="stringliteral">&quot; -i eth0 -t 0\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;       &quot;</span> PROG_NAME <span class="stringliteral">&quot; -i eth0 -t 1 -b 15 -l 4096 -c 5\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;Mandatory OPTIONS:\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -i, --interfaces   Ethernet interfaces for packet I/O, comma-separated, no\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;                     spaces.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;Optional OPTIONS:\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -t, --copy_type    Type of copy. %u by default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;                         0: SW\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;                         1: DMA with event completion\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;                         2: DMA with poll completion\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -b, --burst_size   Copy burst size. This many packets are accumulated before\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;                     copy. %u by default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -n, --num_pkts     Number of packet buffers allocated for packet I/O pool.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;                     %u by default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -l, --pkt_len      Maximum size of packet buffers in packet I/O pool. %u by\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;                     default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -c, --worker_count Amount of workers. %u by default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -C, --cache_size   Maximum cache size for pools. %u by default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -T, --time_sec     Time in seconds to run. 0 means infinite. %u by default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -s, --seg_free     Use DMA source segment free offload. Disabled by default.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -h, --help         This help.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span>, DEF_CPY_TYPE, dyn_defs-&gt;burst_size, dyn_defs-&gt;num_pkts, dyn_defs-&gt;pkt_len,</div>
<div class="line">           DEF_WORKERS, dyn_defs-&gt;cache_size, DEF_TIME);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> parse_interfaces(prog_config_t *config, <span class="keyword">const</span> <span class="keywordtype">char</span> *optarg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *tmp_str = strdup(optarg), *tmp;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (tmp_str == NULL)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">    tmp = strtok(tmp_str, DELIMITER);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (tmp &amp;&amp; config-&gt;num_ifs &lt; MAX_IFS) {</div>
<div class="line">        config-&gt;pktios[config-&gt;num_ifs].name = strdup(tmp);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (config-&gt;pktios[config-&gt;num_ifs].name != NULL)</div>
<div class="line">            ++config-&gt;num_ifs;</div>
<div class="line"> </div>
<div class="line">        tmp = strtok(NULL, DELIMITER);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    free(tmp_str);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> get_stash_capa(<a name="_a37"></a><a class="code" href="structodp__stash__capability__t.html">odp_stash_capability_t</a> *stash_capa, <a class="code" href="group__odp__stash.html#ga16d8b84bdebda58ced5df34d5ce36efb">odp_stash_type_t</a> *stash_type)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a38"></a><a class="code" href="group__odp__stash.html#gab149e5a341a9f47b6650eb9b21debfcd">odp_stash_capability</a>(stash_capa, <a name="a39"></a><a class="code" href="group__odp__stash.html#gga16d8b84bdebda58ced5df34d5ce36efba9c8c00cc25ce0137b69250aebc763d67">ODP_STASH_TYPE_FIFO</a>) == 0) {</div>
<div class="line">        *stash_type = <a class="code" href="group__odp__stash.html#gga16d8b84bdebda58ced5df34d5ce36efba9c8c00cc25ce0137b69250aebc763d67">ODP_STASH_TYPE_FIFO</a>;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__stash.html#gab149e5a341a9f47b6650eb9b21debfcd">odp_stash_capability</a>(stash_capa, <a name="a40"></a><a class="code" href="group__odp__stash.html#gga16d8b84bdebda58ced5df34d5ce36efba7f0e9c9b0436941157f94e2c4504f053">ODP_STASH_TYPE_DEFAULT</a>) == 0) {</div>
<div class="line">        *stash_type = <a class="code" href="group__odp__stash.html#gga16d8b84bdebda58ced5df34d5ce36efba7f0e9c9b0436941157f94e2c4504f053">ODP_STASH_TYPE_DEFAULT</a>;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> parse_result_t check_options(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structodp__dma__capability__t.html">odp_dma_capability_t</a> dma_capa;</div>
<div class="line">    uint32_t burst_size;</div>
<div class="line">    <a class="code" href="structodp__stash__capability__t.html">odp_stash_capability_t</a> stash_capa;</div>
<div class="line">    <span class="keyword">const</span> uint64_t obj_size = <span class="keyword">sizeof</span>(<a name="a41"></a><a class="code" href="group__odp__dma.html#ga840017234a4ee2e8f5c6b240094ab50d">odp_dma_transfer_id_t</a>);</div>
<div class="line">    uint64_t max_num;</div>
<div class="line">    <a class="code" href="structodp__pool__capability__t.html">odp_pool_capability_t</a> pool_capa;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;num_ifs == 0U) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid number of interfaces: %u (min: 1, max: %u)\n&quot;</span>, config-&gt;num_ifs,</div>
<div class="line">             MAX_IFS);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;copy_type != SW_COPY &amp;&amp; config-&gt;copy_type != DMA_COPY_EV &amp;&amp;</div>
<div class="line">        config-&gt;copy_type != DMA_COPY_POLL) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid copy type: %u\n&quot;</span>, config-&gt;copy_type);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;num_thrs &lt;= 0 || config-&gt;num_thrs &gt; MAX_WORKERS) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid worker count: %d (min: 1, max: %d)\n&quot;</span>, config-&gt;num_thrs,</div>
<div class="line">             MAX_WORKERS);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__dma.html#gae6f4284ba090db40a94d2ef041964691">odp_dma_capability</a>(&amp;dma_capa) &lt; 0) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error querying DMA capabilities\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;seg_free &amp;&amp; dma_capa.<a name="a42"></a><a class="code" href="structodp__dma__capability__t.html#aac49007df1af6390e2c08d93ac4a5692">src_seg_free</a> == 0) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Unsupported source segment free by DMA\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOT_SUP;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ((uint32_t)config-&gt;num_thrs &gt; dma_capa.<a name="a43"></a><a class="code" href="structodp__dma__capability__t.html#a1e1c77c1c0a6c0cbf6667a8896710401">max_sessions</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Unsupported DMA session count: %d (max: %u)\n&quot;</span>, config-&gt;num_thrs,</div>
<div class="line">             dma_capa.<a class="code" href="structodp__dma__capability__t.html#a1e1c77c1c0a6c0cbf6667a8896710401">max_sessions</a>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOT_SUP;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    burst_size = ODPH_MIN(dma_capa.<a class="code" href="structodp__dma__capability__t.html#a6a07eb119b331a76b59911aa494bb609">max_src_segs</a>, dma_capa.<a class="code" href="structodp__dma__capability__t.html#a5c4d5ed59d58a33ee2633cf1a85c7cfe">max_dst_segs</a>);</div>
<div class="line">    burst_size = ODPH_MIN(burst_size, MAX_BURST);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;burst_size == 0U || config-&gt;burst_size &gt; burst_size) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid segment count for DMA: %u (min: 1, max: %u)\n&quot;</span>,</div>
<div class="line">             config-&gt;burst_size, burst_size);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;pkt_len &gt; dma_capa.<a name="a44"></a><a class="code" href="structodp__dma__capability__t.html#a80818e2c713a85d22892e09a69a6c03c">max_seg_len</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid packet length for DMA: %u (max: %u)\n&quot;</span>, config-&gt;pkt_len,</div>
<div class="line">             dma_capa.<a class="code" href="structodp__dma__capability__t.html#a80818e2c713a85d22892e09a69a6c03c">max_seg_len</a>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    config-&gt;num_inflight = dma_capa.<a name="a45"></a><a class="code" href="structodp__dma__capability__t.html#a26e126959b9e9c29983140fd8143bbbc">max_transfers</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__pool.html#ga2c6f42e9611904eac84872bf8f913b75">odp_pool_capability</a>(&amp;pool_capa) &lt; 0) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error querying pool capabilities\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;cache_size &lt; pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a name="a46"></a><a class="code" href="structodp__pool__capability__t.html#a403f02179401db3944b5a37b84447344">min_cache_size</a> ||</div>
<div class="line">        config-&gt;cache_size &gt; pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a name="a47"></a><a class="code" href="structodp__pool__capability__t.html#ad6bcac8eb44c69a7d84bdfe53bc30f95">max_cache_size</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid pool cache size: %u (min: %u, max: %u)\n&quot;</span>, config-&gt;cache_size,</div>
<div class="line">             pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#a403f02179401db3944b5a37b84447344">min_cache_size</a>, pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#ad6bcac8eb44c69a7d84bdfe53bc30f95">max_cache_size</a>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;copy_type != SW_COPY)</div>
<div class="line">        config-&gt;trs_cache_size = ODPH_MIN(ODPH_MAX(config-&gt;cache_size,</div>
<div class="line">                               pool_capa.<a name="a48"></a><a class="code" href="structodp__pool__capability__t.html#ab8e07d245189161743cfa068f1b3d681">buf</a>.<a class="code" href="structodp__pool__capability__t.html#a403f02179401db3944b5a37b84447344">min_cache_size</a>),</div>
<div class="line">                          pool_capa.<a class="code" href="structodp__pool__capability__t.html#ab8e07d245189161743cfa068f1b3d681">buf</a>.<a class="code" href="structodp__pool__capability__t.html#ad6bcac8eb44c69a7d84bdfe53bc30f95">max_cache_size</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;copy_type == DMA_COPY_EV) {</div>
<div class="line">        <span class="keywordflow">if</span> ((dma_capa.<a name="a49"></a><a class="code" href="structodp__dma__capability__t.html#a794184c7c63c20cc0dc8d07507cc4536">compl_mode_mask</a> &amp; <a name="a50"></a><a class="code" href="group__odp__dma.html#ga2aa0a1bb1f1c5a52d30b6f6d6b1dfc25">ODP_DMA_COMPL_EVENT</a>) == 0U ||</div>
<div class="line">            !dma_capa.<a name="a51"></a><a class="code" href="structodp__dma__capability__t.html#a6a5465fd129b7c012a96d4347c3f7c20">queue_type_sched</a>) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Unsupported DMA completion mode: event (mode support: %x, &quot;</span></div>
<div class="line">                 <span class="stringliteral">&quot;scheduled queue support: %u)\n&quot;</span>, dma_capa.<a class="code" href="structodp__dma__capability__t.html#a794184c7c63c20cc0dc8d07507cc4536">compl_mode_mask</a>,</div>
<div class="line">                 dma_capa.<a class="code" href="structodp__dma__capability__t.html#a6a5465fd129b7c012a96d4347c3f7c20">queue_type_sched</a>);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOT_SUP;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ((uint32_t)config-&gt;num_thrs &gt; dma_capa.<a name="a52"></a><a class="code" href="structodp__dma__capability__t.html#a4e255ffd87f26932f302c88c199cd9aa">pool</a>.<a name="a53"></a><a class="code" href="structodp__dma__pool__capability__t.html#ad1a2cd15d93c9c9e3472706a51724c49">max_pools</a>) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Invalid amount of DMA completion pools: %d (max: %u)\n&quot;</span>,</div>
<div class="line">                 config-&gt;num_thrs, dma_capa.<a class="code" href="structodp__dma__capability__t.html#a4e255ffd87f26932f302c88c199cd9aa">pool</a>.<a class="code" href="structodp__dma__pool__capability__t.html#ad1a2cd15d93c9c9e3472706a51724c49">max_pools</a>);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (config-&gt;num_inflight &gt; dma_capa.<a class="code" href="structodp__dma__capability__t.html#a4e255ffd87f26932f302c88c199cd9aa">pool</a>.<a name="a54"></a><a class="code" href="structodp__dma__pool__capability__t.html#af02ea9bba95e27337ecf8e2a58c85c4b">max_num</a>) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Invalid amount of DMA completion events: %u (max: %u)\n&quot;</span>,</div>
<div class="line">                 config-&gt;num_inflight, dma_capa.<a class="code" href="structodp__dma__capability__t.html#a4e255ffd87f26932f302c88c199cd9aa">pool</a>.<a class="code" href="structodp__dma__pool__capability__t.html#af02ea9bba95e27337ecf8e2a58c85c4b">max_num</a>);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        config-&gt;compl_cache_size = ODPH_MIN(ODPH_MAX(config-&gt;cache_size,</div>
<div class="line">                                 dma_capa.<a class="code" href="structodp__dma__capability__t.html#a4e255ffd87f26932f302c88c199cd9aa">pool</a>.<a name="a55"></a><a class="code" href="structodp__dma__pool__capability__t.html#a505745b8d9a767f3b34e6065fce7000b">min_cache_size</a>),</div>
<div class="line">                            dma_capa.<a class="code" href="structodp__dma__capability__t.html#a4e255ffd87f26932f302c88c199cd9aa">pool</a>.<a name="a56"></a><a class="code" href="structodp__dma__pool__capability__t.html#a7457ee84b879347e19abc0b4a42b2c6d">max_cache_size</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (config-&gt;copy_type == DMA_COPY_POLL) {</div>
<div class="line">        <span class="keywordflow">if</span> ((dma_capa.<a class="code" href="structodp__dma__capability__t.html#a794184c7c63c20cc0dc8d07507cc4536">compl_mode_mask</a> &amp; <a name="a57"></a><a class="code" href="group__odp__dma.html#gafe66220e41350ee67d69e198278d7df5">ODP_DMA_COMPL_POLL</a>) == 0U) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Unsupported DMA completion mode: poll (mode support: %x)\n&quot;</span>,</div>
<div class="line">                 dma_capa.<a class="code" href="structodp__dma__capability__t.html#a794184c7c63c20cc0dc8d07507cc4536">compl_mode_mask</a>);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOT_SUP;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!get_stash_capa(&amp;stash_capa, &amp;config-&gt;stash_type)) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error querying stash capabilities\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ((uint32_t)config-&gt;num_thrs &gt; stash_capa.<a name="a58"></a><a class="code" href="structodp__stash__capability__t.html#a71569d956734bf7a75fa332aba3c337c">max_stashes</a>) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Invalid amount of stashes: %d (max: %u)\n&quot;</span>, config-&gt;num_thrs,</div>
<div class="line">                 stash_capa.<a class="code" href="structodp__stash__capability__t.html#a71569d956734bf7a75fa332aba3c337c">max_stashes</a>);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (obj_size == <span class="keyword">sizeof</span>(uint8_t)) {</div>
<div class="line">            max_num = stash_capa.<a name="a59"></a><a class="code" href="structodp__stash__capability__t.html#a21ba9037994bf1eca0420d9f8d70a702">max_num</a>.<a name="a60"></a><a class="code" href="structodp__stash__capability__t.html#aef8c42140f5888b7bfe6fa6d5ebaeda1">u8</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (obj_size == <span class="keyword">sizeof</span>(uint16_t)) {</div>
<div class="line">            max_num = stash_capa.<a class="code" href="structodp__stash__capability__t.html#a21ba9037994bf1eca0420d9f8d70a702">max_num</a>.<a name="a61"></a><a class="code" href="structodp__stash__capability__t.html#a0817e9366c8f070d5d48ea880fa820ad">u16</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (obj_size &lt;= <span class="keyword">sizeof</span>(uint32_t)) {</div>
<div class="line">            max_num = stash_capa.<a class="code" href="structodp__stash__capability__t.html#a21ba9037994bf1eca0420d9f8d70a702">max_num</a>.<a name="a62"></a><a class="code" href="structodp__stash__capability__t.html#aec9df3d56b9e395346bbe01cb87c303d">u32</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (obj_size &lt;= <span class="keyword">sizeof</span>(uint64_t)) {</div>
<div class="line">            max_num = stash_capa.<a class="code" href="structodp__stash__capability__t.html#a21ba9037994bf1eca0420d9f8d70a702">max_num</a>.<a name="a63"></a><a class="code" href="structodp__stash__capability__t.html#a9f9d3a4981429043ac1dd924aa15cd05">u64</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (obj_size &lt;= <span class="keyword">sizeof</span>(<a name="_a64"></a><a class="code" href="structodp__u128__s.html">odp_u128_t</a>)) {</div>
<div class="line">            max_num = stash_capa.<a class="code" href="structodp__stash__capability__t.html#a21ba9037994bf1eca0420d9f8d70a702">max_num</a>.<a name="a65"></a><a class="code" href="structodp__stash__capability__t.html#a385c6b0fc172a58355ed0f13d3c5b330">u128</a>;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Invalid stash object size: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, obj_size);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (config-&gt;num_inflight &gt; max_num) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Invalid stash size: %u (max: %&quot;</span> PRIu64 <span class="stringliteral">&quot;)\n&quot;</span>,</div>
<div class="line">                 config-&gt;num_inflight, max_num);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        config-&gt;inflight_obj_size = obj_size;</div>
<div class="line">        config-&gt;stash_cache_size = ODPH_MIN(config-&gt;cache_size, stash_capa.<a name="a66"></a><a class="code" href="structodp__stash__capability__t.html#acd7eb1a1e80cb028fb558beedee44e7c">max_cache_size</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;num_pkts == 0U ||</div>
<div class="line">        (pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a> &gt; 0U &amp;&amp; config-&gt;num_pkts &gt; pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a>)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid pool packet count: %u (min: 1, max: %u)\n&quot;</span>, config-&gt;num_pkts,</div>
<div class="line">             pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;pkt_len == 0U ||</div>
<div class="line">        (pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#affefe3b2c3a473c37d08fcd2929e84c2">max_len</a> &gt; 0U &amp;&amp; config-&gt;pkt_len &gt; pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#affefe3b2c3a473c37d08fcd2929e84c2">max_len</a>)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid pool packet length: %u (min: 1, max: %u)\n&quot;</span>, config-&gt;pkt_len,</div>
<div class="line">             pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#affefe3b2c3a473c37d08fcd2929e84c2">max_len</a>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;num_inflight &gt; pool_capa.<a class="code" href="structodp__pool__capability__t.html#ab8e07d245189161743cfa068f1b3d681">buf</a>.<a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Invalid pool buffer count: %u (max: %u)\n&quot;</span>, config-&gt;num_inflight,</div>
<div class="line">             pool_capa.<a class="code" href="structodp__pool__capability__t.html#ab8e07d245189161743cfa068f1b3d681">buf</a>.<a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> PRS_OK;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> parse_result_t parse_options(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv, prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> opt;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>option longopts[] = {</div>
<div class="line">        { <span class="stringliteral">&quot;interfaces&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;i&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;copy_type&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;t&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;burst_size&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;b&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;num_pkts&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;n&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;pkt_len&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;l&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;worker_count&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;c&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;cache_size&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;C&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;time_sec&quot;</span>, required_argument, NULL, <span class="charliteral">&#39;T&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;seg_free&quot;</span>, no_argument, NULL, <span class="charliteral">&#39;s&#39;</span> },</div>
<div class="line">        { <span class="stringliteral">&quot;help&quot;</span>, no_argument, NULL, <span class="charliteral">&#39;h&#39;</span> },</div>
<div class="line">        { NULL, 0, NULL, 0 }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *shortopts = <span class="stringliteral">&quot;i:t:b:n:l:c:C:T:sh&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    init_config(config);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        opt = getopt_long(argc, argv, shortopts, longopts, NULL);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (opt == -1)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line">            parse_interfaces(config, optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line">            config-&gt;copy_type = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div>
<div class="line">            config-&gt;burst_size = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div>
<div class="line">            config-&gt;num_pkts = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line">            config-&gt;pkt_len = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line">            config-&gt;num_thrs = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line">            config-&gt;cache_size = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line">            config-&gt;time_sec = atof(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line">            config-&gt;seg_free = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">            print_usage(&amp;config-&gt;dyn_defs);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_TERM;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>:</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            print_usage(&amp;config-&gt;dyn_defs);</div>
<div class="line">            <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> check_options(config);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> parse_result_t setup_program(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv, prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>sigaction action = { .sa_handler = terminate };</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (sigemptyset(&amp;action.sa_mask) == -1 || sigaddset(&amp;action.sa_mask, SIGINT) == -1 ||</div>
<div class="line">        sigaddset(&amp;action.sa_mask, SIGTERM) == -1 ||</div>
<div class="line">        sigaddset(&amp;action.sa_mask, SIGHUP) == -1 || sigaction(SIGINT, &amp;action, NULL) == -1 ||</div>
<div class="line">        sigaction(SIGTERM, &amp;action, NULL) == -1 || sigaction(SIGHUP, &amp;action, NULL) == -1) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error installing signal handler\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> PRS_NOK;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> parse_options(argc, argv, config);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> send_packets(<a class="code" href="structodp__pktout__queue__s.html">odp_pktout_queue_t</a> queue, <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkts[], <span class="keywordtype">int</span> num)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret = <a name="a67"></a><a class="code" href="group__odp__packet__io.html#gacb5db3a908775522e316c8b8ccb36498">odp_pktout_send</a>(queue, pkts, num);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a68"></a><a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(ret &lt; num)) {</div>
<div class="line">        ret = ret &lt; 0 ? 0 : ret;</div>
<div class="line">        <a name="a69"></a><a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(&amp;pkts[ret], num - ret);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sw_copy_and_send_packets(<a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkts[], <span class="keywordtype">int</span> num, pktio_t *pktio,</div>
<div class="line">                     init_fn_t init_fn <a class="code" href="group__odp__compiler__optim.html#ga45a2684e38da3e71b300bc89de5d6b52">ODP_UNUSED</a>, start_fn_t start_fn <a class="code" href="group__odp__compiler__optim.html#ga45a2684e38da3e71b300bc89de5d6b52">ODP_UNUSED</a>,</div>
<div class="line">                     thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> old_pkt, new_pkt;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> copy_pool = config-&gt;copy_pool;</div>
<div class="line">    <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> out_pkts[num];</div>
<div class="line">    <span class="keywordtype">int</span> num_out_pkts = 0, num_sent;</div>
<div class="line">    stats_t *stats = &amp;config-&gt;stats;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num; ++i) {</div>
<div class="line">        old_pkt = pkts[i];</div>
<div class="line">        new_pkt = <a name="a70"></a><a class="code" href="group__odp__packet.html#ga3446c95a98cbe4ccfe0b425d49bd5886">odp_packet_copy</a>(old_pkt, copy_pool);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (new_pkt != <a name="a71"></a><a class="code" href="group__odp__packet.html#gaba8cf39480fb133ab8299155d4ef63dc">ODP_PACKET_INVALID</a>)</div>
<div class="line">            out_pkts[num_out_pkts++] = new_pkt;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            ++stats-&gt;copy_errs;</div>
<div class="line"> </div>
<div class="line">        <a name="a72"></a><a class="code" href="group__odp__packet.html#ga8a5e2cd674828c5415f3695f266347d7">odp_packet_free</a>(old_pkt);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (num_out_pkts &gt; 0) {</div>
<div class="line">        num_sent = send_packets(pktio-&gt;out_qs[config-&gt;thr_idx % pktio-&gt;num_out_qs],</div>
<div class="line">                    out_pkts, num_out_pkts);</div>
<div class="line">        stats-&gt;fwd_pkts += num_sent;</div>
<div class="line">        stats-&gt;discards += num_out_pkts - num_sent;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> transfer_t *init_dma_ev_trs(<a class="code" href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a> *trs_param,</div>
<div class="line">                   <a class="code" href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a> *compl_param, <a class="code" href="structodp__dma__seg__t.html">odp_dma_seg_t</a> *src_segs,</div>
<div class="line">                   <a class="code" href="structodp__dma__seg__t.html">odp_dma_seg_t</a> *dst_segs, pktio_t *pktio,</div>
<div class="line">                   thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a name="_a73"></a><a class="code" href="struct__odp__abi__buffer__t.html">odp_buffer_t</a> buf;</div>
<div class="line">    stats_t *stats = &amp;config-&gt;stats;</div>
<div class="line">    transfer_t *trs;</div>
<div class="line">    <a class="code" href="struct__odp__abi__dma__t.html">odp_dma_compl_t</a> c_ev;</div>
<div class="line"> </div>
<div class="line">    buf = <a name="a74"></a><a class="code" href="group__odp__buffer.html#ga2d7e4d7385b794f5016c000a94361dbd">odp_buffer_alloc</a>(config-&gt;trs_pool);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(buf == <a name="a75"></a><a class="code" href="group__odp__buffer.html#gabdd0bdf9a225e7fca8d3bdd3d717adda">ODP_BUFFER_INVALID</a>)) {</div>
<div class="line">        ++stats-&gt;buf_alloc_errs;</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    trs = (transfer_t *)<a name="a76"></a><a class="code" href="group__odp__buffer.html#ga48f34caa699db93599513ffc14ba0dd2">odp_buffer_addr</a>(buf);</div>
<div class="line">    trs-&gt;num = 0;</div>
<div class="line">    trs-&gt;pktio = pktio;</div>
<div class="line">    trs_param-&gt;<a name="a77"></a><a class="code" href="structodp__dma__transfer__param__t.html#ae3f4bc6bf37144f4215e89bf10abd4a4">src_format</a> = <a name="a78"></a><a class="code" href="group__odp__dma.html#gga3c7d7bad5e3ca4c6cf4345d23eb70cb7a9db9688d9acd390a0b96872d8b5add3b">ODP_DMA_FORMAT_PACKET</a>;</div>
<div class="line">    trs_param-&gt;<a name="a79"></a><a class="code" href="structodp__dma__transfer__param__t.html#a2d3e246125f72aae8b476696a18a5fd7">dst_format</a> = <a class="code" href="group__odp__dma.html#gga3c7d7bad5e3ca4c6cf4345d23eb70cb7a9db9688d9acd390a0b96872d8b5add3b">ODP_DMA_FORMAT_PACKET</a>;</div>
<div class="line">    trs_param-&gt;<a name="a80"></a><a class="code" href="structodp__dma__transfer__param__t.html#a65188219f8d96493650f1c17d97d0e95">num_src</a> = 0U;</div>
<div class="line">    trs_param-&gt;<a name="a81"></a><a class="code" href="structodp__dma__transfer__param__t.html#a3b5c3e39d127e33e5fca3b07127da92d">num_dst</a> = 0U;</div>
<div class="line">    trs_param-&gt;<a name="a82"></a><a class="code" href="structodp__dma__transfer__param__t.html#a9e1637405ed4b819cf28ccf584479447">src_seg</a> = src_segs;</div>
<div class="line">    trs_param-&gt;<a name="a83"></a><a class="code" href="structodp__dma__transfer__param__t.html#a2c22dc525c8cd647c57448041e83a18a">dst_seg</a> = dst_segs;</div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;prog_config-&gt;seg_free)</div>
<div class="line">        trs_param-&gt;<a name="a84"></a><a class="code" href="structodp__dma__transfer__param__t.html#a14d2df3de60f01fe7907969a066468ee">opts</a>.seg_free = 1;</div>
<div class="line">    compl_param-&gt;<a name="a85"></a><a class="code" href="structodp__dma__compl__param__t.html#ac1d7fa63b92cea3a3cfc14189ecf2cb2">compl_mode</a> = <a class="code" href="group__odp__dma.html#ga2aa0a1bb1f1c5a52d30b6f6d6b1dfc25">ODP_DMA_COMPL_EVENT</a>;</div>
<div class="line">    c_ev = <a name="a86"></a><a class="code" href="group__odp__dma.html#gafefc13033141d1e2721836c9cca774ad">odp_dma_compl_alloc</a>(config-&gt;compl_pool);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(c_ev == <a name="a87"></a><a class="code" href="group__odp__dma.html#ga4fe5f67b46f058c22bbca3a28c971228">ODP_DMA_COMPL_INVALID</a>)) {</div>
<div class="line">        <a name="a88"></a><a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(buf);</div>
<div class="line">        ++stats-&gt;compl_alloc_errs;</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    compl_param-&gt;<a name="a89"></a><a class="code" href="structodp__dma__compl__param__t.html#a26bf442af2415249c099856a03da9679">event</a> = <a name="a90"></a><a class="code" href="group__odp__dma.html#ga5a530b0db782f8e9738f27cddb2f3c84">odp_dma_compl_to_event</a>(c_ev);</div>
<div class="line">    compl_param-&gt;<a name="a91"></a><a class="code" href="structodp__dma__compl__param__t.html#af36f59dce8a9694ffa72f550434e9cf7">queue</a> = config-&gt;compl_q;</div>
<div class="line">    compl_param-&gt;<a name="a92"></a><a class="code" href="structodp__dma__compl__param__t.html#a1cab017a5849301cec7e6f93b4efff9e">user_ptr</a> = buf;</div>
<div class="line">    memset(src_segs, 0, <span class="keyword">sizeof</span>(*src_segs) * MAX_BURST);</div>
<div class="line">    memset(dst_segs, 0, <span class="keyword">sizeof</span>(*dst_segs) * MAX_BURST);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> trs;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> transfer_t *init_dma_poll_trs(<a class="code" href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a> *trs_param,</div>
<div class="line">                     <a class="code" href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a> *compl_param, <a class="code" href="structodp__dma__seg__t.html">odp_dma_seg_t</a> *src_segs,</div>
<div class="line">                     <a class="code" href="structodp__dma__seg__t.html">odp_dma_seg_t</a> *dst_segs, pktio_t *pktio,</div>
<div class="line">                     thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__buffer__t.html">odp_buffer_t</a> buf;</div>
<div class="line">    stats_t *stats = &amp;config-&gt;stats;</div>
<div class="line">    transfer_t *trs;</div>
<div class="line"> </div>
<div class="line">    buf = <a class="code" href="group__odp__buffer.html#ga2d7e4d7385b794f5016c000a94361dbd">odp_buffer_alloc</a>(config-&gt;trs_pool);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(buf == <a class="code" href="group__odp__buffer.html#gabdd0bdf9a225e7fca8d3bdd3d717adda">ODP_BUFFER_INVALID</a>)) {</div>
<div class="line">        ++stats-&gt;buf_alloc_errs;</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    trs = (transfer_t *)<a class="code" href="group__odp__buffer.html#ga48f34caa699db93599513ffc14ba0dd2">odp_buffer_addr</a>(buf);</div>
<div class="line">    trs-&gt;num = 0;</div>
<div class="line">    trs-&gt;pktio = pktio;</div>
<div class="line">    trs_param-&gt;<a class="code" href="structodp__dma__transfer__param__t.html#ae3f4bc6bf37144f4215e89bf10abd4a4">src_format</a> = <a class="code" href="group__odp__dma.html#gga3c7d7bad5e3ca4c6cf4345d23eb70cb7a9db9688d9acd390a0b96872d8b5add3b">ODP_DMA_FORMAT_PACKET</a>;</div>
<div class="line">    trs_param-&gt;<a class="code" href="structodp__dma__transfer__param__t.html#a2d3e246125f72aae8b476696a18a5fd7">dst_format</a> = <a class="code" href="group__odp__dma.html#gga3c7d7bad5e3ca4c6cf4345d23eb70cb7a9db9688d9acd390a0b96872d8b5add3b">ODP_DMA_FORMAT_PACKET</a>;</div>
<div class="line">    trs_param-&gt;<a class="code" href="structodp__dma__transfer__param__t.html#a65188219f8d96493650f1c17d97d0e95">num_src</a> = 0U;</div>
<div class="line">    trs_param-&gt;<a class="code" href="structodp__dma__transfer__param__t.html#a3b5c3e39d127e33e5fca3b07127da92d">num_dst</a> = 0U;</div>
<div class="line">    trs_param-&gt;<a class="code" href="structodp__dma__transfer__param__t.html#a9e1637405ed4b819cf28ccf584479447">src_seg</a> = src_segs;</div>
<div class="line">    trs_param-&gt;<a class="code" href="structodp__dma__transfer__param__t.html#a2c22dc525c8cd647c57448041e83a18a">dst_seg</a> = dst_segs;</div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;prog_config-&gt;seg_free)</div>
<div class="line">        trs_param-&gt;<a class="code" href="structodp__dma__transfer__param__t.html#a14d2df3de60f01fe7907969a066468ee">opts</a>.seg_free = 1;</div>
<div class="line">    compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#ac1d7fa63b92cea3a3cfc14189ecf2cb2">compl_mode</a> = <a class="code" href="group__odp__dma.html#gafe66220e41350ee67d69e198278d7df5">ODP_DMA_COMPL_POLL</a>;</div>
<div class="line">    compl_param-&gt;<a name="a93"></a><a class="code" href="structodp__dma__compl__param__t.html#a020b7d2fe06a370953ae59366020e41e">transfer_id</a> = <a name="a94"></a><a class="code" href="group__odp__dma.html#gaef089827d6ff13388394b81829b8dac9">odp_dma_transfer_id_alloc</a>(config-&gt;dma_handle);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#a020b7d2fe06a370953ae59366020e41e">transfer_id</a> == <a name="a95"></a><a class="code" href="group__odp__dma.html#ga4dc5b62b55a75211072a8ce16d9f779b">ODP_DMA_TRANSFER_ID_INVALID</a>)) {</div>
<div class="line">        <a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(buf);</div>
<div class="line">        ++stats-&gt;compl_alloc_errs;</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#a1cab017a5849301cec7e6f93b4efff9e">user_ptr</a> = buf;</div>
<div class="line">    memset(src_segs, 0, <span class="keyword">sizeof</span>(*src_segs) * MAX_BURST);</div>
<div class="line">    memset(dst_segs, 0, <span class="keyword">sizeof</span>(*dst_segs) * MAX_BURST);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> trs;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> start_dma_ev_trs(<a class="code" href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a> *trs_param,</div>
<div class="line">                   <a class="code" href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a> *compl_param, thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> ret = <a name="a96"></a><a class="code" href="group__odp__dma.html#ga78cf0627210cb6b7229f7ded31759f47">odp_dma_transfer_start</a>(config-&gt;dma_handle, trs_param, compl_param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(ret &lt;= 0)) {</div>
<div class="line">        <a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#a1cab017a5849301cec7e6f93b4efff9e">user_ptr</a>);</div>
<div class="line">        <a name="a97"></a><a class="code" href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a>(compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#a26bf442af2415249c099856a03da9679">event</a>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> start_dma_poll_trs(<a class="code" href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a> *trs_param,</div>
<div class="line">                     <a class="code" href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a> *compl_param, thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> ret = <a class="code" href="group__odp__dma.html#ga78cf0627210cb6b7229f7ded31759f47">odp_dma_transfer_start</a>(config-&gt;dma_handle, trs_param, compl_param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(ret &lt;= 0)) {</div>
<div class="line">        <a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#a1cab017a5849301cec7e6f93b4efff9e">user_ptr</a>);</div>
<div class="line">        <a name="a98"></a><a class="code" href="group__odp__dma.html#ga20733801cac52b192b417e957ff38269">odp_dma_transfer_id_free</a>(config-&gt;dma_handle, compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#a020b7d2fe06a370953ae59366020e41e">transfer_id</a>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(<a name="a99"></a><a class="code" href="group__odp__stash.html#ga5e1c457237e33323692ddb012d134795">odp_stash_put</a>(config-&gt;inflight_stash, &amp;compl_param-&gt;<a class="code" href="structodp__dma__compl__param__t.html#a020b7d2fe06a370953ae59366020e41e">transfer_id</a>, 1) != 1))</div>
<div class="line">        <span class="comment">/* Should not happen, but make it visible if it somehow does */</span></div>
<div class="line">        ODPH_ABORT(<span class="stringliteral">&quot;DMA inflight transfer stash overflow, aborting&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> dma_copy(<a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkts[], <span class="keywordtype">int</span> num, pktio_t *pktio, init_fn_t init_fn,</div>
<div class="line">             start_fn_t start_fn, thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a> trs_param;</div>
<div class="line">    <a class="code" href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a> compl_param;</div>
<div class="line">    <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkt;</div>
<div class="line">    transfer_t *trs = NULL;</div>
<div class="line">    <a class="code" href="structodp__dma__seg__t.html">odp_dma_seg_t</a> src_segs[MAX_BURST], dst_segs[MAX_BURST];</div>
<div class="line">    uint32_t num_segs = 0U, pkt_len;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> copy_pool = config-&gt;copy_pool;</div>
<div class="line">    stats_t *stats = &amp;config-&gt;stats;</div>
<div class="line"> </div>
<div class="line">    <a name="a100"></a><a class="code" href="group__odp__dma.html#ga2e9a1ed9c0e5dbcab0c5dec6bb9e2626">odp_dma_transfer_param_init</a>(&amp;trs_param);</div>
<div class="line">    <a name="a101"></a><a class="code" href="group__odp__dma.html#ga4bea3cfe12e4e906238497632a12f4b4">odp_dma_compl_param_init</a>(&amp;compl_param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num; ++i) {</div>
<div class="line">        pkt = pkts[i];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(trs == NULL)) {</div>
<div class="line">            trs = init_fn(&amp;trs_param, &amp;compl_param, src_segs, dst_segs, pktio, config);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (trs == NULL) {</div>
<div class="line">                <a class="code" href="group__odp__packet.html#ga8a5e2cd674828c5415f3695f266347d7">odp_packet_free</a>(pkt);</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pkt_len = <a name="a102"></a><a class="code" href="group__odp__packet.html#ga68c47fd0c2a764b01b11390974748cc6">odp_packet_len</a>(pkt);</div>
<div class="line">        src_segs[num_segs].<a name="a103"></a><a class="code" href="structodp__dma__seg__t.html#a20ea52e17a876bcce0853e236ceddbab">packet</a> = pkt;</div>
<div class="line">        src_segs[num_segs].<a name="a104"></a><a class="code" href="structodp__dma__seg__t.html#a2f6c239c92b6946d604f591f1a30912e">len</a> = pkt_len;</div>
<div class="line">        dst_segs[num_segs].<a class="code" href="structodp__dma__seg__t.html#a20ea52e17a876bcce0853e236ceddbab">packet</a> = <a name="a105"></a><a class="code" href="group__odp__packet.html#ga7528dda77d71a9dbfe563dffb62d8318">odp_packet_alloc</a>(copy_pool, pkt_len);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(dst_segs[num_segs].packet == <a class="code" href="group__odp__packet.html#gaba8cf39480fb133ab8299155d4ef63dc">ODP_PACKET_INVALID</a>)) {</div>
<div class="line">            <a class="code" href="group__odp__packet.html#ga8a5e2cd674828c5415f3695f266347d7">odp_packet_free</a>(pkt);</div>
<div class="line">            ++stats-&gt;pkt_alloc_errs;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        dst_segs[num_segs].<a class="code" href="structodp__dma__seg__t.html#a2f6c239c92b6946d604f591f1a30912e">len</a> = pkt_len;</div>
<div class="line">        trs-&gt;src_pkts[num_segs] = src_segs[num_segs].<a class="code" href="structodp__dma__seg__t.html#a20ea52e17a876bcce0853e236ceddbab">packet</a>;</div>
<div class="line">        trs-&gt;dst_pkts[num_segs] = dst_segs[num_segs].<a class="code" href="structodp__dma__seg__t.html#a20ea52e17a876bcce0853e236ceddbab">packet</a>;</div>
<div class="line">        ++trs-&gt;num;</div>
<div class="line">        ++trs_param.<a class="code" href="structodp__dma__transfer__param__t.html#a65188219f8d96493650f1c17d97d0e95">num_src</a>;</div>
<div class="line">        ++trs_param.<a class="code" href="structodp__dma__transfer__param__t.html#a3b5c3e39d127e33e5fca3b07127da92d">num_dst</a>;</div>
<div class="line">        ++num_segs;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (num_segs &gt; 0U)</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(!start_fn(&amp;trs_param, &amp;compl_param, config))) {</div>
<div class="line">            <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;src_pkts, trs-&gt;num);</div>
<div class="line">            <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;dst_pkts, trs-&gt;num);</div>
<div class="line">            ++stats-&gt;start_errs;</div>
<div class="line">        }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> drain_events(thread_config_t *config <a class="code" href="group__odp__compiler__optim.html#ga45a2684e38da3e71b300bc89de5d6b52">ODP_UNUSED</a>)</div>
<div class="line">{</div>
<div class="line">    <a name="_a106"></a><a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> ev;</div>
<div class="line">    <a class="code" href="group__odp__event.html#gaa1aaa409bc6ae09aab02e74c3df3860c">odp_event_type_t</a> type;</div>
<div class="line">    <a name="_a107"></a><a class="code" href="structodp__dma__result__t.html">odp_dma_result_t</a> res;</div>
<div class="line">    <a class="code" href="struct__odp__abi__buffer__t.html">odp_buffer_t</a> buf;</div>
<div class="line">    transfer_t *trs;</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> seg_free = config-&gt;prog_config-&gt;seg_free;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        ev = <a name="a108"></a><a class="code" href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a>(NULL, <a name="a109"></a><a class="code" href="group__odp__scheduler.html#gab0a0d2673cc7371d5c5d782d13a485b8">odp_schedule_wait_time</a>(100 * <a name="a110"></a><a class="code" href="group__odp__time.html#gabad65a44847cb6d46c2ae9cc96a80a4c">ODP_TIME_MSEC_IN_NS</a>));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (ev == <a name="a111"></a><a class="code" href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a>)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        type = <a name="a112"></a><a class="code" href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a>(ev);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (type == ODP_EVENT_DMA_COMPL) {</div>
<div class="line">            memset(&amp;res, 0, <span class="keyword">sizeof</span>(res));</div>
<div class="line">            <a name="a113"></a><a class="code" href="group__odp__dma.html#ga44228bda93f04fbd6e3e25cf9838eed6">odp_dma_compl_result</a>(<a name="a114"></a><a class="code" href="group__odp__dma.html#ga9fc1c7a86010a0ed5862444884efd1ec">odp_dma_compl_from_event</a>(ev), &amp;res);</div>
<div class="line">            buf = (<a name="a115"></a><a class="code" href="group__odp__buffer.html#gab29c732b3d94a5788d984b5042fcbc05">odp_buffer_t</a>)res.<a name="a116"></a><a class="code" href="structodp__dma__result__t.html#a4178638e603c843b6b0e2746662d3998">user_ptr</a>;</div>
<div class="line">            trs = (transfer_t *)<a class="code" href="group__odp__buffer.html#ga48f34caa699db93599513ffc14ba0dd2">odp_buffer_addr</a>(buf);</div>
<div class="line">            <span class="keywordflow">if</span> (!seg_free)</div>
<div class="line">                <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;src_pkts, trs-&gt;num);</div>
<div class="line">            <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;dst_pkts, trs-&gt;num);</div>
<div class="line">            <a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(buf);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a>(ev);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> drain_polled(thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__odp__dma.html#ga840017234a4ee2e8f5c6b240094ab50d">odp_dma_transfer_id_t</a> id;</div>
<div class="line">    <a class="code" href="structodp__dma__result__t.html">odp_dma_result_t</a> res;</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <a class="code" href="struct__odp__abi__buffer__t.html">odp_buffer_t</a> buf;</div>
<div class="line">    transfer_t *trs;</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> seg_free = config-&gt;prog_config-&gt;seg_free;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a117"></a><a class="code" href="group__odp__stash.html#ga74f072630a4e7b0a0f97f8269f698f75">odp_stash_get</a>(config-&gt;inflight_stash, &amp;<span class="keywordtype">id</span>, 1) != 1)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        memset(&amp;res, 0, <span class="keyword">sizeof</span>(res));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            ret = <a name="a118"></a><a class="code" href="group__odp__dma.html#ga129def4ba96c9aa853b1fc3e84ab201c">odp_dma_transfer_done</a>(config-&gt;dma_handle, <span class="keywordtype">id</span>, &amp;res);</div>
<div class="line">        } <span class="keywordflow">while</span> (ret == 0);</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__odp__dma.html#ga20733801cac52b192b417e957ff38269">odp_dma_transfer_id_free</a>(config-&gt;dma_handle, <span class="keywordtype">id</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        buf = (<a class="code" href="group__odp__buffer.html#gab29c732b3d94a5788d984b5042fcbc05">odp_buffer_t</a>)res.<a class="code" href="structodp__dma__result__t.html#a4178638e603c843b6b0e2746662d3998">user_ptr</a>;</div>
<div class="line">        trs = (transfer_t *)<a class="code" href="group__odp__buffer.html#ga48f34caa699db93599513ffc14ba0dd2">odp_buffer_addr</a>(buf);</div>
<div class="line">        <span class="keywordflow">if</span> (!seg_free)</div>
<div class="line">            <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;src_pkts, trs-&gt;num);</div>
<div class="line">        <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;dst_pkts, trs-&gt;num);</div>
<div class="line">        <a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(buf);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> setup_copy(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structodp__pool__param__t.html">odp_pool_param_t</a> pool_param;</div>
<div class="line">    thread_config_t *thr;</div>
<div class="line">    <span class="keyword">const</span> <a name="_a119"></a><a class="code" href="structodp__dma__param__t.html">odp_dma_param_t</a> dma_param = {</div>
<div class="line">        .<a name="a120"></a><a class="code" href="structodp__dma__param__t.html#a0a626d5b8f471640722a18afb12b48e4">direction</a> = <a name="a121"></a><a class="code" href="group__odp__dma.html#gaa549c40761565eda1149a1f2e6bf398e">ODP_DMA_MAIN_TO_MAIN</a>,</div>
<div class="line">        .type = <a name="a122"></a><a class="code" href="group__odp__dma.html#ga19586c982f8c35835295120790a97897">ODP_DMA_TYPE_COPY</a>,</div>
<div class="line">        .compl_mode_mask = <a class="code" href="group__odp__dma.html#ga2aa0a1bb1f1c5a52d30b6f6d6b1dfc25">ODP_DMA_COMPL_EVENT</a> | <a class="code" href="group__odp__dma.html#gafe66220e41350ee67d69e198278d7df5">ODP_DMA_COMPL_POLL</a>,</div>
<div class="line">        .mt_mode = <a name="a123"></a><a class="code" href="group__odp__dma.html#gga2fd1c1bb4ff8f93ebfc97337a7a7df38a83d5a4991975ff47a6503622c7fed132">ODP_DMA_MT_SERIAL</a>,</div>
<div class="line">        .order = <a name="a124"></a><a class="code" href="group__odp__dma.html#ggad344ffdd202b46bec211bd6cfc90be60af5742fb9e88a376e12fda0e695facfe2">ODP_DMA_ORDER_NONE</a> };</div>
<div class="line">    <a name="_a125"></a><a class="code" href="structodp__dma__pool__param__t.html">odp_dma_pool_param_t</a> compl_pool_param;</div>
<div class="line">    <a name="_a126"></a><a class="code" href="structodp__queue__param__t.html">odp_queue_param_t</a> queue_param;</div>
<div class="line">    <a name="_a127"></a><a class="code" href="structodp__stash__param__t.html">odp_stash_param_t</a> stash_param;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a>(&amp;pool_param);</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a name="a128"></a><a class="code" href="structodp__pool__param__t.html#ad400db5955445ee3d1fbb36df456e7f1">seg_len</a> = config-&gt;pkt_len;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a name="a129"></a><a class="code" href="structodp__pool__param__t.html#ac1ccfa50466f4afa9a9ab72f0bd315bf">len</a> = config-&gt;pkt_len;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a name="a130"></a><a class="code" href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">num</a> = config-&gt;num_pkts;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a class="code" href="structodp__pool__param__t.html#a7cae0f09e3ba15b1a6885adb3baa80fe">cache_size</a> = config-&gt;cache_size;</div>
<div class="line">    pool_param.<a name="a131"></a><a class="code" href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">type</a> = <a name="a132"></a><a class="code" href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082aa02b3a4e37094bd277b3dfe371450acd">ODP_POOL_PACKET</a>;</div>
<div class="line">    config-&gt;copy_pool = <a name="a133"></a><a class="code" href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a>(PROG_NAME <span class="stringliteral">&quot;_copy&quot;</span>, &amp;pool_param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;copy_pool == <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error creating packet copy pool\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;copy_type == SW_COPY) {</div>
<div class="line">        config-&gt;pkt_fn = sw_copy_and_send_packets;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; config-&gt;num_thrs; ++i)</div>
<div class="line">            config-&gt;thread_config[i].copy_pool = config-&gt;copy_pool;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    pool_param.<a name="a134"></a><a class="code" href="structodp__pool__param__t.html#a37952a35bf3431c15922143ad765da70">buf</a>.<a class="code" href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">num</a> = config-&gt;num_inflight;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a37952a35bf3431c15922143ad765da70">buf</a>.<a name="a135"></a><a class="code" href="structodp__pool__param__t.html#aa11286791288fff8f292caae1fc62002">size</a> = <span class="keyword">sizeof</span>(transfer_t);</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a37952a35bf3431c15922143ad765da70">buf</a>.<a class="code" href="structodp__pool__param__t.html#a7cae0f09e3ba15b1a6885adb3baa80fe">cache_size</a> = config-&gt;trs_cache_size;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">type</a> = <a name="a136"></a><a class="code" href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082a5f851628c50a0c6a8ee896fd46767806">ODP_POOL_BUFFER</a>;</div>
<div class="line">    config-&gt;trs_pool = <a class="code" href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a>(PROG_NAME <span class="stringliteral">&quot;_dma_trs&quot;</span>, &amp;pool_param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;trs_pool == <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error creating DMA transfer tracking pool\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; config-&gt;num_thrs; ++i) {</div>
<div class="line">        thr = &amp;config-&gt;thread_config[i];</div>
<div class="line">        thr-&gt;copy_pool = config-&gt;copy_pool;</div>
<div class="line">        thr-&gt;trs_pool = config-&gt;trs_pool;</div>
<div class="line">        thr-&gt;dma_handle = <a name="a137"></a><a class="code" href="group__odp__dma.html#ga04b2a801e3751cdea60d4c1d0bb5d041">odp_dma_create</a>(PROG_NAME <span class="stringliteral">&quot;_dma&quot;</span>, &amp;dma_param);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (thr-&gt;dma_handle == <a class="code" href="group__odp__dma.html#gaf0a75419d62bf83022397a55082ba67b">ODP_DMA_INVALID</a>) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error creating DMA session\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (config-&gt;copy_type == DMA_COPY_EV) {</div>
<div class="line">            <a name="a138"></a><a class="code" href="group__odp__dma.html#ga65d9be12ba0c9a04da4cbbf06935152d">odp_dma_pool_param_init</a>(&amp;compl_pool_param);</div>
<div class="line">            compl_pool_param.<a name="a139"></a><a class="code" href="structodp__dma__pool__param__t.html#aa4593bc8a7d191d75195b08875091781">num</a> = config-&gt;num_inflight;</div>
<div class="line">            compl_pool_param.<a name="a140"></a><a class="code" href="structodp__dma__pool__param__t.html#a381740cab57253055ce388aca947ff87">cache_size</a> = config-&gt;compl_cache_size;</div>
<div class="line">            thr-&gt;compl_pool = <a name="a141"></a><a class="code" href="group__odp__dma.html#ga1027901636b98e8414503c312ec5e271">odp_dma_pool_create</a>(PROG_NAME <span class="stringliteral">&quot;_dma_compl&quot;</span>,</div>
<div class="line">                                  &amp;compl_pool_param);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (thr-&gt;compl_pool == <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>) {</div>
<div class="line">                ODPH_ERR(<span class="stringliteral">&quot;Error creating DMA event completion pool\n&quot;</span>);</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <a name="a142"></a><a class="code" href="group__odp__queue.html#ga6fc2ea5eb86152210342f7377d1468e4">odp_queue_param_init</a>(&amp;queue_param);</div>
<div class="line">            queue_param.<a name="a143"></a><a class="code" href="structodp__queue__param__t.html#a6a7251138773a3110bdc0e8d5f5b3be9">type</a> = <a name="a144"></a><a class="code" href="group__odp__queue.html#gga89a3439d3f3be48cac1767cba721eddaa4f49ad2143a9ba8a5914573d2794e962">ODP_QUEUE_TYPE_SCHED</a>;</div>
<div class="line">            queue_param.<a name="a145"></a><a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a146"></a><a class="code" href="structodp__schedule__param__t.html#ad4ca09d63edb0cec36567c26688cea14">sync</a> = <a name="a147"></a><a class="code" href="group__odp__scheduler.html#ga2ba135fc660e1c050aa25ec6744ec584">ODP_SCHED_SYNC_PARALLEL</a>;</div>
<div class="line">            queue_param.<a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a148"></a><a class="code" href="structodp__schedule__param__t.html#a3f103771c3a9319c1ec998fa8724b8ac">prio</a> = <a name="a149"></a><a class="code" href="group__odp__scheduler.html#ga9d91b9144cf2ccdcb112b7376a38aeaf">odp_schedule_max_prio</a>();</div>
<div class="line">            thr-&gt;compl_q = <a name="a150"></a><a class="code" href="group__odp__queue.html#gab985be8c3947fef3da257e16948bf0f0">odp_queue_create</a>(PROG_NAME <span class="stringliteral">&quot;_dma_compl&quot;</span>, &amp;queue_param);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (thr-&gt;compl_q == <a class="code" href="group__odp__queue.html#ga771259a58e71e065e0d00d2fc431b014">ODP_QUEUE_INVALID</a>) {</div>
<div class="line">                ODPH_ERR(<span class="stringliteral">&quot;Error creating DMA completion queue\n&quot;</span>);</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            config-&gt;init_fn = init_dma_ev_trs;</div>
<div class="line">            config-&gt;start_fn = start_dma_ev_trs;</div>
<div class="line">            config-&gt;drain_fn = drain_events;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <a name="a151"></a><a class="code" href="group__odp__stash.html#ga7241ac045ddfbc29884a92e0180a68dc">odp_stash_param_init</a>(&amp;stash_param);</div>
<div class="line">            stash_param.<a name="a152"></a><a class="code" href="structodp__stash__param__t.html#a60823674bbe96cd9193fab6e5df8e169">type</a> = config-&gt;stash_type;</div>
<div class="line">            stash_param.<a name="a153"></a><a class="code" href="structodp__stash__param__t.html#a8908a6c2445d28a865d98ba0e49d78cd">put_mode</a> = <a name="a154"></a><a class="code" href="group__odp__stash.html#gga77efc59b890ed3ef9b274ad27bde1b94aa1389be6a51f5b694ee7f7341e42f8db">ODP_STASH_OP_LOCAL</a>;</div>
<div class="line">            stash_param.<a name="a155"></a><a class="code" href="structodp__stash__param__t.html#a2e7a1df5bc45a347fadc6cb7e86619e7">get_mode</a> = <a class="code" href="group__odp__stash.html#gga77efc59b890ed3ef9b274ad27bde1b94aa1389be6a51f5b694ee7f7341e42f8db">ODP_STASH_OP_LOCAL</a>;</div>
<div class="line">            stash_param.<a name="a156"></a><a class="code" href="structodp__stash__param__t.html#afe604e82bf2ff403a087b7b5bed402ca">num_obj</a> = config-&gt;num_inflight;</div>
<div class="line">            stash_param.<a name="a157"></a><a class="code" href="structodp__stash__param__t.html#a54b2376d0eeb63a971494597e521478d">obj_size</a> = config-&gt;inflight_obj_size;</div>
<div class="line">            stash_param.<a name="a158"></a><a class="code" href="structodp__stash__param__t.html#a1e704a10c66c3c6d584f2ae9d3049afb">cache_size</a> = config-&gt;stash_cache_size;</div>
<div class="line">            thr-&gt;inflight_stash = <a name="a159"></a><a class="code" href="group__odp__stash.html#gaf3825dc9faf34e3f80aed4fcca3442b6">odp_stash_create</a>(<span class="stringliteral">&quot;_dma_inflight&quot;</span>, &amp;stash_param);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (thr-&gt;inflight_stash == <a class="code" href="group__odp__stash.html#ga34969641fe94a21fcd737377315ff5a0">ODP_STASH_INVALID</a>) {</div>
<div class="line">                ODPH_ERR(<span class="stringliteral">&quot;Error creating DMA inflight transfer stash\n&quot;</span>);</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            config-&gt;init_fn = init_dma_poll_trs;</div>
<div class="line">            config-&gt;start_fn = start_dma_poll_trs;</div>
<div class="line">            config-&gt;drain_fn = drain_polled;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    config-&gt;pkt_fn = dma_copy;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> setup_pktios(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structodp__pool__param__t.html">odp_pool_param_t</a> pool_param;</div>
<div class="line">    pktio_t *pktio;</div>
<div class="line">    <a name="_a160"></a><a class="code" href="structodp__pktio__param__t.html">odp_pktio_param_t</a> pktio_param;</div>
<div class="line">    <a name="_a161"></a><a class="code" href="structodp__pktio__capability__t.html">odp_pktio_capability_t</a> capa;</div>
<div class="line">    uint32_t num_input_qs, num_output_qs;</div>
<div class="line">    <a name="_a162"></a><a class="code" href="structodp__pktin__queue__param__t.html">odp_pktin_queue_param_t</a> pktin_param;</div>
<div class="line">    <a name="_a163"></a><a class="code" href="structodp__pktout__queue__param__t.html">odp_pktout_queue_param_t</a> pktout_param;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a>(&amp;pool_param);</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a class="code" href="structodp__pool__param__t.html#ad400db5955445ee3d1fbb36df456e7f1">seg_len</a> = config-&gt;pkt_len;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a class="code" href="structodp__pool__param__t.html#ac1ccfa50466f4afa9a9ab72f0bd315bf">len</a> = config-&gt;pkt_len;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a class="code" href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">num</a> = config-&gt;num_pkts;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a class="code" href="structodp__pool__param__t.html#a7cae0f09e3ba15b1a6885adb3baa80fe">cache_size</a> = config-&gt;cache_size;</div>
<div class="line">    pool_param.<a class="code" href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">type</a> = <a class="code" href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082aa02b3a4e37094bd277b3dfe371450acd">ODP_POOL_PACKET</a>;</div>
<div class="line">    config-&gt;pktio_pool = <a class="code" href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a>(PROG_NAME, &amp;pool_param);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;pktio_pool == <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error creating packet I/O pool\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0U; i &lt; config-&gt;num_ifs; ++i) {</div>
<div class="line">        pktio = &amp;config-&gt;pktios[i];</div>
<div class="line">        <a name="a164"></a><a class="code" href="group__odp__packet__io.html#ga26d165a22d659770eba0c48543860881">odp_pktio_param_init</a>(&amp;pktio_param);</div>
<div class="line">        pktio_param.<a name="a165"></a><a class="code" href="structodp__pktio__param__t.html#a819cf5e2ef7df43a729cad159c022f4d">in_mode</a> = <a name="a166"></a><a class="code" href="group__odp__packet__io.html#ggaf5d539df6fc8af55d96357c784a54b8faa4f62db7acbe492a3b80f3f782a04dd5">ODP_PKTIN_MODE_SCHED</a>;</div>
<div class="line">        pktio_param.<a name="a167"></a><a class="code" href="structodp__pktio__param__t.html#afc226fd3904618950a0d1154ffa2fd8c">out_mode</a> = <a name="a168"></a><a class="code" href="group__odp__packet__io.html#gga4e0c26e40b1166b07142302d12e8467da9e6184e8d605ce199cfa54d6c50153ff">ODP_PKTOUT_MODE_DIRECT</a>;</div>
<div class="line">        pktio-&gt;handle = <a name="a169"></a><a class="code" href="group__odp__packet__io.html#ga7ae4f96ab09d468fff3623d90db306f9">odp_pktio_open</a>(pktio-&gt;name, config-&gt;pktio_pool, &amp;pktio_param);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pktio-&gt;handle == <a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a>) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error opening packet I/O (%s)\n&quot;</span>, pktio-&gt;name);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        config-&gt;pktio_idx_map[<a name="a170"></a><a class="code" href="group__odp__packet__io.html#gab552d0e69245ade3de47130c2b9c5203">odp_pktio_index</a>(pktio-&gt;handle)] = i;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a171"></a><a class="code" href="group__odp__packet__io.html#gaba80778db7ec138977ed9e473bd1faaa">odp_pktio_capability</a>(pktio-&gt;handle, &amp;capa) &lt; 0) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error querying packet I/O capabilities (%s)\n&quot;</span>, pktio-&gt;name);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        num_input_qs = ODPH_MIN((uint32_t)config-&gt;num_thrs, capa.<a name="a172"></a><a class="code" href="structodp__pktio__capability__t.html#a41331b30786ec8c9a4861dfe5b220b61">max_input_queues</a>);</div>
<div class="line">        num_output_qs = ODPH_MIN((uint32_t)config-&gt;num_thrs, capa.<a name="a173"></a><a class="code" href="structodp__pktio__capability__t.html#a853625a680b37aeb0839c63ba04c632c">max_output_queues</a>);</div>
<div class="line">        num_output_qs = ODPH_MIN(num_output_qs, MAX_OUT_QS);</div>
<div class="line">        <a name="a174"></a><a class="code" href="group__odp__packet__io.html#ga055eabf5622e6745afbe9a1550ad1d78">odp_pktin_queue_param_init</a>(&amp;pktin_param);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (num_input_qs &gt; 1) {</div>
<div class="line">            pktin_param.<a name="a175"></a><a class="code" href="structodp__pktin__queue__param__t.html#aa90bfc914603a90f7b1f7e7f0de07418">hash_enable</a> = <span class="keyword">true</span>;</div>
<div class="line">            pktin_param.<a name="a176"></a><a class="code" href="structodp__pktin__queue__param__t.html#a901146fbd15779b5665d3b75f3488e91">hash_proto</a>.<a name="a177"></a><a class="code" href="unionodp__pktin__hash__proto__t.html#a23793296c3a0299f69bdacc438ca3caf">proto</a>.<a name="a178"></a><a class="code" href="unionodp__pktin__hash__proto__t.html#ade3193ac0eb548aac8eb5001fd0933f8">ipv4</a> = 1U;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pktin_param.<a name="a179"></a><a class="code" href="structodp__pktin__queue__param__t.html#a03e94f43a2e4379d7a16adb964a55ecd">num_queues</a> = num_input_qs;</div>
<div class="line">        pktin_param.<a name="a180"></a><a class="code" href="structodp__pktin__queue__param__t.html#a5a07d5e93f26a523103360c0bea4a304">queue_param</a>.<a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a class="code" href="structodp__schedule__param__t.html#a3f103771c3a9319c1ec998fa8724b8ac">prio</a> = <a name="a181"></a><a class="code" href="group__odp__scheduler.html#ga94034a7f591f3f549099aebb098f7e05">odp_schedule_default_prio</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a182"></a><a class="code" href="group__odp__packet__io.html#gaf9dce6b2cc13ad715e777416dce88194">odp_pktin_queue_config</a>(pktio-&gt;handle, &amp;pktin_param) &lt; 0) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error configuring packet I/O input queues (%s)\n&quot;</span>, pktio-&gt;name);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a name="a183"></a><a class="code" href="group__odp__packet__io.html#gab09475da05438a53b2d0fca96aab7515">odp_pktout_queue_param_init</a>(&amp;pktout_param);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (num_output_qs == (uint32_t)config-&gt;num_thrs)</div>
<div class="line">            pktout_param.<a name="a184"></a><a class="code" href="structodp__pktout__queue__param__t.html#a066fd0a2de0efca0056cd1529d78b06e">op_mode</a> = <a name="a185"></a><a class="code" href="group__odp__packet__io.html#ggacf2c32e76d9d0eef9106b5fdd68cedc8a1e3d825b302ee6213937172a6b54b140">ODP_PKTIO_OP_MT_UNSAFE</a>;</div>
<div class="line"> </div>
<div class="line">        pktout_param.<a name="a186"></a><a class="code" href="structodp__pktout__queue__param__t.html#acd16e77991869797adb3da1bd41a1d0c">num_queues</a> = num_output_qs;</div>
<div class="line">        pktio-&gt;num_out_qs = num_output_qs;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a187"></a><a class="code" href="group__odp__packet__io.html#gafc2120185a8da74540feade78623f3b3">odp_pktout_queue_config</a>(pktio-&gt;handle, &amp;pktout_param) &lt; 0) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error configuring packet I/O output queues (%s)\n&quot;</span>, pktio-&gt;name);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a188"></a><a class="code" href="group__odp__packet__io.html#ga41a3ebb7ac489b85a5f7560e4d4f77f5">odp_pktout_queue</a>(pktio-&gt;handle, pktio-&gt;out_qs, num_output_qs) !=</div>
<div class="line">            (<span class="keywordtype">int</span>)num_output_qs) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error querying packet I/O output queues (%s)\n&quot;</span>, pktio-&gt;name);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a189"></a><a class="code" href="group__odp__packet__io.html#ga9a5746e73616297fabb8d4caaa6d0333">odp_pktio_start</a>(pktio-&gt;handle) &lt; 0) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Error starting packet I/O (%s)\n&quot;</span>, pktio-&gt;name);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> send_dma_poll_trs_pkts(<span class="keywordtype">int</span> burst_size, thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__stash__t.html">odp_stash_t</a> stash_handle = config-&gt;inflight_stash;</div>
<div class="line">    <a class="code" href="group__odp__dma.html#ga840017234a4ee2e8f5c6b240094ab50d">odp_dma_transfer_id_t</a> ids[burst_size], id;</div>
<div class="line">    int32_t num;</div>
<div class="line">    <a class="code" href="struct__odp__abi__dma__t.html">odp_dma_t</a> dma_handle = config-&gt;dma_handle;</div>
<div class="line">    <a class="code" href="structodp__dma__result__t.html">odp_dma_result_t</a> res;</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line">    <a class="code" href="struct__odp__abi__buffer__t.html">odp_buffer_t</a> buf;</div>
<div class="line">    transfer_t *trs;</div>
<div class="line">    pktio_t *pktio;</div>
<div class="line">    <span class="keywordtype">int</span> num_sent;</div>
<div class="line">    stats_t *stats = &amp;config-&gt;stats;</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> seg_free = config-&gt;prog_config-&gt;seg_free;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        num = <a class="code" href="group__odp__stash.html#ga74f072630a4e7b0a0f97f8269f698f75">odp_stash_get</a>(stash_handle, &amp;ids, burst_size);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (num &lt;= 0)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; num; ++i) {</div>
<div class="line">            <span class="keywordtype">id</span> = ids[i];</div>
<div class="line">            ret = <a class="code" href="group__odp__dma.html#ga129def4ba96c9aa853b1fc3e84ab201c">odp_dma_transfer_done</a>(dma_handle, <span class="keywordtype">id</span>, &amp;res);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (ret == 0) {</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a>(<a class="code" href="group__odp__stash.html#ga5e1c457237e33323692ddb012d134795">odp_stash_put</a>(stash_handle, &amp;<span class="keywordtype">id</span>, 1) != 1))</div>
<div class="line">                    <span class="comment">/* Should not happen, but make it visible if it somehow</span></div>
<div class="line"><span class="comment">                     * does */</span></div>
<div class="line">                    ODPH_ABORT(<span class="stringliteral">&quot;DMA inflight transfer stash overflow,&quot;</span></div>
<div class="line">                           <span class="stringliteral">&quot; aborting&quot;</span>);</div>
<div class="line"> </div>
<div class="line">                ++stats-&gt;trs_polled;</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="group__odp__dma.html#ga20733801cac52b192b417e957ff38269">odp_dma_transfer_id_free</a>(dma_handle, <span class="keywordtype">id</span>);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">                ++stats-&gt;trs_poll_errs;</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            buf = (<a class="code" href="group__odp__buffer.html#gab29c732b3d94a5788d984b5042fcbc05">odp_buffer_t</a>)res.<a class="code" href="structodp__dma__result__t.html#a4178638e603c843b6b0e2746662d3998">user_ptr</a>;</div>
<div class="line">            trs = (transfer_t *)<a class="code" href="group__odp__buffer.html#ga48f34caa699db93599513ffc14ba0dd2">odp_buffer_addr</a>(buf);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (res.<a name="a190"></a><a class="code" href="structodp__dma__result__t.html#ab07ed63fa2370dac6fdc20f328224c97">success</a>) {</div>
<div class="line">                pktio = trs-&gt;pktio;</div>
<div class="line">                num_sent = send_packets(pktio-&gt;out_qs[config-&gt;thr_idx %</div>
<div class="line">                                    pktio-&gt;num_out_qs],</div>
<div class="line">                            trs-&gt;dst_pkts, trs-&gt;num);</div>
<div class="line">                ++stats-&gt;trs;</div>
<div class="line">                stats-&gt;fwd_pkts += num_sent;</div>
<div class="line">                stats-&gt;discards += trs-&gt;num - num_sent;</div>
<div class="line">                <span class="keywordflow">if</span> (!seg_free)</div>
<div class="line">                    <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;src_pkts, trs-&gt;num);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;src_pkts, trs-&gt;num);</div>
<div class="line">                <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;dst_pkts, trs-&gt;num);</div>
<div class="line">                ++stats-&gt;trs_errs;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(buf);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> send_dma_ev_trs_pkts(<a class="code" href="struct__odp__abi__dma__t.html">odp_dma_compl_t</a> compl_ev, thread_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structodp__dma__result__t.html">odp_dma_result_t</a> res;</div>
<div class="line">    <a class="code" href="struct__odp__abi__buffer__t.html">odp_buffer_t</a> buf;</div>
<div class="line">    transfer_t *trs;</div>
<div class="line">    pktio_t *pktio;</div>
<div class="line">    <span class="keywordtype">int</span> num_sent;</div>
<div class="line">    stats_t *stats = &amp;config-&gt;stats;</div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> seg_free = config-&gt;prog_config-&gt;seg_free;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;res, 0, <span class="keyword">sizeof</span>(res));</div>
<div class="line">    <a class="code" href="group__odp__dma.html#ga44228bda93f04fbd6e3e25cf9838eed6">odp_dma_compl_result</a>(compl_ev, &amp;res);</div>
<div class="line">    buf = (<a class="code" href="group__odp__buffer.html#gab29c732b3d94a5788d984b5042fcbc05">odp_buffer_t</a>)res.<a class="code" href="structodp__dma__result__t.html#a4178638e603c843b6b0e2746662d3998">user_ptr</a>;</div>
<div class="line">    trs = (transfer_t *)<a class="code" href="group__odp__buffer.html#ga48f34caa699db93599513ffc14ba0dd2">odp_buffer_addr</a>(buf);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (res.<a class="code" href="structodp__dma__result__t.html#ab07ed63fa2370dac6fdc20f328224c97">success</a>) {</div>
<div class="line">        pktio = trs-&gt;pktio;</div>
<div class="line">        num_sent = send_packets(pktio-&gt;out_qs[config-&gt;thr_idx % pktio-&gt;num_out_qs],</div>
<div class="line">                    trs-&gt;dst_pkts, trs-&gt;num);</div>
<div class="line">        ++stats-&gt;trs;</div>
<div class="line">        stats-&gt;fwd_pkts += num_sent;</div>
<div class="line">        stats-&gt;discards += trs-&gt;num - num_sent;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!seg_free)</div>
<div class="line">            <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;src_pkts, trs-&gt;num);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;src_pkts, trs-&gt;num);</div>
<div class="line">        <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(trs-&gt;dst_pkts, trs-&gt;num);</div>
<div class="line">        ++stats-&gt;trs_errs;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a>(buf);</div>
<div class="line">    <a name="a191"></a><a class="code" href="group__odp__dma.html#gaf02ee00c775ab5d64021b8adcc118985">odp_dma_compl_free</a>(compl_ev);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> push_packet(<a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkt, pkt_vec_t pkt_vecs[], uint8_t *pktio_idx_map)</div>
<div class="line">{</div>
<div class="line">    uint8_t idx = pktio_idx_map[<a name="a192"></a><a class="code" href="group__odp__packet.html#ga1c03b0fec815617168cf29a013442d58">odp_packet_input_index</a>(pkt)];</div>
<div class="line">    pkt_vec_t *pkt_vec = &amp;pkt_vecs[idx];</div>
<div class="line"> </div>
<div class="line">    pkt_vec-&gt;pkts[pkt_vec-&gt;num++] = pkt;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pop_packets(pkt_vec_t *pkt_vec, <span class="keywordtype">int</span> num_procd)</div>
<div class="line">{</div>
<div class="line">    pkt_vec-&gt;num -= num_procd;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0, j = num_procd; i &lt; pkt_vec-&gt;num; ++i, ++j)</div>
<div class="line">        pkt_vec-&gt;pkts[i] = pkt_vec-&gt;pkts[j];</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> free_pending_packets(pkt_vec_t pkt_vecs[], uint32_t num_ifs, stats_t *stats)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0U; i &lt; num_ifs; ++i) {</div>
<div class="line">        stats-&gt;pkt_cleanup += pkt_vecs[i].num;</div>
<div class="line">        <a class="code" href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a>(pkt_vecs[i].pkts, pkt_vecs[i].num);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> process_packets(<span class="keywordtype">void</span> *args)</div>
<div class="line">{</div>
<div class="line">    thread_config_t *config = args;</div>
<div class="line">    <span class="keyword">const</span> uint8_t num_ifs = config-&gt;prog_config-&gt;num_ifs;</div>
<div class="line">    pkt_vec_t pkt_vecs[num_ifs], *pkt_vec;</div>
<div class="line">    <a class="code" href="structodp__atomic__u32__s.html">odp_atomic_u32_t</a> *is_running = &amp;config-&gt;prog_config-&gt;is_running;</div>
<div class="line">    uint64_t c1, c2, c3, c4, cdiff = 0U, rounds = 0U;</div>
<div class="line">    <span class="keyword">const</span> uint8_t copy_type = config-&gt;prog_config-&gt;copy_type;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> burst_size = config-&gt;prog_config-&gt;burst_size;</div>
<div class="line">    <a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> evs[burst_size];</div>
<div class="line">    <span class="keywordtype">int</span> num_evs;</div>
<div class="line">    <a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> ev;</div>
<div class="line">    <a class="code" href="group__odp__event.html#gaa1aaa409bc6ae09aab02e74c3df3860c">odp_event_type_t</a> type;</div>
<div class="line">    uint8_t *pktio_map = config-&gt;prog_config-&gt;pktio_idx_map;</div>
<div class="line">    stats_t *stats = &amp;config-&gt;stats;</div>
<div class="line">    init_fn_t init_fn = config-&gt;prog_config-&gt;init_fn;</div>
<div class="line">    start_fn_t start_fn = config-&gt;prog_config-&gt;start_fn;</div>
<div class="line">    pkt_fn_t pkt_fn = config-&gt;prog_config-&gt;pkt_fn;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0U; i &lt; num_ifs; ++i) {</div>
<div class="line">        pkt_vecs[i].pktio = &amp;config-&gt;prog_config-&gt;pktios[i];</div>
<div class="line">        pkt_vecs[i].num = 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    config-&gt;thr_idx = <a name="a193"></a><a class="code" href="group__odp__thread.html#gad6562e7320d48463715bbf15748ae360">odp_thread_id</a>();</div>
<div class="line">    <a name="a194"></a><a class="code" href="group__odp__barrier.html#ga97c8f84490e816330f96155acf0b4b77">odp_barrier_wait</a>(&amp;config-&gt;prog_config-&gt;init_barrier);</div>
<div class="line">    c1 = <a name="a195"></a><a class="code" href="group__odp__cpu.html#ga1eddc2169c7e7d90f194054499a4548b">odp_cpu_cycles</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<a name="a196"></a><a class="code" href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a>(is_running)) {</div>
<div class="line">        c3 = <a class="code" href="group__odp__cpu.html#ga1eddc2169c7e7d90f194054499a4548b">odp_cpu_cycles</a>();</div>
<div class="line">        num_evs = <a name="a197"></a><a class="code" href="group__odp__scheduler.html#ga17ae1ac2ac704684d0a7087a311c73f4">odp_schedule_multi_no_wait</a>(NULL, evs, burst_size);</div>
<div class="line">        c4 = <a class="code" href="group__odp__cpu.html#ga1eddc2169c7e7d90f194054499a4548b">odp_cpu_cycles</a>();</div>
<div class="line">        cdiff += <a name="a198"></a><a class="code" href="group__odp__cpu.html#ga149b333a5075d5e542fbe42adbb84d65">odp_cpu_cycles_diff</a>(c4, c3);</div>
<div class="line">        ++rounds;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (copy_type == DMA_COPY_POLL)</div>
<div class="line">            send_dma_poll_trs_pkts(burst_size, config);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (num_evs == 0)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_evs; ++i) {</div>
<div class="line">            ev = evs[i];</div>
<div class="line">            type = <a class="code" href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a>(ev);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (type == ODP_EVENT_DMA_COMPL) {</div>
<div class="line">                send_dma_ev_trs_pkts(<a class="code" href="group__odp__dma.html#ga9fc1c7a86010a0ed5862444884efd1ec">odp_dma_compl_from_event</a>(ev), config);</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == ODP_EVENT_PACKET) {</div>
<div class="line">                push_packet(<a name="a199"></a><a class="code" href="group__odp__packet.html#ga8605e7d4629a479f7b1a59da121c601c">odp_packet_from_event</a>(ev), pkt_vecs, pktio_map);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <a class="code" href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a>(ev);</div>
<div class="line">                ++stats-&gt;discards;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (uint32_t i = 0U; i &lt; num_ifs; ++i) {</div>
<div class="line">            pkt_vec = &amp;pkt_vecs[i];</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (pkt_vec-&gt;num &gt;= burst_size) {</div>
<div class="line">                pkt_fn(pkt_vec-&gt;pkts, burst_size, pkt_vec-&gt;pktio, init_fn,</div>
<div class="line">                       start_fn, config);</div>
<div class="line">                pop_packets(pkt_vec, burst_size);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    c2 = <a class="code" href="group__odp__cpu.html#ga1eddc2169c7e7d90f194054499a4548b">odp_cpu_cycles</a>();</div>
<div class="line">    stats-&gt;sched_cc = cdiff;</div>
<div class="line">    stats-&gt;tot_cc = <a class="code" href="group__odp__cpu.html#ga149b333a5075d5e542fbe42adbb84d65">odp_cpu_cycles_diff</a>(c2, c1);</div>
<div class="line">    stats-&gt;sched_rounds = rounds;</div>
<div class="line">    free_pending_packets(pkt_vecs, num_ifs, stats);</div>
<div class="line">    <a class="code" href="group__odp__barrier.html#ga97c8f84490e816330f96155acf0b4b77">odp_barrier_wait</a>(&amp;config-&gt;prog_config-&gt;term_barrier);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;prog_config-&gt;drain_fn)</div>
<div class="line">        config-&gt;prog_config-&gt;drain_fn(config);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> setup_workers(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a name="_a200"></a><a class="code" href="structodp__cpumask__s.html">odp_cpumask_t</a> cpumask;</div>
<div class="line">    <span class="keywordtype">int</span> num_workers;</div>
<div class="line">    odph_thread_common_param_t thr_common;</div>
<div class="line">    odph_thread_param_t thr_param[config-&gt;num_thrs];</div>
<div class="line"> </div>
<div class="line">    num_workers = <a name="a201"></a><a class="code" href="group__odp__cpumask.html#ga4ff2d29f52775b12c7df1995754b524d">odp_cpumask_default_worker</a>(&amp;cpumask, config-&gt;num_thrs);</div>
<div class="line">    odph_thread_common_param_init(&amp;thr_common);</div>
<div class="line">    thr_common.instance = config-&gt;odp_instance;</div>
<div class="line">    thr_common.cpumask = &amp;cpumask;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; config-&gt;num_thrs; ++i) {</div>
<div class="line">        odph_thread_param_init(&amp;thr_param[i]);</div>
<div class="line">        thr_param[i].start = process_packets;</div>
<div class="line">        thr_param[i].thr_type = <a name="a202"></a><a class="code" href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a2182066d714db5f2a4e994ad92f25b2a">ODP_THREAD_WORKER</a>;</div>
<div class="line">        config-&gt;thread_config[i].prog_config = config;</div>
<div class="line">        thr_param[i].arg = &amp;config-&gt;thread_config[i];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    num_workers = odph_thread_create(config-&gt;thread_tbl, &amp;thr_common, thr_param, num_workers);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (num_workers != config-&gt;num_thrs) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error configuring worker threads\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a> setup_test(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <a name="a203"></a><a class="code" href="group__odp__barrier.html#ga1416b47755c2af6267074959ac0d4840">odp_barrier_init</a>(&amp;config-&gt;init_barrier, config-&gt;num_thrs + 1);</div>
<div class="line">    <a class="code" href="group__odp__barrier.html#ga1416b47755c2af6267074959ac0d4840">odp_barrier_init</a>(&amp;config-&gt;term_barrier, config-&gt;num_thrs + 1);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!setup_copy(config))</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!setup_pktios(config))</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!setup_workers(config))</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__odp__barrier.html#ga97c8f84490e816330f96155acf0b4b77">odp_barrier_wait</a>(&amp;config-&gt;init_barrier);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> stop_test(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0U; i &lt; config-&gt;num_ifs; ++i)</div>
<div class="line">        <span class="keywordflow">if</span> (config-&gt;pktios[i].handle != <a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a>)</div>
<div class="line">            (void)<a name="a204"></a><a class="code" href="group__odp__packet__io.html#gab34cb9679bf99d1b3366f06a9b155c41">odp_pktio_stop</a>(config-&gt;pktios[i].handle);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__odp__barrier.html#ga97c8f84490e816330f96155acf0b4b77">odp_barrier_wait</a>(&amp;config-&gt;term_barrier);</div>
<div class="line">    (void)odph_thread_join(config-&gt;thread_tbl, config-&gt;num_thrs);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> teardown(prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    thread_config_t *thr;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t i = 0U; i &lt; config-&gt;num_ifs; ++i) {</div>
<div class="line">        free(config-&gt;pktios[i].name);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (config-&gt;pktios[i].handle != <a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a>)</div>
<div class="line">            (void)<a name="a205"></a><a class="code" href="group__odp__packet__io.html#ga2e481c9f2f073cc337aff7f4c65cba7c">odp_pktio_close</a>(config-&gt;pktios[i].handle);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;pktio_pool != <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>)</div>
<div class="line">        (void)<a name="a206"></a><a class="code" href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a>(config-&gt;pktio_pool);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; config-&gt;num_thrs; ++i) {</div>
<div class="line">        thr = &amp;config-&gt;thread_config[i];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (thr-&gt;inflight_stash != <a class="code" href="group__odp__stash.html#ga34969641fe94a21fcd737377315ff5a0">ODP_STASH_INVALID</a>)</div>
<div class="line">            (void)<a name="a207"></a><a class="code" href="group__odp__stash.html#ga9981da6e5fec224182c4060b05f97cc7">odp_stash_destroy</a>(thr-&gt;inflight_stash);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (thr-&gt;compl_q != <a class="code" href="group__odp__queue.html#ga771259a58e71e065e0d00d2fc431b014">ODP_QUEUE_INVALID</a>)</div>
<div class="line">            (void)<a name="a208"></a><a class="code" href="group__odp__queue.html#gad1e1d2709808385025dd5f005f7690c4">odp_queue_destroy</a>(thr-&gt;compl_q);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (thr-&gt;compl_pool != <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>)</div>
<div class="line">            (void)<a class="code" href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a>(thr-&gt;compl_pool);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (thr-&gt;dma_handle != <a class="code" href="group__odp__dma.html#gaf0a75419d62bf83022397a55082ba67b">ODP_DMA_INVALID</a>)</div>
<div class="line">            (void)<a name="a209"></a><a class="code" href="group__odp__dma.html#ga32ab057e1680822aec25470fa9129c5b">odp_dma_destroy</a>(thr-&gt;dma_handle);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;copy_pool != <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>)</div>
<div class="line">        (void)<a class="code" href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a>(config-&gt;copy_pool);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (config-&gt;trs_pool != <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>)</div>
<div class="line">        (void)<a class="code" href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a>(config-&gt;trs_pool);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_stats(<span class="keyword">const</span> prog_config_t *config)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> stats_t *stats;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *align1 = config-&gt;copy_type == DMA_COPY_EV ? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *align2 = config-&gt;copy_type == SW_COPY ? <span class="stringliteral">&quot;  &quot;</span> :</div>
<div class="line">                config-&gt;copy_type == DMA_COPY_EV ? <span class="stringliteral">&quot;                  &quot;</span> :</div>
<div class="line">                    <span class="stringliteral">&quot;                 &quot;</span>;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n==================\n\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;DMA forwarder done\n\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;    copy mode:       %s\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;    burst size:      %u\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;    packet length:   %u\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;    max cache size:  %u\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;    use DMA source segment free: %s\n&quot;</span>, config-&gt;copy_type == SW_COPY ? <span class="stringliteral">&quot;SW&quot;</span> :</div>
<div class="line">           config-&gt;copy_type == DMA_COPY_EV ? <span class="stringliteral">&quot;DMA-event&quot;</span> : <span class="stringliteral">&quot;DMA-poll&quot;</span>,</div>
<div class="line">           config-&gt;burst_size, config-&gt;pkt_len, config-&gt;cache_size,</div>
<div class="line">           config-&gt;seg_free ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; config-&gt;num_thrs; ++i) {</div>
<div class="line">        stats = &amp;config-&gt;thread_config[i].stats;</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;\n    worker %d:\n&quot;</span>, i);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (config-&gt;copy_type == SW_COPY) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;        packet copy errors: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                   stats-&gt;copy_errs);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            printf(<span class="stringliteral">&quot;        successful DMA transfers:          %s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;        DMA transfer start errors:         %s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;        DMA transfer errors:               %s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;        transfer buffer allocation errors: %s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                   <span class="stringliteral">&quot;        copy packet allocation errors:     %s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                   align1, stats-&gt;trs, align1, stats-&gt;start_errs, align1,</div>
<div class="line">                   stats-&gt;trs_errs, align1, stats-&gt;buf_alloc_errs, align1,</div>
<div class="line">                   stats-&gt;pkt_alloc_errs);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (config-&gt;copy_type == DMA_COPY_EV)</div>
<div class="line">                printf(<span class="stringliteral">&quot;        completion event allocation errors: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                       stats-&gt;compl_alloc_errs);</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                printf(<span class="stringliteral">&quot;        transfer ID allocation errors:     %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;        transfer poll errors:              %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;        transfers polled:                  %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                       stats-&gt;compl_alloc_errs, stats-&gt;trs_poll_errs,</div>
<div class="line">                       stats-&gt;trs_polled);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;        packets forwarded:%s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;        packets dropped:  %s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;        packets cleanup:  %s%&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;        call cycles per schedule round:\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;            total:    %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;            schedule: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;            rounds:   %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, align2, stats-&gt;fwd_pkts, align2,</div>
<div class="line">               stats-&gt;discards, align2, stats-&gt;pkt_cleanup, DIV_IF(stats-&gt;tot_cc,</div>
<div class="line">               stats-&gt;sched_rounds), DIV_IF(stats-&gt;sched_cc, stats-&gt;sched_rounds),</div>
<div class="line">               stats-&gt;sched_rounds);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n==================\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    odph_helper_options_t odph_opts;</div>
<div class="line">    <a name="_a210"></a><a class="code" href="structodp__init__t.html">odp_init_t</a> init_param;</div>
<div class="line">    <a class="code" href="group__odp__initialization.html#ga8d362bd3c7c87ab5892ca63b15c375c0">odp_instance_t</a> <a class="code" href="group__odp__initialization.html#ga076abe89a81ffb7a7ba46a912eca2166">odp_instance</a>;</div>
<div class="line">    <a name="_a211"></a><a class="code" href="struct__odp__abi__shm__t.html">odp_shm_t</a> shm_cfg = <a name="a212"></a><a class="code" href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a>;</div>
<div class="line">    <span class="keywordtype">int</span> ret = EXIT_SUCCESS;</div>
<div class="line">    parse_result_t parse_res;</div>
<div class="line"> </div>
<div class="line">    argc = odph_parse_options(argc, argv);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (odph_options(&amp;odph_opts) == -1) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error while reading ODP helper options, exiting\n&quot;</span>);</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="a213"></a><a class="code" href="group__odp__initialization.html#ga145c4fc4417c8f58efd0852b34e25ba9">odp_init_param_init</a>(&amp;init_param);</div>
<div class="line">    init_param.<a name="a214"></a><a class="code" href="structodp__init__t.html#a7d368c740146170ebeb1651ce049919e">mem_model</a> = odph_opts.mem_model;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a215"></a><a class="code" href="group__odp__initialization.html#ga68d81088e65ef66180fb51076905e34d">odp_init_global</a>(&amp;<a class="code" href="group__odp__initialization.html#ga076abe89a81ffb7a7ba46a912eca2166">odp_instance</a>, &amp;init_param, NULL)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;ODP global init failed, exiting\n&quot;</span>);</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a216"></a><a class="code" href="group__odp__initialization.html#ga265470ea614bfeca9d8901e81ddefca9">odp_init_local</a>(<a class="code" href="group__odp__initialization.html#ga076abe89a81ffb7a7ba46a912eca2166">odp_instance</a>, <a name="a217"></a><a class="code" href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a">ODP_THREAD_CONTROL</a>)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;ODP local init failed, exiting\n&quot;</span>);</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    shm_cfg = <a name="a218"></a><a class="code" href="group__odp__shared__memory.html#gacc441b0e100ec1c54e21f1745939a2d8">odp_shm_reserve</a>(PROG_NAME <span class="stringliteral">&quot;_cfg&quot;</span>, <span class="keyword">sizeof</span>(prog_config_t), ODP_CACHE_LINE_SIZE,</div>
<div class="line">                  0U);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (shm_cfg == <a class="code" href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error reserving shared memory\n&quot;</span>);</div>
<div class="line">        ret = EXIT_FAILURE;</div>
<div class="line">        <span class="keywordflow">goto</span> out;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    prog_conf = <a name="a219"></a><a class="code" href="group__odp__shared__memory.html#gac94c4232f7cd64039bbaef601ff2c05e">odp_shm_addr</a>(shm_cfg);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (prog_conf == NULL) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error resolving shared memory address\n&quot;</span>);</div>
<div class="line">        ret = EXIT_FAILURE;</div>
<div class="line">        <span class="keywordflow">goto</span> out;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    parse_res = setup_program(argc, argv, prog_conf);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (parse_res == PRS_NOK) {</div>
<div class="line">        ret = EXIT_FAILURE;</div>
<div class="line">        <span class="keywordflow">goto</span> out_test;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (parse_res == PRS_TERM) {</div>
<div class="line">        ret = EXIT_SUCCESS;</div>
<div class="line">        <span class="keywordflow">goto</span> out_test;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (parse_res == PRS_NOT_SUP) {</div>
<div class="line">        ret = EXIT_NOT_SUP;</div>
<div class="line">        <span class="keywordflow">goto</span> out_test;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a220"></a><a class="code" href="group__odp__scheduler.html#gaa1b51ebd46adeb6aa7805fccb00144df">odp_schedule_config</a>(NULL) &lt; 0) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Error configuring scheduler\n&quot;</span>);</div>
<div class="line">        ret = EXIT_FAILURE;</div>
<div class="line">        <span class="keywordflow">goto</span> out_test;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    prog_conf-&gt;odp_instance = <a class="code" href="group__odp__initialization.html#ga076abe89a81ffb7a7ba46a912eca2166">odp_instance</a>;</div>
<div class="line">    <a name="a221"></a><a class="code" href="group__odp__atomic.html#ga0029015adacaadb06ee94ea67d00eece">odp_atomic_init_u32</a>(&amp;prog_conf-&gt;is_running, 1U);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!setup_test(prog_conf)) {</div>
<div class="line">        ret = EXIT_FAILURE;</div>
<div class="line">        <span class="keywordflow">goto</span> out_test;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (prog_conf-&gt;time_sec &gt; 0.001) {</div>
<div class="line">        <span class="keyword">struct </span>timespec ts;</div>
<div class="line"> </div>
<div class="line">        ts.tv_sec = prog_conf-&gt;time_sec;</div>
<div class="line">        ts.tv_nsec = (prog_conf-&gt;time_sec - ts.tv_sec) * <a name="a222"></a><a class="code" href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a>;</div>
<div class="line">        nanosleep(&amp;ts, NULL);</div>
<div class="line">        <a class="code" href="group__odp__atomic.html#gaa6d2d16a9ef9897b1442d77e41f7101e">odp_atomic_store_u32</a>(&amp;prog_conf-&gt;is_running, 0U);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keywordflow">while</span> (<a class="code" href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a>(&amp;prog_conf-&gt;is_running))</div>
<div class="line">            sleep(1U);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    stop_test(prog_conf);</div>
<div class="line">    print_stats(prog_conf);</div>
<div class="line"> </div>
<div class="line">out_test:</div>
<div class="line">    teardown(prog_conf);</div>
<div class="line"> </div>
<div class="line">out:</div>
<div class="line">    <span class="keywordflow">if</span> (shm_cfg != <a class="code" href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a>)</div>
<div class="line">        (void)<a name="a223"></a><a class="code" href="group__odp__shared__memory.html#ga0b02991b512acc119206b44c95a86ed6">odp_shm_free</a>(shm_cfg);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a224"></a><a class="code" href="group__odp__initialization.html#ga6d15f0e1718da9477948dedb06a2f01a">odp_term_local</a>()) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;ODP local terminate failed, exiting\n&quot;</span>);</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a225"></a><a class="code" href="group__odp__initialization.html#ga87e9c66ad92201c9e0a710294eab1569">odp_term_global</a>(<a class="code" href="group__odp__initialization.html#ga076abe89a81ffb7a7ba46a912eca2166">odp_instance</a>)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;ODP global terminate failed, exiting\n&quot;</span>);</div>
<div class="line">        exit(EXIT_FAILURE);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__odp__atomic_html_ga0029015adacaadb06ee94ea67d00eece"><div class="ttname"><a href="group__odp__atomic.html#ga0029015adacaadb06ee94ea67d00eece">odp_atomic_init_u32</a></div><div class="ttdeci">void odp_atomic_init_u32(odp_atomic_u32_t *atom, uint32_t val)</div><div class="ttdoc">Initialize atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__atomic_html_ga1ebc0fa6d690c24bd2bcc38bcb9a2276"><div class="ttname"><a href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a></div><div class="ttdeci">uint32_t odp_atomic_load_u32(odp_atomic_u32_t *atom)</div><div class="ttdoc">Load value of atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__atomic_html_gaa6d2d16a9ef9897b1442d77e41f7101e"><div class="ttname"><a href="group__odp__atomic.html#gaa6d2d16a9ef9897b1442d77e41f7101e">odp_atomic_store_u32</a></div><div class="ttdeci">void odp_atomic_store_u32(odp_atomic_u32_t *atom, uint32_t val)</div><div class="ttdoc">Store value to atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__barrier_html_ga1416b47755c2af6267074959ac0d4840"><div class="ttname"><a href="group__odp__barrier.html#ga1416b47755c2af6267074959ac0d4840">odp_barrier_init</a></div><div class="ttdeci">void odp_barrier_init(odp_barrier_t *barr, int count)</div><div class="ttdoc">Initialize barrier with thread count.</div></div>
<div class="ttc" id="agroup__odp__barrier_html_ga97c8f84490e816330f96155acf0b4b77"><div class="ttname"><a href="group__odp__barrier.html#ga97c8f84490e816330f96155acf0b4b77">odp_barrier_wait</a></div><div class="ttdeci">void odp_barrier_wait(odp_barrier_t *barr)</div><div class="ttdoc">Synchronize thread execution on barrier.</div></div>
<div class="ttc" id="agroup__odp__buffer_html_ga2d7e4d7385b794f5016c000a94361dbd"><div class="ttname"><a href="group__odp__buffer.html#ga2d7e4d7385b794f5016c000a94361dbd">odp_buffer_alloc</a></div><div class="ttdeci">odp_buffer_t odp_buffer_alloc(odp_pool_t pool)</div><div class="ttdoc">Buffer alloc.</div></div>
<div class="ttc" id="agroup__odp__buffer_html_ga369868c254f4bb83559c17962a7d516f"><div class="ttname"><a href="group__odp__buffer.html#ga369868c254f4bb83559c17962a7d516f">odp_buffer_free</a></div><div class="ttdeci">void odp_buffer_free(odp_buffer_t buf)</div><div class="ttdoc">Buffer free.</div></div>
<div class="ttc" id="agroup__odp__buffer_html_ga48f34caa699db93599513ffc14ba0dd2"><div class="ttname"><a href="group__odp__buffer.html#ga48f34caa699db93599513ffc14ba0dd2">odp_buffer_addr</a></div><div class="ttdeci">void * odp_buffer_addr(odp_buffer_t buf)</div><div class="ttdoc">Buffer start address.</div></div>
<div class="ttc" id="agroup__odp__buffer_html_gab29c732b3d94a5788d984b5042fcbc05"><div class="ttname"><a href="group__odp__buffer.html#gab29c732b3d94a5788d984b5042fcbc05">odp_buffer_t</a></div><div class="ttdeci">_odp_abi_buffer_t * odp_buffer_t</div><div class="ttdoc">ODP buffer.</div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2buffer__types_8h_source.html#l00020">api/abi-default/buffer_types.h:20</a></div></div>
<div class="ttc" id="agroup__odp__buffer_html_gabdd0bdf9a225e7fca8d3bdd3d717adda"><div class="ttname"><a href="group__odp__buffer.html#gabdd0bdf9a225e7fca8d3bdd3d717adda">ODP_BUFFER_INVALID</a></div><div class="ttdeci">#define ODP_BUFFER_INVALID</div><div class="ttdoc">Invalid buffer.</div></div>
<div class="ttc" id="agroup__odp__compiler__optim_html_ga205a8257879c02657e7c39ee7ad5e40a"><div class="ttname"><a href="group__odp__compiler__optim.html#ga205a8257879c02657e7c39ee7ad5e40a">ODP_ALIGNED_CACHE</a></div><div class="ttdeci">#define ODP_ALIGNED_CACHE</div><div class="ttdoc">Defines type/struct/variable to be cache line size aligned.</div></div>
<div class="ttc" id="agroup__odp__compiler__optim_html_ga2b29f27f12b751250b471aa9c14c57c8"><div class="ttname"><a href="group__odp__compiler__optim.html#ga2b29f27f12b751250b471aa9c14c57c8">odp_unlikely</a></div><div class="ttdeci">#define odp_unlikely(x)</div><div class="ttdoc">Branch unlikely taken.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2hints_8h_source.html#l00064">spec/hints.h:64</a></div></div>
<div class="ttc" id="agroup__odp__compiler__optim_html_ga45a2684e38da3e71b300bc89de5d6b52"><div class="ttname"><a href="group__odp__compiler__optim.html#ga45a2684e38da3e71b300bc89de5d6b52">ODP_UNUSED</a></div><div class="ttdeci">#define ODP_UNUSED</div><div class="ttdoc">Intentionally unused variables of functions.</div><div class="ttdef"><b>Definition:</b> <a href="spec_2hints_8h_source.html#l00054">spec/hints.h:54</a></div></div>
<div class="ttc" id="agroup__odp__cpu_html_ga149b333a5075d5e542fbe42adbb84d65"><div class="ttname"><a href="group__odp__cpu.html#ga149b333a5075d5e542fbe42adbb84d65">odp_cpu_cycles_diff</a></div><div class="ttdeci">uint64_t odp_cpu_cycles_diff(uint64_t c2, uint64_t c1)</div><div class="ttdoc">CPU cycle count difference.</div></div>
<div class="ttc" id="agroup__odp__cpu_html_ga1eddc2169c7e7d90f194054499a4548b"><div class="ttname"><a href="group__odp__cpu.html#ga1eddc2169c7e7d90f194054499a4548b">odp_cpu_cycles</a></div><div class="ttdeci">uint64_t odp_cpu_cycles(void)</div><div class="ttdoc">Current CPU cycle count.</div></div>
<div class="ttc" id="agroup__odp__cpumask_html_ga4ff2d29f52775b12c7df1995754b524d"><div class="ttname"><a href="group__odp__cpumask.html#ga4ff2d29f52775b12c7df1995754b524d">odp_cpumask_default_worker</a></div><div class="ttdeci">int odp_cpumask_default_worker(odp_cpumask_t *mask, int num)</div><div class="ttdoc">Default CPU mask for worker threads.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga04b2a801e3751cdea60d4c1d0bb5d041"><div class="ttname"><a href="group__odp__dma.html#ga04b2a801e3751cdea60d4c1d0bb5d041">odp_dma_create</a></div><div class="ttdeci">odp_dma_t odp_dma_create(const char *name, const odp_dma_param_t *param)</div><div class="ttdoc">Create DMA session.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga1027901636b98e8414503c312ec5e271"><div class="ttname"><a href="group__odp__dma.html#ga1027901636b98e8414503c312ec5e271">odp_dma_pool_create</a></div><div class="ttdeci">odp_pool_t odp_dma_pool_create(const char *name, const odp_dma_pool_param_t *pool_param)</div><div class="ttdoc">Create DMA completion event pool.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga129def4ba96c9aa853b1fc3e84ab201c"><div class="ttname"><a href="group__odp__dma.html#ga129def4ba96c9aa853b1fc3e84ab201c">odp_dma_transfer_done</a></div><div class="ttdeci">int odp_dma_transfer_done(odp_dma_t dma, odp_dma_transfer_id_t transfer_id, odp_dma_result_t *result)</div><div class="ttdoc">Check if DMA transfer has completed.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga19586c982f8c35835295120790a97897"><div class="ttname"><a href="group__odp__dma.html#ga19586c982f8c35835295120790a97897">ODP_DMA_TYPE_COPY</a></div><div class="ttdeci">#define ODP_DMA_TYPE_COPY</div><div class="ttdoc">Copy data.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00176">api/spec/dma_types.h:176</a></div></div>
<div class="ttc" id="agroup__odp__dma_html_ga20733801cac52b192b417e957ff38269"><div class="ttname"><a href="group__odp__dma.html#ga20733801cac52b192b417e957ff38269">odp_dma_transfer_id_free</a></div><div class="ttdeci">void odp_dma_transfer_id_free(odp_dma_t dma, odp_dma_transfer_id_t transfer_id)</div><div class="ttdoc">Free DMA transfer identifier.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga2aa0a1bb1f1c5a52d30b6f6d6b1dfc25"><div class="ttname"><a href="group__odp__dma.html#ga2aa0a1bb1f1c5a52d30b6f6d6b1dfc25">ODP_DMA_COMPL_EVENT</a></div><div class="ttdeci">#define ODP_DMA_COMPL_EVENT</div><div class="ttdoc">Asynchronous transfer with completion event.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00212">api/spec/dma_types.h:212</a></div></div>
<div class="ttc" id="agroup__odp__dma_html_ga2e9a1ed9c0e5dbcab0c5dec6bb9e2626"><div class="ttname"><a href="group__odp__dma.html#ga2e9a1ed9c0e5dbcab0c5dec6bb9e2626">odp_dma_transfer_param_init</a></div><div class="ttdeci">void odp_dma_transfer_param_init(odp_dma_transfer_param_t *trs_param)</div><div class="ttdoc">Initialize DMA transfer parameters.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga32ab057e1680822aec25470fa9129c5b"><div class="ttname"><a href="group__odp__dma.html#ga32ab057e1680822aec25470fa9129c5b">odp_dma_destroy</a></div><div class="ttdeci">int odp_dma_destroy(odp_dma_t dma)</div><div class="ttdoc">Destroy DMA session.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga44228bda93f04fbd6e3e25cf9838eed6"><div class="ttname"><a href="group__odp__dma.html#ga44228bda93f04fbd6e3e25cf9838eed6">odp_dma_compl_result</a></div><div class="ttdeci">int odp_dma_compl_result(odp_dma_compl_t dma_compl, odp_dma_result_t *result)</div><div class="ttdoc">Check DMA completion event.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga4bea3cfe12e4e906238497632a12f4b4"><div class="ttname"><a href="group__odp__dma.html#ga4bea3cfe12e4e906238497632a12f4b4">odp_dma_compl_param_init</a></div><div class="ttdeci">void odp_dma_compl_param_init(odp_dma_compl_param_t *compl_param)</div><div class="ttdoc">Initialize DMA transfer completion parameters.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga4dc5b62b55a75211072a8ce16d9f779b"><div class="ttname"><a href="group__odp__dma.html#ga4dc5b62b55a75211072a8ce16d9f779b">ODP_DMA_TRANSFER_ID_INVALID</a></div><div class="ttdeci">#define ODP_DMA_TRANSFER_ID_INVALID</div><div class="ttdoc">Invalid DMA transfer identifier.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga4fe5f67b46f058c22bbca3a28c971228"><div class="ttname"><a href="group__odp__dma.html#ga4fe5f67b46f058c22bbca3a28c971228">ODP_DMA_COMPL_INVALID</a></div><div class="ttdeci">#define ODP_DMA_COMPL_INVALID</div><div class="ttdoc">Invalid DMA completion event.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga5a530b0db782f8e9738f27cddb2f3c84"><div class="ttname"><a href="group__odp__dma.html#ga5a530b0db782f8e9738f27cddb2f3c84">odp_dma_compl_to_event</a></div><div class="ttdeci">odp_event_t odp_dma_compl_to_event(odp_dma_compl_t dma_compl)</div><div class="ttdoc">Convert DMA completion event to event.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga65d9be12ba0c9a04da4cbbf06935152d"><div class="ttname"><a href="group__odp__dma.html#ga65d9be12ba0c9a04da4cbbf06935152d">odp_dma_pool_param_init</a></div><div class="ttdeci">void odp_dma_pool_param_init(odp_dma_pool_param_t *pool_param)</div><div class="ttdoc">Initialize DMA completion event pool parameters.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga78cf0627210cb6b7229f7ded31759f47"><div class="ttname"><a href="group__odp__dma.html#ga78cf0627210cb6b7229f7ded31759f47">odp_dma_transfer_start</a></div><div class="ttdeci">int odp_dma_transfer_start(odp_dma_t dma, const odp_dma_transfer_param_t *trs_param, const odp_dma_compl_param_t *compl_param)</div><div class="ttdoc">Start DMA transfer.</div></div>
<div class="ttc" id="agroup__odp__dma_html_ga840017234a4ee2e8f5c6b240094ab50d"><div class="ttname"><a href="group__odp__dma.html#ga840017234a4ee2e8f5c6b240094ab50d">odp_dma_transfer_id_t</a></div><div class="ttdeci">uint64_t odp_dma_transfer_id_t</div><div class="ttdoc">DMA transfer identifier.</div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2dma__types_8h_source.html#l00032">api/abi-default/dma_types.h:32</a></div></div>
<div class="ttc" id="agroup__odp__dma_html_ga9fc1c7a86010a0ed5862444884efd1ec"><div class="ttname"><a href="group__odp__dma.html#ga9fc1c7a86010a0ed5862444884efd1ec">odp_dma_compl_from_event</a></div><div class="ttdeci">odp_dma_compl_t odp_dma_compl_from_event(odp_event_t ev)</div><div class="ttdoc">Convert event to DMA completion event.</div></div>
<div class="ttc" id="agroup__odp__dma_html_gaa549c40761565eda1149a1f2e6bf398e"><div class="ttname"><a href="group__odp__dma.html#gaa549c40761565eda1149a1f2e6bf398e">ODP_DMA_MAIN_TO_MAIN</a></div><div class="ttdeci">#define ODP_DMA_MAIN_TO_MAIN</div><div class="ttdoc">DMA transfer within the main memory.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00156">api/spec/dma_types.h:156</a></div></div>
<div class="ttc" id="agroup__odp__dma_html_gae6f4284ba090db40a94d2ef041964691"><div class="ttname"><a href="group__odp__dma.html#gae6f4284ba090db40a94d2ef041964691">odp_dma_capability</a></div><div class="ttdeci">int odp_dma_capability(odp_dma_capability_t *capa)</div><div class="ttdoc">Query DMA capabilities.</div></div>
<div class="ttc" id="agroup__odp__dma_html_gaef089827d6ff13388394b81829b8dac9"><div class="ttname"><a href="group__odp__dma.html#gaef089827d6ff13388394b81829b8dac9">odp_dma_transfer_id_alloc</a></div><div class="ttdeci">odp_dma_transfer_id_t odp_dma_transfer_id_alloc(odp_dma_t dma)</div><div class="ttdoc">Allocate DMA transfer identifier.</div></div>
<div class="ttc" id="agroup__odp__dma_html_gaf02ee00c775ab5d64021b8adcc118985"><div class="ttname"><a href="group__odp__dma.html#gaf02ee00c775ab5d64021b8adcc118985">odp_dma_compl_free</a></div><div class="ttdeci">void odp_dma_compl_free(odp_dma_compl_t dma_compl)</div><div class="ttdoc">Free DMA completion event.</div></div>
<div class="ttc" id="agroup__odp__dma_html_gaf0a75419d62bf83022397a55082ba67b"><div class="ttname"><a href="group__odp__dma.html#gaf0a75419d62bf83022397a55082ba67b">ODP_DMA_INVALID</a></div><div class="ttdeci">#define ODP_DMA_INVALID</div><div class="ttdoc">Invalid DMA session.</div></div>
<div class="ttc" id="agroup__odp__dma_html_gafe66220e41350ee67d69e198278d7df5"><div class="ttname"><a href="group__odp__dma.html#gafe66220e41350ee67d69e198278d7df5">ODP_DMA_COMPL_POLL</a></div><div class="ttdeci">#define ODP_DMA_COMPL_POLL</div><div class="ttdoc">Asynchronous transfer with completion polling.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00219">api/spec/dma_types.h:219</a></div></div>
<div class="ttc" id="agroup__odp__dma_html_gafefc13033141d1e2721836c9cca774ad"><div class="ttname"><a href="group__odp__dma.html#gafefc13033141d1e2721836c9cca774ad">odp_dma_compl_alloc</a></div><div class="ttdeci">odp_dma_compl_t odp_dma_compl_alloc(odp_pool_t pool)</div><div class="ttdoc">Allocate DMA completion event.</div></div>
<div class="ttc" id="agroup__odp__dma_html_gga2fd1c1bb4ff8f93ebfc97337a7a7df38a83d5a4991975ff47a6503622c7fed132"><div class="ttname"><a href="group__odp__dma.html#gga2fd1c1bb4ff8f93ebfc97337a7a7df38a83d5a4991975ff47a6503622c7fed132">ODP_DMA_MT_SERIAL</a></div><div class="ttdeci">@ ODP_DMA_MT_SERIAL</div><div class="ttdoc">Application serializes operations.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00288">api/spec/dma_types.h:286</a></div></div>
<div class="ttc" id="agroup__odp__dma_html_gga3c7d7bad5e3ca4c6cf4345d23eb70cb7a9db9688d9acd390a0b96872d8b5add3b"><div class="ttname"><a href="group__odp__dma.html#gga3c7d7bad5e3ca4c6cf4345d23eb70cb7a9db9688d9acd390a0b96872d8b5add3b">ODP_DMA_FORMAT_PACKET</a></div><div class="ttdeci">@ ODP_DMA_FORMAT_PACKET</div><div class="ttdoc">Data format is odp_packet_t.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00231">api/spec/dma_types.h:229</a></div></div>
<div class="ttc" id="agroup__odp__dma_html_ggad344ffdd202b46bec211bd6cfc90be60af5742fb9e88a376e12fda0e695facfe2"><div class="ttname"><a href="group__odp__dma.html#ggad344ffdd202b46bec211bd6cfc90be60af5742fb9e88a376e12fda0e695facfe2">ODP_DMA_ORDER_NONE</a></div><div class="ttdeci">@ ODP_DMA_ORDER_NONE</div><div class="ttdoc">No specific ordering between transfers.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00251">api/spec/dma_types.h:251</a></div></div>
<div class="ttc" id="agroup__odp__event_html_ga1622f73356c325f625db747cb3badf8d"><div class="ttname"><a href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a></div><div class="ttdeci">void odp_event_free(odp_event_t event)</div><div class="ttdoc">Free event.</div></div>
<div class="ttc" id="agroup__odp__event_html_ga4bd59cdf228fe0c36b8e04fe122e047a"><div class="ttname"><a href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a></div><div class="ttdeci">odp_event_type_t odp_event_type(odp_event_t event)</div><div class="ttdoc">Event type of an event.</div></div>
<div class="ttc" id="agroup__odp__event_html_gaa1aaa409bc6ae09aab02e74c3df3860c"><div class="ttname"><a href="group__odp__event.html#gaa1aaa409bc6ae09aab02e74c3df3860c">odp_event_type_t</a></div><div class="ttdeci">odp_event_type_t</div><div class="ttdoc">Event type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2event__types_8h_source.html#l00026">api/abi-default/event_types.h:26</a></div></div>
<div class="ttc" id="agroup__odp__event_html_gae1a3732a534ba7a892fca38b824591b0"><div class="ttname"><a href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a></div><div class="ttdeci">#define ODP_EVENT_INVALID</div><div class="ttdoc">Invalid event.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga076abe89a81ffb7a7ba46a912eca2166"><div class="ttname"><a href="group__odp__initialization.html#ga076abe89a81ffb7a7ba46a912eca2166">odp_instance</a></div><div class="ttdeci">int odp_instance(odp_instance_t *instance)</div><div class="ttdoc">Get instance handle.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga145c4fc4417c8f58efd0852b34e25ba9"><div class="ttname"><a href="group__odp__initialization.html#ga145c4fc4417c8f58efd0852b34e25ba9">odp_init_param_init</a></div><div class="ttdeci">void odp_init_param_init(odp_init_t *param)</div><div class="ttdoc">Initialize the odp_init_t to default values for all fields.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga1c51393d64c840c04df3536b6fe40b95"><div class="ttname"><a href="group__odp__initialization.html#ga1c51393d64c840c04df3536b6fe40b95">ODP_STATIC_ASSERT</a></div><div class="ttdeci">#define ODP_STATIC_ASSERT(cond, msg)</div><div class="ttdoc">Compile time assertion macro.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga265470ea614bfeca9d8901e81ddefca9"><div class="ttname"><a href="group__odp__initialization.html#ga265470ea614bfeca9d8901e81ddefca9">odp_init_local</a></div><div class="ttdeci">int odp_init_local(odp_instance_t instance, odp_thread_type_t thr_type)</div><div class="ttdoc">Thread local ODP initialization.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga68d81088e65ef66180fb51076905e34d"><div class="ttname"><a href="group__odp__initialization.html#ga68d81088e65ef66180fb51076905e34d">odp_init_global</a></div><div class="ttdeci">int odp_init_global(odp_instance_t *instance, const odp_init_t *params, const odp_platform_init_t *platform_params)</div><div class="ttdoc">Global ODP initialization.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga6d15f0e1718da9477948dedb06a2f01a"><div class="ttname"><a href="group__odp__initialization.html#ga6d15f0e1718da9477948dedb06a2f01a">odp_term_local</a></div><div class="ttdeci">int odp_term_local(void)</div><div class="ttdoc">Thread local ODP termination.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga87e9c66ad92201c9e0a710294eab1569"><div class="ttname"><a href="group__odp__initialization.html#ga87e9c66ad92201c9e0a710294eab1569">odp_term_global</a></div><div class="ttdeci">int odp_term_global(odp_instance_t instance)</div><div class="ttdoc">Global ODP termination.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga8d362bd3c7c87ab5892ca63b15c375c0"><div class="ttname"><a href="group__odp__initialization.html#ga8d362bd3c7c87ab5892ca63b15c375c0">odp_instance_t</a></div><div class="ttdeci">uint64_t odp_instance_t</div><div class="ttdoc">ODP instance ID.</div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2init_8h_source.html#l00031">api/abi-default/init.h:31</a></div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga055eabf5622e6745afbe9a1550ad1d78"><div class="ttname"><a href="group__odp__packet__io.html#ga055eabf5622e6745afbe9a1550ad1d78">odp_pktin_queue_param_init</a></div><div class="ttdeci">void odp_pktin_queue_param_init(odp_pktin_queue_param_t *param)</div><div class="ttdoc">Initialize packet input queue parameters.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga26d165a22d659770eba0c48543860881"><div class="ttname"><a href="group__odp__packet__io.html#ga26d165a22d659770eba0c48543860881">odp_pktio_param_init</a></div><div class="ttdeci">void odp_pktio_param_init(odp_pktio_param_t *param)</div><div class="ttdoc">Initialize pktio params.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga2e481c9f2f073cc337aff7f4c65cba7c"><div class="ttname"><a href="group__odp__packet__io.html#ga2e481c9f2f073cc337aff7f4c65cba7c">odp_pktio_close</a></div><div class="ttdeci">int odp_pktio_close(odp_pktio_t pktio)</div><div class="ttdoc">Close a packet IO interface.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga41a3ebb7ac489b85a5f7560e4d4f77f5"><div class="ttname"><a href="group__odp__packet__io.html#ga41a3ebb7ac489b85a5f7560e4d4f77f5">odp_pktout_queue</a></div><div class="ttdeci">int odp_pktout_queue(odp_pktio_t pktio, odp_pktout_queue_t queues[], int num)</div><div class="ttdoc">Direct packet output queues.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga7ae4f96ab09d468fff3623d90db306f9"><div class="ttname"><a href="group__odp__packet__io.html#ga7ae4f96ab09d468fff3623d90db306f9">odp_pktio_open</a></div><div class="ttdeci">odp_pktio_t odp_pktio_open(const char *name, odp_pool_t pool, const odp_pktio_param_t *param)</div><div class="ttdoc">Open a packet IO interface.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga9a5746e73616297fabb8d4caaa6d0333"><div class="ttname"><a href="group__odp__packet__io.html#ga9a5746e73616297fabb8d4caaa6d0333">odp_pktio_start</a></div><div class="ttdeci">int odp_pktio_start(odp_pktio_t pktio)</div><div class="ttdoc">Start packet receive and transmit.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga9c7d0fcaec232b5503633e42ea29f6f5"><div class="ttname"><a href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a></div><div class="ttdeci">#define ODP_PKTIO_INVALID</div><div class="ttdoc">Invalid packet IO handle.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gab09475da05438a53b2d0fca96aab7515"><div class="ttname"><a href="group__odp__packet__io.html#gab09475da05438a53b2d0fca96aab7515">odp_pktout_queue_param_init</a></div><div class="ttdeci">void odp_pktout_queue_param_init(odp_pktout_queue_param_t *param)</div><div class="ttdoc">Initialize packet output queue parameters.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gab34cb9679bf99d1b3366f06a9b155c41"><div class="ttname"><a href="group__odp__packet__io.html#gab34cb9679bf99d1b3366f06a9b155c41">odp_pktio_stop</a></div><div class="ttdeci">int odp_pktio_stop(odp_pktio_t pktio)</div><div class="ttdoc">Stop packet receive and transmit.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gab552d0e69245ade3de47130c2b9c5203"><div class="ttname"><a href="group__odp__packet__io.html#gab552d0e69245ade3de47130c2b9c5203">odp_pktio_index</a></div><div class="ttdeci">int odp_pktio_index(odp_pktio_t pktio)</div><div class="ttdoc">Get pktio interface index.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gaba80778db7ec138977ed9e473bd1faaa"><div class="ttname"><a href="group__odp__packet__io.html#gaba80778db7ec138977ed9e473bd1faaa">odp_pktio_capability</a></div><div class="ttdeci">int odp_pktio_capability(odp_pktio_t pktio, odp_pktio_capability_t *capa)</div><div class="ttdoc">Query packet IO interface capabilities.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gac600157dd09955a9cee3f6618c757ee7"><div class="ttname"><a href="group__odp__packet__io.html#gac600157dd09955a9cee3f6618c757ee7">ODP_PKTIO_MAX_INDEX</a></div><div class="ttdeci">#define ODP_PKTIO_MAX_INDEX</div><div class="ttdoc">Maximum packet IO interface index.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gacb5db3a908775522e316c8b8ccb36498"><div class="ttname"><a href="group__odp__packet__io.html#gacb5db3a908775522e316c8b8ccb36498">odp_pktout_send</a></div><div class="ttdeci">int odp_pktout_send(odp_pktout_queue_t queue, const odp_packet_t packets[], int num)</div><div class="ttdoc">Send packets directly to an interface output queue.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gaf9dce6b2cc13ad715e777416dce88194"><div class="ttname"><a href="group__odp__packet__io.html#gaf9dce6b2cc13ad715e777416dce88194">odp_pktin_queue_config</a></div><div class="ttdeci">int odp_pktin_queue_config(odp_pktio_t pktio, const odp_pktin_queue_param_t *param)</div><div class="ttdoc">Configure packet input queues.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gafc2120185a8da74540feade78623f3b3"><div class="ttname"><a href="group__odp__packet__io.html#gafc2120185a8da74540feade78623f3b3">odp_pktout_queue_config</a></div><div class="ttdeci">int odp_pktout_queue_config(odp_pktio_t pktio, const odp_pktout_queue_param_t *param)</div><div class="ttdoc">Configure packet output queues.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gga4e0c26e40b1166b07142302d12e8467da9e6184e8d605ce199cfa54d6c50153ff"><div class="ttname"><a href="group__odp__packet__io.html#gga4e0c26e40b1166b07142302d12e8467da9e6184e8d605ce199cfa54d6c50153ff">ODP_PKTOUT_MODE_DIRECT</a></div><div class="ttdeci">@ ODP_PKTOUT_MODE_DIRECT</div><div class="ttdoc">Direct packet output on the interface.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00110">api/spec/packet_io_types.h:110</a></div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ggacf2c32e76d9d0eef9106b5fdd68cedc8a1e3d825b302ee6213937172a6b54b140"><div class="ttname"><a href="group__odp__packet__io.html#ggacf2c32e76d9d0eef9106b5fdd68cedc8a1e3d825b302ee6213937172a6b54b140">ODP_PKTIO_OP_MT_UNSAFE</a></div><div class="ttdeci">@ ODP_PKTIO_OP_MT_UNSAFE</div><div class="ttdoc">Not multithread safe operation.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00168">api/spec/packet_io_types.h:166</a></div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ggaf5d539df6fc8af55d96357c784a54b8faa4f62db7acbe492a3b80f3f782a04dd5"><div class="ttname"><a href="group__odp__packet__io.html#ggaf5d539df6fc8af55d96357c784a54b8faa4f62db7acbe492a3b80f3f782a04dd5">ODP_PKTIN_MODE_SCHED</a></div><div class="ttdeci">@ ODP_PKTIN_MODE_SCHED</div><div class="ttdoc">Packet input through scheduler and scheduled event queues.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00098">api/spec/packet_io_types.h:98</a></div></div>
<div class="ttc" id="agroup__odp__packet_html_ga1c03b0fec815617168cf29a013442d58"><div class="ttname"><a href="group__odp__packet.html#ga1c03b0fec815617168cf29a013442d58">odp_packet_input_index</a></div><div class="ttdeci">int odp_packet_input_index(odp_packet_t pkt)</div><div class="ttdoc">Packet input interface index.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga3446c95a98cbe4ccfe0b425d49bd5886"><div class="ttname"><a href="group__odp__packet.html#ga3446c95a98cbe4ccfe0b425d49bd5886">odp_packet_copy</a></div><div class="ttdeci">odp_packet_t odp_packet_copy(odp_packet_t pkt, odp_pool_t pool)</div><div class="ttdoc">Full copy of a packet.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga68c47fd0c2a764b01b11390974748cc6"><div class="ttname"><a href="group__odp__packet.html#ga68c47fd0c2a764b01b11390974748cc6">odp_packet_len</a></div><div class="ttdeci">uint32_t odp_packet_len(odp_packet_t pkt)</div><div class="ttdoc">Packet data length.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga7528dda77d71a9dbfe563dffb62d8318"><div class="ttname"><a href="group__odp__packet.html#ga7528dda77d71a9dbfe563dffb62d8318">odp_packet_alloc</a></div><div class="ttdeci">odp_packet_t odp_packet_alloc(odp_pool_t pool, uint32_t len)</div><div class="ttdoc">Allocate a packet from a packet pool.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga8605e7d4629a479f7b1a59da121c601c"><div class="ttname"><a href="group__odp__packet.html#ga8605e7d4629a479f7b1a59da121c601c">odp_packet_from_event</a></div><div class="ttdeci">odp_packet_t odp_packet_from_event(odp_event_t ev)</div><div class="ttdoc">Get packet handle from event.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga8a5e2cd674828c5415f3695f266347d7"><div class="ttname"><a href="group__odp__packet.html#ga8a5e2cd674828c5415f3695f266347d7">odp_packet_free</a></div><div class="ttdeci">void odp_packet_free(odp_packet_t pkt)</div><div class="ttdoc">Free packet.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gaba8cf39480fb133ab8299155d4ef63dc"><div class="ttname"><a href="group__odp__packet.html#gaba8cf39480fb133ab8299155d4ef63dc">ODP_PACKET_INVALID</a></div><div class="ttdeci">#define ODP_PACKET_INVALID</div><div class="ttdoc">Invalid packet.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gad190c5b094a0406b9d86da03f10c15cb"><div class="ttname"><a href="group__odp__packet.html#gad190c5b094a0406b9d86da03f10c15cb">odp_packet_free_multi</a></div><div class="ttdeci">void odp_packet_free_multi(const odp_packet_t pkt[], int num)</div><div class="ttdoc">Free multiple packets.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga256909a276600c25ce11b52ae274632f"><div class="ttname"><a href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a></div><div class="ttdeci">odp_pool_t odp_pool_create(const char *name, const odp_pool_param_t *param)</div><div class="ttdoc">Create a pool.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga2c6f42e9611904eac84872bf8f913b75"><div class="ttname"><a href="group__odp__pool.html#ga2c6f42e9611904eac84872bf8f913b75">odp_pool_capability</a></div><div class="ttdeci">int odp_pool_capability(odp_pool_capability_t *capa)</div><div class="ttdoc">Query pool capabilities.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga3dd8bcfb920f81142e9fe27cfba24073"><div class="ttname"><a href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a></div><div class="ttdeci">void odp_pool_param_init(odp_pool_param_t *param)</div><div class="ttdoc">Initialize pool params.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga6ad439aaef911d82b972c915850e6924"><div class="ttname"><a href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a></div><div class="ttdeci">int odp_pool_destroy(odp_pool_t pool)</div><div class="ttdoc">Destroy a pool previously created by odp_pool_create()</div></div>
<div class="ttc" id="agroup__odp__pool_html_gafca03b58412260da754042a92f8a5e04"><div class="ttname"><a href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a></div><div class="ttdeci">#define ODP_POOL_INVALID</div><div class="ttdoc">Invalid pool.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ggac47bb33bcde80614b4b358578eaa3082a5f851628c50a0c6a8ee896fd46767806"><div class="ttname"><a href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082a5f851628c50a0c6a8ee896fd46767806">ODP_POOL_BUFFER</a></div><div class="ttdeci">@ ODP_POOL_BUFFER</div><div class="ttdoc">Buffer pool.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00439">api/spec/pool_types.h:439</a></div></div>
<div class="ttc" id="agroup__odp__pool_html_ggac47bb33bcde80614b4b358578eaa3082aa02b3a4e37094bd277b3dfe371450acd"><div class="ttname"><a href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082aa02b3a4e37094bd277b3dfe371450acd">ODP_POOL_PACKET</a></div><div class="ttdeci">@ ODP_POOL_PACKET</div><div class="ttdoc">Packet pool.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00436">api/spec/pool_types.h:436</a></div></div>
<div class="ttc" id="agroup__odp__queue_html_ga6fc2ea5eb86152210342f7377d1468e4"><div class="ttname"><a href="group__odp__queue.html#ga6fc2ea5eb86152210342f7377d1468e4">odp_queue_param_init</a></div><div class="ttdeci">void odp_queue_param_init(odp_queue_param_t *param)</div><div class="ttdoc">Initialize queue params.</div></div>
<div class="ttc" id="agroup__odp__queue_html_ga771259a58e71e065e0d00d2fc431b014"><div class="ttname"><a href="group__odp__queue.html#ga771259a58e71e065e0d00d2fc431b014">ODP_QUEUE_INVALID</a></div><div class="ttdeci">#define ODP_QUEUE_INVALID</div><div class="ttdoc">Invalid queue.</div></div>
<div class="ttc" id="agroup__odp__queue_html_gab985be8c3947fef3da257e16948bf0f0"><div class="ttname"><a href="group__odp__queue.html#gab985be8c3947fef3da257e16948bf0f0">odp_queue_create</a></div><div class="ttdeci">odp_queue_t odp_queue_create(const char *name, const odp_queue_param_t *param)</div><div class="ttdoc">Queue create.</div></div>
<div class="ttc" id="agroup__odp__queue_html_gad1e1d2709808385025dd5f005f7690c4"><div class="ttname"><a href="group__odp__queue.html#gad1e1d2709808385025dd5f005f7690c4">odp_queue_destroy</a></div><div class="ttdeci">int odp_queue_destroy(odp_queue_t queue)</div><div class="ttdoc">Destroy ODP queue.</div></div>
<div class="ttc" id="agroup__odp__queue_html_gga89a3439d3f3be48cac1767cba721eddaa4f49ad2143a9ba8a5914573d2794e962"><div class="ttname"><a href="group__odp__queue.html#gga89a3439d3f3be48cac1767cba721eddaa4f49ad2143a9ba8a5914573d2794e962">ODP_QUEUE_TYPE_SCHED</a></div><div class="ttdeci">@ ODP_QUEUE_TYPE_SCHED</div><div class="ttdoc">Scheduled queue.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2queue__types_8h_source.html#l00057">api/spec/queue_types.h:57</a></div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga17ae1ac2ac704684d0a7087a311c73f4"><div class="ttname"><a href="group__odp__scheduler.html#ga17ae1ac2ac704684d0a7087a311c73f4">odp_schedule_multi_no_wait</a></div><div class="ttdeci">int odp_schedule_multi_no_wait(odp_queue_t *from, odp_event_t events[], int num)</div><div class="ttdoc">Schedule, do not wait for events.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga2ba135fc660e1c050aa25ec6744ec584"><div class="ttname"><a href="group__odp__scheduler.html#ga2ba135fc660e1c050aa25ec6744ec584">ODP_SCHED_SYNC_PARALLEL</a></div><div class="ttdeci">#define ODP_SCHED_SYNC_PARALLEL</div><div class="ttdoc">Parallel scheduled queues.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga94034a7f591f3f549099aebb098f7e05"><div class="ttname"><a href="group__odp__scheduler.html#ga94034a7f591f3f549099aebb098f7e05">odp_schedule_default_prio</a></div><div class="ttdeci">int odp_schedule_default_prio(void)</div><div class="ttdoc">Default scheduling priority level.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga9d91b9144cf2ccdcb112b7376a38aeaf"><div class="ttname"><a href="group__odp__scheduler.html#ga9d91b9144cf2ccdcb112b7376a38aeaf">odp_schedule_max_prio</a></div><div class="ttdeci">int odp_schedule_max_prio(void)</div><div class="ttdoc">Maximum scheduling priority level.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gaa1b51ebd46adeb6aa7805fccb00144df"><div class="ttname"><a href="group__odp__scheduler.html#gaa1b51ebd46adeb6aa7805fccb00144df">odp_schedule_config</a></div><div class="ttdeci">int odp_schedule_config(const odp_schedule_config_t *config)</div><div class="ttdoc">Global schedule configuration.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gab0a0d2673cc7371d5c5d782d13a485b8"><div class="ttname"><a href="group__odp__scheduler.html#gab0a0d2673cc7371d5c5d782d13a485b8">odp_schedule_wait_time</a></div><div class="ttdeci">uint64_t odp_schedule_wait_time(uint64_t ns)</div><div class="ttdoc">Schedule wait time.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gae4ca1012ebb16ff8b9752b958dc45ce6"><div class="ttname"><a href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a></div><div class="ttdeci">odp_event_t odp_schedule(odp_queue_t *from, uint64_t wait)</div><div class="ttdoc">Schedule an event.</div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_ga0b02991b512acc119206b44c95a86ed6"><div class="ttname"><a href="group__odp__shared__memory.html#ga0b02991b512acc119206b44c95a86ed6">odp_shm_free</a></div><div class="ttdeci">int odp_shm_free(odp_shm_t shm)</div><div class="ttdoc">Free a contiguous block of shared memory.</div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_ga6e4289975efc279bb9f31880613a9d60"><div class="ttname"><a href="group__odp__shared__memory.html#ga6e4289975efc279bb9f31880613a9d60">ODP_SHM_INVALID</a></div><div class="ttdeci">#define ODP_SHM_INVALID</div><div class="ttdoc">Invalid shared memory block.</div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_gac94c4232f7cd64039bbaef601ff2c05e"><div class="ttname"><a href="group__odp__shared__memory.html#gac94c4232f7cd64039bbaef601ff2c05e">odp_shm_addr</a></div><div class="ttdeci">void * odp_shm_addr(odp_shm_t shm)</div><div class="ttdoc">Shared memory block address.</div></div>
<div class="ttc" id="agroup__odp__shared__memory_html_gacc441b0e100ec1c54e21f1745939a2d8"><div class="ttname"><a href="group__odp__shared__memory.html#gacc441b0e100ec1c54e21f1745939a2d8">odp_shm_reserve</a></div><div class="ttdeci">odp_shm_t odp_shm_reserve(const char *name, uint64_t size, uint64_t align, uint32_t flags)</div><div class="ttdoc">Reserve a contiguous block of shared memory.</div></div>
<div class="ttc" id="agroup__odp__stash_html_ga16d8b84bdebda58ced5df34d5ce36efb"><div class="ttname"><a href="group__odp__stash.html#ga16d8b84bdebda58ced5df34d5ce36efb">odp_stash_type_t</a></div><div class="ttdeci">odp_stash_type_t</div><div class="ttdoc">Stash types.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00043">api/spec/stash_types.h:43</a></div></div>
<div class="ttc" id="agroup__odp__stash_html_ga34969641fe94a21fcd737377315ff5a0"><div class="ttname"><a href="group__odp__stash.html#ga34969641fe94a21fcd737377315ff5a0">ODP_STASH_INVALID</a></div><div class="ttdeci">#define ODP_STASH_INVALID</div><div class="ttdoc">Invalid stash handle.</div></div>
<div class="ttc" id="agroup__odp__stash_html_ga5e1c457237e33323692ddb012d134795"><div class="ttname"><a href="group__odp__stash.html#ga5e1c457237e33323692ddb012d134795">odp_stash_put</a></div><div class="ttdeci">int32_t odp_stash_put(odp_stash_t stash, const void *obj, int32_t num)</div><div class="ttdoc">Put object handles into a stash.</div></div>
<div class="ttc" id="agroup__odp__stash_html_ga7241ac045ddfbc29884a92e0180a68dc"><div class="ttname"><a href="group__odp__stash.html#ga7241ac045ddfbc29884a92e0180a68dc">odp_stash_param_init</a></div><div class="ttdeci">void odp_stash_param_init(odp_stash_param_t *param)</div><div class="ttdoc">Initialize stash params.</div></div>
<div class="ttc" id="agroup__odp__stash_html_ga74f072630a4e7b0a0f97f8269f698f75"><div class="ttname"><a href="group__odp__stash.html#ga74f072630a4e7b0a0f97f8269f698f75">odp_stash_get</a></div><div class="ttdeci">int32_t odp_stash_get(odp_stash_t stash, void *obj, int32_t num)</div><div class="ttdoc">Get object handles from a stash.</div></div>
<div class="ttc" id="agroup__odp__stash_html_ga9981da6e5fec224182c4060b05f97cc7"><div class="ttname"><a href="group__odp__stash.html#ga9981da6e5fec224182c4060b05f97cc7">odp_stash_destroy</a></div><div class="ttdeci">int odp_stash_destroy(odp_stash_t stash)</div><div class="ttdoc">Destroy a stash.</div></div>
<div class="ttc" id="agroup__odp__stash_html_gab149e5a341a9f47b6650eb9b21debfcd"><div class="ttname"><a href="group__odp__stash.html#gab149e5a341a9f47b6650eb9b21debfcd">odp_stash_capability</a></div><div class="ttdeci">int odp_stash_capability(odp_stash_capability_t *capa, odp_stash_type_t type)</div><div class="ttdoc">Query stash capabilities.</div></div>
<div class="ttc" id="agroup__odp__stash_html_gaf3825dc9faf34e3f80aed4fcca3442b6"><div class="ttname"><a href="group__odp__stash.html#gaf3825dc9faf34e3f80aed4fcca3442b6">odp_stash_create</a></div><div class="ttdeci">odp_stash_t odp_stash_create(const char *name, const odp_stash_param_t *param)</div><div class="ttdoc">Create a stash.</div></div>
<div class="ttc" id="agroup__odp__stash_html_gga16d8b84bdebda58ced5df34d5ce36efba7f0e9c9b0436941157f94e2c4504f053"><div class="ttname"><a href="group__odp__stash.html#gga16d8b84bdebda58ced5df34d5ce36efba7f0e9c9b0436941157f94e2c4504f053">ODP_STASH_TYPE_DEFAULT</a></div><div class="ttdeci">@ ODP_STASH_TYPE_DEFAULT</div><div class="ttdoc">The default stash type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00051">api/spec/stash_types.h:51</a></div></div>
<div class="ttc" id="agroup__odp__stash_html_gga16d8b84bdebda58ced5df34d5ce36efba9c8c00cc25ce0137b69250aebc763d67"><div class="ttname"><a href="group__odp__stash.html#gga16d8b84bdebda58ced5df34d5ce36efba9c8c00cc25ce0137b69250aebc763d67">ODP_STASH_TYPE_FIFO</a></div><div class="ttdeci">@ ODP_STASH_TYPE_FIFO</div><div class="ttdoc">Stash type FIFO.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00067">api/spec/stash_types.h:65</a></div></div>
<div class="ttc" id="agroup__odp__stash_html_gga77efc59b890ed3ef9b274ad27bde1b94aa1389be6a51f5b694ee7f7341e42f8db"><div class="ttname"><a href="group__odp__stash.html#gga77efc59b890ed3ef9b274ad27bde1b94aa1389be6a51f5b694ee7f7341e42f8db">ODP_STASH_OP_LOCAL</a></div><div class="ttdeci">@ ODP_STASH_OP_LOCAL</div><div class="ttdoc">Thread local operation.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00097">api/spec/stash_types.h:95</a></div></div>
<div class="ttc" id="agroup__odp__std_html_ga0b2a7ca83ccc7af0346db309d8c06d6f"><div class="ttname"><a href="group__odp__std.html#ga0b2a7ca83ccc7af0346db309d8c06d6f">odp_bool_t</a></div><div class="ttdeci">bool odp_bool_t</div><div class="ttdoc">Boolean type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2std__types_8h_source.html#l00025">api/abi-default/std_types.h:25</a></div></div>
<div class="ttc" id="agroup__odp__thread_html_gad6562e7320d48463715bbf15748ae360"><div class="ttname"><a href="group__odp__thread.html#gad6562e7320d48463715bbf15748ae360">odp_thread_id</a></div><div class="ttdeci">int odp_thread_id(void)</div><div class="ttdoc">Get thread identifier.</div></div>
<div class="ttc" id="agroup__odp__thread_html_ggafc7a7c180de9811d71b7cb050713bf53a2182066d714db5f2a4e994ad92f25b2a"><div class="ttname"><a href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a2182066d714db5f2a4e994ad92f25b2a">ODP_THREAD_WORKER</a></div><div class="ttdeci">@ ODP_THREAD_WORKER</div><div class="ttdoc">Worker thread.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2thread__types_8h_source.html#l00042">api/spec/thread_types.h:42</a></div></div>
<div class="ttc" id="agroup__odp__thread_html_ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a"><div class="ttname"><a href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a">ODP_THREAD_CONTROL</a></div><div class="ttdeci">@ ODP_THREAD_CONTROL</div><div class="ttdoc">Control thread.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2thread__types_8h_source.html#l00054">api/spec/thread_types.h:53</a></div></div>
<div class="ttc" id="agroup__odp__time_html_ga49ab6f8fe6c0aa5b820717fd91f16ab5"><div class="ttname"><a href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a></div><div class="ttdeci">#define ODP_TIME_SEC_IN_NS</div><div class="ttdoc">A second in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2time__types_8h_source.html#l00031">api/spec/time_types.h:31</a></div></div>
<div class="ttc" id="agroup__odp__time_html_gabad65a44847cb6d46c2ae9cc96a80a4c"><div class="ttname"><a href="group__odp__time.html#gabad65a44847cb6d46c2ae9cc96a80a4c">ODP_TIME_MSEC_IN_NS</a></div><div class="ttdeci">#define ODP_TIME_MSEC_IN_NS</div><div class="ttdoc">A millisecond in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2time__types_8h_source.html#l00028">api/spec/time_types.h:28</a></div></div>
<div class="ttc" id="aodp__api_8h_html"><div class="ttname"><a href="odp__api_8h.html">odp_api.h</a></div><div class="ttdoc">The OpenDataPlane API.</div></div>
<div class="ttc" id="astruct__odp__abi__buffer__t_html"><div class="ttname"><a href="struct__odp__abi__buffer__t.html">_odp_abi_buffer_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2buffer__types_8h_source.html#l00014">api/abi-default/buffer_types.h:14</a></div></div>
<div class="ttc" id="astruct__odp__abi__dma__t_html"><div class="ttname"><a href="struct__odp__abi__dma__t.html">_odp_abi_dma_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2dma__types_8h_source.html#l00015">api/abi-default/dma_types.h:15</a></div></div>
<div class="ttc" id="astruct__odp__abi__event__t_html"><div class="ttname"><a href="struct__odp__abi__event__t.html">_odp_abi_event_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2event__types_8h_source.html#l00016">api/abi-default/event_types.h:16</a></div></div>
<div class="ttc" id="astruct__odp__abi__packet__t_html"><div class="ttname"><a href="struct__odp__abi__packet__t.html">_odp_abi_packet_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2packet__types_8h_source.html#l00016">api/abi-default/packet_types.h:16</a></div></div>
<div class="ttc" id="astruct__odp__abi__pktio__t_html"><div class="ttname"><a href="struct__odp__abi__pktio__t.html">_odp_abi_pktio_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2packet__io__types_8h_source.html#l00022">api/abi-default/packet_io_types.h:22</a></div></div>
<div class="ttc" id="astruct__odp__abi__pool__t_html"><div class="ttname"><a href="struct__odp__abi__pool__t.html">_odp_abi_pool_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2pool__types_8h_source.html#l00014">api/abi-default/pool_types.h:14</a></div></div>
<div class="ttc" id="astruct__odp__abi__queue__t_html"><div class="ttname"><a href="struct__odp__abi__queue__t.html">_odp_abi_queue_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2queue__types_8h_source.html#l00014">api/abi-default/queue_types.h:14</a></div></div>
<div class="ttc" id="astruct__odp__abi__shm__t_html"><div class="ttname"><a href="struct__odp__abi__shm__t.html">_odp_abi_shm_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2shared__memory_8h_source.html#l00013">api/abi-default/shared_memory.h:13</a></div></div>
<div class="ttc" id="astruct__odp__abi__stash__t_html"><div class="ttname"><a href="struct__odp__abi__stash__t.html">_odp_abi_stash_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2stash__types_8h_source.html#l00013">api/abi-default/stash_types.h:13</a></div></div>
<div class="ttc" id="astructodp__atomic__u32__s_html"><div class="ttname"><a href="structodp__atomic__u32__s.html">odp_atomic_u32_s</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2atomic_8h_source.html#l00026">api/abi-default/atomic.h:26</a></div></div>
<div class="ttc" id="astructodp__barrier__s_html"><div class="ttname"><a href="structodp__barrier__s.html">odp_barrier_s</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2barrier_8h_source.html#l00025">api/abi-default/barrier.h:25</a></div></div>
<div class="ttc" id="astructodp__cpumask__s_html"><div class="ttname"><a href="structodp__cpumask__s.html">odp_cpumask_s</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2cpumask_8h_source.html#l00038">api/abi-default/cpumask.h:38</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html"><div class="ttname"><a href="structodp__dma__capability__t.html">odp_dma_capability_t</a></div><div class="ttdoc">DMA capabilities.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00293">api/spec/dma_types.h:293</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a1e1c77c1c0a6c0cbf6667a8896710401"><div class="ttname"><a href="structodp__dma__capability__t.html#a1e1c77c1c0a6c0cbf6667a8896710401">odp_dma_capability_t::max_sessions</a></div><div class="ttdeci">uint32_t max_sessions</div><div class="ttdoc">Maximum number of DMA sessions.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00298">api/spec/dma_types.h:298</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a26e126959b9e9c29983140fd8143bbbc"><div class="ttname"><a href="structodp__dma__capability__t.html#a26e126959b9e9c29983140fd8143bbbc">odp_dma_capability_t::max_transfers</a></div><div class="ttdeci">uint32_t max_transfers</div><div class="ttdoc">Maximum number of transfers per DMA session.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00305">api/spec/dma_types.h:305</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a4e255ffd87f26932f302c88c199cd9aa"><div class="ttname"><a href="structodp__dma__capability__t.html#a4e255ffd87f26932f302c88c199cd9aa">odp_dma_capability_t::pool</a></div><div class="ttdeci">odp_dma_pool_capability_t pool</div><div class="ttdoc">DMA completion event pool capabilities.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00359">api/spec/dma_types.h:359</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a5c4d5ed59d58a33ee2633cf1a85c7cfe"><div class="ttname"><a href="structodp__dma__capability__t.html#a5c4d5ed59d58a33ee2633cf1a85c7cfe">odp_dma_capability_t::max_dst_segs</a></div><div class="ttdeci">uint32_t max_dst_segs</div><div class="ttdoc">Maximum number of destination segments in a single transfer.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00311">api/spec/dma_types.h:311</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a6a07eb119b331a76b59911aa494bb609"><div class="ttname"><a href="structodp__dma__capability__t.html#a6a07eb119b331a76b59911aa494bb609">odp_dma_capability_t::max_src_segs</a></div><div class="ttdeci">uint32_t max_src_segs</div><div class="ttdoc">Maximum number of source segments in a single transfer.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00308">api/spec/dma_types.h:308</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a6a5465fd129b7c012a96d4347c3f7c20"><div class="ttname"><a href="structodp__dma__capability__t.html#a6a5465fd129b7c012a96d4347c3f7c20">odp_dma_capability_t::queue_type_sched</a></div><div class="ttdeci">odp_bool_t queue_type_sched</div><div class="ttdoc">Scheduled queue support.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00334">api/spec/dma_types.h:334</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a794184c7c63c20cc0dc8d07507cc4536"><div class="ttname"><a href="structodp__dma__capability__t.html#a794184c7c63c20cc0dc8d07507cc4536">odp_dma_capability_t::compl_mode_mask</a></div><div class="ttdeci">odp_dma_compl_mode_t compl_mode_mask</div><div class="ttdoc">Supported completion modes.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00326">api/spec/dma_types.h:326</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_a80818e2c713a85d22892e09a69a6c03c"><div class="ttname"><a href="structodp__dma__capability__t.html#a80818e2c713a85d22892e09a69a6c03c">odp_dma_capability_t::max_seg_len</a></div><div class="ttdeci">uint32_t max_seg_len</div><div class="ttdoc">Maximum segment length in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00319">api/spec/dma_types.h:319</a></div></div>
<div class="ttc" id="astructodp__dma__capability__t_html_aac49007df1af6390e2c08d93ac4a5692"><div class="ttname"><a href="structodp__dma__capability__t.html#aac49007df1af6390e2c08d93ac4a5692">odp_dma_capability_t::src_seg_free</a></div><div class="ttdeci">odp_bool_t src_seg_free</div><div class="ttdoc">Source segment free support for data format ODP_DMA_FORMAT_PACKET.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00349">api/spec/dma_types.h:349</a></div></div>
<div class="ttc" id="astructodp__dma__compl__param__t_html"><div class="ttname"><a href="structodp__dma__compl__param__t.html">odp_dma_compl_param_t</a></div><div class="ttdoc">DMA transfer completion parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00661">api/spec/dma_types.h:661</a></div></div>
<div class="ttc" id="astructodp__dma__compl__param__t_html_a020b7d2fe06a370953ae59366020e41e"><div class="ttname"><a href="structodp__dma__compl__param__t.html#a020b7d2fe06a370953ae59366020e41e">odp_dma_compl_param_t::transfer_id</a></div><div class="ttdeci">odp_dma_transfer_id_t transfer_id</div><div class="ttdoc">Transfer identifier.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00681">api/spec/dma_types.h:681</a></div></div>
<div class="ttc" id="astructodp__dma__compl__param__t_html_a1cab017a5849301cec7e6f93b4efff9e"><div class="ttname"><a href="structodp__dma__compl__param__t.html#a1cab017a5849301cec7e6f93b4efff9e">odp_dma_compl_param_t::user_ptr</a></div><div class="ttdeci">void * user_ptr</div><div class="ttdoc">User context pointer.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00705">api/spec/dma_types.h:705</a></div></div>
<div class="ttc" id="astructodp__dma__compl__param__t_html_a26bf442af2415249c099856a03da9679"><div class="ttname"><a href="structodp__dma__compl__param__t.html#a26bf442af2415249c099856a03da9679">odp_dma_compl_param_t::event</a></div><div class="ttdeci">odp_event_t event</div><div class="ttdoc">Completion event.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00690">api/spec/dma_types.h:690</a></div></div>
<div class="ttc" id="astructodp__dma__compl__param__t_html_ac1d7fa63b92cea3a3cfc14189ecf2cb2"><div class="ttname"><a href="structodp__dma__compl__param__t.html#ac1d7fa63b92cea3a3cfc14189ecf2cb2">odp_dma_compl_param_t::compl_mode</a></div><div class="ttdeci">odp_dma_compl_mode_t compl_mode</div><div class="ttdoc">Completion mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00672">api/spec/dma_types.h:672</a></div></div>
<div class="ttc" id="astructodp__dma__compl__param__t_html_af36f59dce8a9694ffa72f550434e9cf7"><div class="ttname"><a href="structodp__dma__compl__param__t.html#af36f59dce8a9694ffa72f550434e9cf7">odp_dma_compl_param_t::queue</a></div><div class="ttdeci">odp_queue_t queue</div><div class="ttdoc">Completion queue.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00696">api/spec/dma_types.h:696</a></div></div>
<div class="ttc" id="astructodp__dma__param__t_html"><div class="ttname"><a href="structodp__dma__param__t.html">odp_dma_param_t</a></div><div class="ttdoc">DMA session parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00366">api/spec/dma_types.h:366</a></div></div>
<div class="ttc" id="astructodp__dma__param__t_html_a0a626d5b8f471640722a18afb12b48e4"><div class="ttname"><a href="structodp__dma__param__t.html#a0a626d5b8f471640722a18afb12b48e4">odp_dma_param_t::direction</a></div><div class="ttdeci">odp_dma_direction_t direction</div><div class="ttdoc">Transfer direction.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00371">api/spec/dma_types.h:371</a></div></div>
<div class="ttc" id="astructodp__dma__pool__capability__t_html_a505745b8d9a767f3b34e6065fce7000b"><div class="ttname"><a href="structodp__dma__pool__capability__t.html#a505745b8d9a767f3b34e6065fce7000b">odp_dma_pool_capability_t::min_cache_size</a></div><div class="ttdeci">uint32_t min_cache_size</div><div class="ttdoc">Minimum size of thread local cache.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00088">api/spec/dma_types.h:88</a></div></div>
<div class="ttc" id="astructodp__dma__pool__capability__t_html_a7457ee84b879347e19abc0b4a42b2c6d"><div class="ttname"><a href="structodp__dma__pool__capability__t.html#a7457ee84b879347e19abc0b4a42b2c6d">odp_dma_pool_capability_t::max_cache_size</a></div><div class="ttdeci">uint32_t max_cache_size</div><div class="ttdoc">Maximum size of thread local cache.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00091">api/spec/dma_types.h:91</a></div></div>
<div class="ttc" id="astructodp__dma__pool__capability__t_html_ad1a2cd15d93c9c9e3472706a51724c49"><div class="ttname"><a href="structodp__dma__pool__capability__t.html#ad1a2cd15d93c9c9e3472706a51724c49">odp_dma_pool_capability_t::max_pools</a></div><div class="ttdeci">uint32_t max_pools</div><div class="ttdoc">Maximum number of DMA completion event pools.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00073">api/spec/dma_types.h:73</a></div></div>
<div class="ttc" id="astructodp__dma__pool__capability__t_html_af02ea9bba95e27337ecf8e2a58c85c4b"><div class="ttname"><a href="structodp__dma__pool__capability__t.html#af02ea9bba95e27337ecf8e2a58c85c4b">odp_dma_pool_capability_t::max_num</a></div><div class="ttdeci">uint32_t max_num</div><div class="ttdoc">Maximum number of DMA completion events in a pool.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00076">api/spec/dma_types.h:76</a></div></div>
<div class="ttc" id="astructodp__dma__pool__param__t_html"><div class="ttname"><a href="structodp__dma__pool__param__t.html">odp_dma_pool_param_t</a></div><div class="ttdoc">DMA completion event pool parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00098">api/spec/dma_types.h:98</a></div></div>
<div class="ttc" id="astructodp__dma__pool__param__t_html_a381740cab57253055ce388aca947ff87"><div class="ttname"><a href="structodp__dma__pool__param__t.html#a381740cab57253055ce388aca947ff87">odp_dma_pool_param_t::cache_size</a></div><div class="ttdeci">uint32_t cache_size</div><div class="ttdoc">Maximum number of events cached locally per thread.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00130">api/spec/dma_types.h:130</a></div></div>
<div class="ttc" id="astructodp__dma__pool__param__t_html_aa4593bc8a7d191d75195b08875091781"><div class="ttname"><a href="structodp__dma__pool__param__t.html#aa4593bc8a7d191d75195b08875091781">odp_dma_pool_param_t::num</a></div><div class="ttdeci">uint32_t num</div><div class="ttdoc">Number of DMA completion events in the pool.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00102">api/spec/dma_types.h:102</a></div></div>
<div class="ttc" id="astructodp__dma__result__t_html"><div class="ttname"><a href="structodp__dma__result__t.html">odp_dma_result_t</a></div><div class="ttdoc">DMA transfer results.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00710">api/spec/dma_types.h:710</a></div></div>
<div class="ttc" id="astructodp__dma__result__t_html_a4178638e603c843b6b0e2746662d3998"><div class="ttname"><a href="structodp__dma__result__t.html#a4178638e603c843b6b0e2746662d3998">odp_dma_result_t::user_ptr</a></div><div class="ttdeci">void * user_ptr</div><div class="ttdoc">User context pointer.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00723">api/spec/dma_types.h:723</a></div></div>
<div class="ttc" id="astructodp__dma__result__t_html_ab07ed63fa2370dac6fdc20f328224c97"><div class="ttname"><a href="structodp__dma__result__t.html#ab07ed63fa2370dac6fdc20f328224c97">odp_dma_result_t::success</a></div><div class="ttdeci">odp_bool_t success</div><div class="ttdoc">DMA transfer success.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00716">api/spec/dma_types.h:716</a></div></div>
<div class="ttc" id="astructodp__dma__seg__t_html"><div class="ttname"><a href="structodp__dma__seg__t.html">odp_dma_seg_t</a></div><div class="ttdoc">DMA segment.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00406">api/spec/dma_types.h:406</a></div></div>
<div class="ttc" id="astructodp__dma__seg__t_html_a20ea52e17a876bcce0853e236ceddbab"><div class="ttname"><a href="structodp__dma__seg__t.html#a20ea52e17a876bcce0853e236ceddbab">odp_dma_seg_t::packet</a></div><div class="ttdeci">odp_packet_t packet</div><div class="ttdoc">Packet handle.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00420">api/spec/dma_types.h:420</a></div></div>
<div class="ttc" id="astructodp__dma__seg__t_html_a2f6c239c92b6946d604f591f1a30912e"><div class="ttname"><a href="structodp__dma__seg__t.html#a2f6c239c92b6946d604f591f1a30912e">odp_dma_seg_t::len</a></div><div class="ttdeci">uint32_t len</div><div class="ttdoc">Segment length in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00460">api/spec/dma_types.h:460</a></div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html"><div class="ttname"><a href="structodp__dma__transfer__param__t.html">odp_dma_transfer_param_t</a></div><div class="ttdoc">DMA transfer parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00548">api/spec/dma_types.h:548</a></div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html_a14d2df3de60f01fe7907969a066468ee"><div class="ttname"><a href="structodp__dma__transfer__param__t.html#a14d2df3de60f01fe7907969a066468ee">odp_dma_transfer_param_t::opts</a></div><div class="ttdeci">struct odp_dma_transfer_param_t::@38::@40 opts</div><div class="ttdoc">Option bit fields.</div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html_a2c22dc525c8cd647c57448041e83a18a"><div class="ttname"><a href="structodp__dma__transfer__param__t.html#a2c22dc525c8cd647c57448041e83a18a">odp_dma_transfer_param_t::dst_seg</a></div><div class="ttdeci">odp_dma_seg_t * dst_seg</div><div class="ttdoc">Table of destination segments.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00583">api/spec/dma_types.h:583</a></div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html_a2d3e246125f72aae8b476696a18a5fd7"><div class="ttname"><a href="structodp__dma__transfer__param__t.html#a2d3e246125f72aae8b476696a18a5fd7">odp_dma_transfer_param_t::dst_format</a></div><div class="ttdeci">odp_dma_data_format_t dst_format</div><div class="ttdoc">Destination data format.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00559">api/spec/dma_types.h:559</a></div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html_a3b5c3e39d127e33e5fca3b07127da92d"><div class="ttname"><a href="structodp__dma__transfer__param__t.html#a3b5c3e39d127e33e5fca3b07127da92d">odp_dma_transfer_param_t::num_dst</a></div><div class="ttdeci">uint32_t num_dst</div><div class="ttdoc">Number of destination segments.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00571">api/spec/dma_types.h:571</a></div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html_a65188219f8d96493650f1c17d97d0e95"><div class="ttname"><a href="structodp__dma__transfer__param__t.html#a65188219f8d96493650f1c17d97d0e95">odp_dma_transfer_param_t::num_src</a></div><div class="ttdeci">uint32_t num_src</div><div class="ttdoc">Number of source segments.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00565">api/spec/dma_types.h:565</a></div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html_a9e1637405ed4b819cf28ccf584479447"><div class="ttname"><a href="structodp__dma__transfer__param__t.html#a9e1637405ed4b819cf28ccf584479447">odp_dma_transfer_param_t::src_seg</a></div><div class="ttdeci">odp_dma_seg_t * src_seg</div><div class="ttdoc">Table of source segments.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00577">api/spec/dma_types.h:577</a></div></div>
<div class="ttc" id="astructodp__dma__transfer__param__t_html_ae3f4bc6bf37144f4215e89bf10abd4a4"><div class="ttname"><a href="structodp__dma__transfer__param__t.html#ae3f4bc6bf37144f4215e89bf10abd4a4">odp_dma_transfer_param_t::src_format</a></div><div class="ttdeci">odp_dma_data_format_t src_format</div><div class="ttdoc">Source data format.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2dma__types_8h_source.html#l00553">api/spec/dma_types.h:553</a></div></div>
<div class="ttc" id="astructodp__init__t_html"><div class="ttname"><a href="structodp__init__t.html">odp_init_t</a></div><div class="ttdoc">Global initialization parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2init_8h_source.html#l00161">api/spec/init.h:161</a></div></div>
<div class="ttc" id="astructodp__init__t_html_a7d368c740146170ebeb1651ce049919e"><div class="ttname"><a href="structodp__init__t.html#a7d368c740146170ebeb1651ce049919e">odp_init_t::mem_model</a></div><div class="ttdeci">odp_mem_model_t mem_model</div><div class="ttdoc">Application memory model.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2init_8h_source.html#l00218">api/spec/init.h:218</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html"><div class="ttname"><a href="structodp__pktin__queue__param__t.html">odp_pktin_queue_param_t</a></div><div class="ttdoc">Packet input queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00230">api/spec/packet_io_types.h:230</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html_a03e94f43a2e4379d7a16adb964a55ecd"><div class="ttname"><a href="structodp__pktin__queue__param__t.html#a03e94f43a2e4379d7a16adb964a55ecd">odp_pktin_queue_param_t::num_queues</a></div><div class="ttdeci">uint32_t num_queues</div><div class="ttdoc">Number of input queues to be created.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00270">api/spec/packet_io_types.h:270</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html_a5a07d5e93f26a523103360c0bea4a304"><div class="ttname"><a href="structodp__pktin__queue__param__t.html#a5a07d5e93f26a523103360c0bea4a304">odp_pktin_queue_param_t::queue_param</a></div><div class="ttdeci">odp_queue_param_t queue_param</div><div class="ttdoc">Queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00291">api/spec/packet_io_types.h:291</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html_a901146fbd15779b5665d3b75f3488e91"><div class="ttname"><a href="structodp__pktin__queue__param__t.html#a901146fbd15779b5665d3b75f3488e91">odp_pktin_queue_param_t::hash_proto</a></div><div class="ttdeci">odp_pktin_hash_proto_t hash_proto</div><div class="ttdoc">Protocol field selection for hashing.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00261">api/spec/packet_io_types.h:261</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html_aa90bfc914603a90f7b1f7e7f0de07418"><div class="ttname"><a href="structodp__pktin__queue__param__t.html#aa90bfc914603a90f7b1f7e7f0de07418">odp_pktin_queue_param_t::hash_enable</a></div><div class="ttdeci">odp_bool_t hash_enable</div><div class="ttdoc">Enable flow hashing.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00255">api/spec/packet_io_types.h:255</a></div></div>
<div class="ttc" id="astructodp__pktio__capability__t_html"><div class="ttname"><a href="structodp__pktio__capability__t.html">odp_pktio_capability_t</a></div><div class="ttdoc">Packet IO capabilities.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l01025">api/spec/packet_io_types.h:1025</a></div></div>
<div class="ttc" id="astructodp__pktio__capability__t_html_a41331b30786ec8c9a4861dfe5b220b61"><div class="ttname"><a href="structodp__pktio__capability__t.html#a41331b30786ec8c9a4861dfe5b220b61">odp_pktio_capability_t::max_input_queues</a></div><div class="ttdeci">uint32_t max_input_queues</div><div class="ttdoc">Maximum number of input queues.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l01029">api/spec/packet_io_types.h:1029</a></div></div>
<div class="ttc" id="astructodp__pktio__capability__t_html_a853625a680b37aeb0839c63ba04c632c"><div class="ttname"><a href="structodp__pktio__capability__t.html#a853625a680b37aeb0839c63ba04c632c">odp_pktio_capability_t::max_output_queues</a></div><div class="ttdeci">uint32_t max_output_queues</div><div class="ttdoc">Maximum number of output queues.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l01044">api/spec/packet_io_types.h:1044</a></div></div>
<div class="ttc" id="astructodp__pktio__param__t_html"><div class="ttname"><a href="structodp__pktio__param__t.html">odp_pktio_param_t</a></div><div class="ttdoc">Packet IO parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00353">api/spec/packet_io_types.h:353</a></div></div>
<div class="ttc" id="astructodp__pktio__param__t_html_a819cf5e2ef7df43a729cad159c022f4d"><div class="ttname"><a href="structodp__pktio__param__t.html#a819cf5e2ef7df43a729cad159c022f4d">odp_pktio_param_t::in_mode</a></div><div class="ttdeci">odp_pktin_mode_t in_mode</div><div class="ttdoc">Packet input mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00357">api/spec/packet_io_types.h:357</a></div></div>
<div class="ttc" id="astructodp__pktio__param__t_html_afc226fd3904618950a0d1154ffa2fd8c"><div class="ttname"><a href="structodp__pktio__param__t.html#afc226fd3904618950a0d1154ffa2fd8c">odp_pktio_param_t::out_mode</a></div><div class="ttdeci">odp_pktout_mode_t out_mode</div><div class="ttdoc">Packet output mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00362">api/spec/packet_io_types.h:362</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__param__t_html"><div class="ttname"><a href="structodp__pktout__queue__param__t.html">odp_pktout_queue_param_t</a></div><div class="ttdoc">Packet output queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00323">api/spec/packet_io_types.h:323</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__param__t_html_a066fd0a2de0efca0056cd1529d78b06e"><div class="ttname"><a href="structodp__pktout__queue__param__t.html#a066fd0a2de0efca0056cd1529d78b06e">odp_pktout_queue_param_t::op_mode</a></div><div class="ttdeci">odp_pktio_op_mode_t op_mode</div><div class="ttdoc">Operation mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00329">api/spec/packet_io_types.h:329</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__param__t_html_acd16e77991869797adb3da1bd41a1d0c"><div class="ttname"><a href="structodp__pktout__queue__param__t.html#acd16e77991869797adb3da1bd41a1d0c">odp_pktout_queue_param_t::num_queues</a></div><div class="ttdeci">uint32_t num_queues</div><div class="ttdoc">Number of output queues to be created.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00333">api/spec/packet_io_types.h:333</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__s_html"><div class="ttname"><a href="structodp__pktout__queue__s.html">odp_pktout_queue_s</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2packet__io__types_8h_source.html#l00063">api/abi-default/packet_io_types.h:63</a></div></div>
<div class="ttc" id="astructodp__pool__capability__t_html"><div class="ttname"><a href="structodp__pool__capability__t.html">odp_pool_capability_t</a></div><div class="ttdoc">Pool capabilities.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00184">api/spec/pool_types.h:184</a></div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_a11c2f0606b3bb00a72220d2352f43806"><div class="ttname"><a href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">odp_pool_capability_t::pkt</a></div><div class="ttdeci">struct odp_pool_capability_t::@133 pkt</div><div class="ttdoc">Packet pool capabilities</div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_a2b468c5617515bbd5d50a57a7d65e1e0"><div class="ttname"><a href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">odp_pool_capability_t::max_num</a></div><div class="ttdeci">uint32_t max_num</div><div class="ttdoc">Maximum number of buffers of any size.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00206">api/spec/pool_types.h:206</a></div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_a403f02179401db3944b5a37b84447344"><div class="ttname"><a href="structodp__pool__capability__t.html#a403f02179401db3944b5a37b84447344">odp_pool_capability_t::min_cache_size</a></div><div class="ttdeci">uint32_t min_cache_size</div><div class="ttdoc">Minimum size of thread local cache.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00225">api/spec/pool_types.h:225</a></div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_ab8e07d245189161743cfa068f1b3d681"><div class="ttname"><a href="structodp__pool__capability__t.html#ab8e07d245189161743cfa068f1b3d681">odp_pool_capability_t::buf</a></div><div class="ttdeci">struct odp_pool_capability_t::@132 buf</div><div class="ttdoc">Buffer pool capabilities</div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_ad6bcac8eb44c69a7d84bdfe53bc30f95"><div class="ttname"><a href="structodp__pool__capability__t.html#ad6bcac8eb44c69a7d84bdfe53bc30f95">odp_pool_capability_t::max_cache_size</a></div><div class="ttdeci">uint32_t max_cache_size</div><div class="ttdoc">Maximum size of thread local cache.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00228">api/spec/pool_types.h:228</a></div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_affefe3b2c3a473c37d08fcd2929e84c2"><div class="ttname"><a href="structodp__pool__capability__t.html#affefe3b2c3a473c37d08fcd2929e84c2">odp_pool_capability_t::max_len</a></div><div class="ttdeci">uint32_t max_len</div><div class="ttdoc">Maximum packet data length in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00247">api/spec/pool_types.h:247</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html"><div class="ttname"><a href="structodp__pool__param__t.html">odp_pool_param_t</a></div><div class="ttdoc">Pool parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00466">api/spec/pool_types.h:466</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a3598b3a2496629cd45010c1c5e876250"><div class="ttname"><a href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">odp_pool_param_t::num</a></div><div class="ttdeci">uint32_t num</div><div class="ttdoc">Number of buffers in the pool.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00473">api/spec/pool_types.h:473</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a37952a35bf3431c15922143ad765da70"><div class="ttname"><a href="structodp__pool__param__t.html#a37952a35bf3431c15922143ad765da70">odp_pool_param_t::buf</a></div><div class="ttdeci">struct odp_pool_param_t::@137 buf</div><div class="ttdoc">Parameters for buffer pools.</div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a7cae0f09e3ba15b1a6885adb3baa80fe"><div class="ttname"><a href="structodp__pool__param__t.html#a7cae0f09e3ba15b1a6885adb3baa80fe">odp_pool_param_t::cache_size</a></div><div class="ttdeci">uint32_t cache_size</div><div class="ttdoc">Maximum number of buffers cached locally per thread.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00508">api/spec/pool_types.h:508</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a7f9ca49dc21d48da0d80860c03faec1d"><div class="ttname"><a href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">odp_pool_param_t::pkt</a></div><div class="ttdeci">struct odp_pool_param_t::@138 pkt</div><div class="ttdoc">Parameters for packet pools.</div></div>
<div class="ttc" id="astructodp__pool__param__t_html_aa11286791288fff8f292caae1fc62002"><div class="ttname"><a href="structodp__pool__param__t.html#aa11286791288fff8f292caae1fc62002">odp_pool_param_t::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdoc">Minimum buffer size in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00480">api/spec/pool_types.h:480</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_aac72ae142dd9736a287ce63d78b71c87"><div class="ttname"><a href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">odp_pool_param_t::type</a></div><div class="ttdeci">odp_pool_type_t type</div><div class="ttdoc">Pool type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00468">api/spec/pool_types.h:468</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_ac1ccfa50466f4afa9a9ab72f0bd315bf"><div class="ttname"><a href="structodp__pool__param__t.html#ac1ccfa50466f4afa9a9ab72f0bd315bf">odp_pool_param_t::len</a></div><div class="ttdeci">uint32_t len</div><div class="ttdoc">Minimum length of 'num' packets.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00540">api/spec/pool_types.h:540</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_ad400db5955445ee3d1fbb36df456e7f1"><div class="ttname"><a href="structodp__pool__param__t.html#ad400db5955445ee3d1fbb36df456e7f1">odp_pool_param_t::seg_len</a></div><div class="ttdeci">uint32_t seg_len</div><div class="ttdoc">Minimum number of packet data bytes that can be stored in the first segment of a newly allocated pack...</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00566">api/spec/pool_types.h:566</a></div></div>
<div class="ttc" id="astructodp__queue__param__t_html"><div class="ttname"><a href="structodp__queue__param__t.html">odp_queue_param_t</a></div><div class="ttdoc">ODP Queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2queue__types_8h_source.html#l00239">api/spec/queue_types.h:239</a></div></div>
<div class="ttc" id="astructodp__queue__param__t_html_a371701df4d20cee95978b9265c232e32"><div class="ttname"><a href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">odp_queue_param_t::sched</a></div><div class="ttdeci">odp_schedule_param_t sched</div><div class="ttdoc">Scheduler parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2queue__types_8h_source.html#l00270">api/spec/queue_types.h:270</a></div></div>
<div class="ttc" id="astructodp__queue__param__t_html_a6a7251138773a3110bdc0e8d5f5b3be9"><div class="ttname"><a href="structodp__queue__param__t.html#a6a7251138773a3110bdc0e8d5f5b3be9">odp_queue_param_t::type</a></div><div class="ttdeci">odp_queue_type_t type</div><div class="ttdoc">Queue type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2queue__types_8h_source.html#l00244">api/spec/queue_types.h:244</a></div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_a3f103771c3a9319c1ec998fa8724b8ac"><div class="ttname"><a href="structodp__schedule__param__t.html#a3f103771c3a9319c1ec998fa8724b8ac">odp_schedule_param_t::prio</a></div><div class="ttdeci">odp_schedule_prio_t prio</div><div class="ttdoc">Priority level.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2schedule__types_8h_source.html#l00194">api/spec/schedule_types.h:194</a></div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_ad4ca09d63edb0cec36567c26688cea14"><div class="ttname"><a href="structodp__schedule__param__t.html#ad4ca09d63edb0cec36567c26688cea14">odp_schedule_param_t::sync</a></div><div class="ttdeci">odp_schedule_sync_t sync</div><div class="ttdoc">Synchronization method.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2schedule__types_8h_source.html#l00199">api/spec/schedule_types.h:199</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html"><div class="ttname"><a href="structodp__stash__capability__t.html">odp_stash_capability_t</a></div><div class="ttdoc">Stash capabilities (per stash type)</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00146">api/spec/stash_types.h:146</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_a0817e9366c8f070d5d48ea880fa820ad"><div class="ttname"><a href="structodp__stash__capability__t.html#a0817e9366c8f070d5d48ea880fa820ad">odp_stash_capability_t::u16</a></div><div class="ttdeci">uint64_t u16</div><div class="ttdoc">Maximum number of 2 byte object handles.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00174">api/spec/stash_types.h:174</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_a21ba9037994bf1eca0420d9f8d70a702"><div class="ttname"><a href="structodp__stash__capability__t.html#a21ba9037994bf1eca0420d9f8d70a702">odp_stash_capability_t::max_num</a></div><div class="ttdeci">struct odp_stash_capability_t::@169 max_num</div><div class="ttdoc">Maximum number of object handles per stash for each object size.</div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_a385c6b0fc172a58355ed0f13d3c5b330"><div class="ttname"><a href="structodp__stash__capability__t.html#a385c6b0fc172a58355ed0f13d3c5b330">odp_stash_capability_t::u128</a></div><div class="ttdeci">uint64_t u128</div><div class="ttdoc">Maximum number of 16 byte object handles.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00183">api/spec/stash_types.h:183</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_a71569d956734bf7a75fa332aba3c337c"><div class="ttname"><a href="structodp__stash__capability__t.html#a71569d956734bf7a75fa332aba3c337c">odp_stash_capability_t::max_stashes</a></div><div class="ttdeci">uint32_t max_stashes</div><div class="ttdoc">Maximum number of stashes of this type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00155">api/spec/stash_types.h:155</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_a9f9d3a4981429043ac1dd924aa15cd05"><div class="ttname"><a href="structodp__stash__capability__t.html#a9f9d3a4981429043ac1dd924aa15cd05">odp_stash_capability_t::u64</a></div><div class="ttdeci">uint64_t u64</div><div class="ttdoc">Maximum number of 8 byte object handles.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00180">api/spec/stash_types.h:180</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_acd7eb1a1e80cb028fb558beedee44e7c"><div class="ttname"><a href="structodp__stash__capability__t.html#acd7eb1a1e80cb028fb558beedee44e7c">odp_stash_capability_t::max_cache_size</a></div><div class="ttdeci">uint32_t max_cache_size</div><div class="ttdoc">Maximum size of thread local cache.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00196">api/spec/stash_types.h:196</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_aec9df3d56b9e395346bbe01cb87c303d"><div class="ttname"><a href="structodp__stash__capability__t.html#aec9df3d56b9e395346bbe01cb87c303d">odp_stash_capability_t::u32</a></div><div class="ttdeci">uint64_t u32</div><div class="ttdoc">Maximum number of 4 byte object handles.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00177">api/spec/stash_types.h:177</a></div></div>
<div class="ttc" id="astructodp__stash__capability__t_html_aef8c42140f5888b7bfe6fa6d5ebaeda1"><div class="ttname"><a href="structodp__stash__capability__t.html#aef8c42140f5888b7bfe6fa6d5ebaeda1">odp_stash_capability_t::u8</a></div><div class="ttdeci">uint64_t u8</div><div class="ttdoc">Maximum number of 1 byte object handles.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00171">api/spec/stash_types.h:171</a></div></div>
<div class="ttc" id="astructodp__stash__param__t_html"><div class="ttname"><a href="structodp__stash__param__t.html">odp_stash_param_t</a></div><div class="ttdoc">Stash parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00218">api/spec/stash_types.h:218</a></div></div>
<div class="ttc" id="astructodp__stash__param__t_html_a1e704a10c66c3c6d584f2ae9d3049afb"><div class="ttname"><a href="structodp__stash__param__t.html#a1e704a10c66c3c6d584f2ae9d3049afb">odp_stash_param_t::cache_size</a></div><div class="ttdeci">uint32_t cache_size</div><div class="ttdoc">Maximum number of object handles cached locally per thread.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00281">api/spec/stash_types.h:281</a></div></div>
<div class="ttc" id="astructodp__stash__param__t_html_a2e7a1df5bc45a347fadc6cb7e86619e7"><div class="ttname"><a href="structodp__stash__param__t.html#a2e7a1df5bc45a347fadc6cb7e86619e7">odp_stash_param_t::get_mode</a></div><div class="ttdeci">odp_stash_op_mode_t get_mode</div><div class="ttdoc">Get operation mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00243">api/spec/stash_types.h:243</a></div></div>
<div class="ttc" id="astructodp__stash__param__t_html_a54b2376d0eeb63a971494597e521478d"><div class="ttname"><a href="structodp__stash__param__t.html#a54b2376d0eeb63a971494597e521478d">odp_stash_param_t::obj_size</a></div><div class="ttdeci">uint32_t obj_size</div><div class="ttdoc">Object handle size in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00259">api/spec/stash_types.h:259</a></div></div>
<div class="ttc" id="astructodp__stash__param__t_html_a60823674bbe96cd9193fab6e5df8e169"><div class="ttname"><a href="structodp__stash__param__t.html#a60823674bbe96cd9193fab6e5df8e169">odp_stash_param_t::type</a></div><div class="ttdeci">odp_stash_type_t type</div><div class="ttdoc">Stash type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00225">api/spec/stash_types.h:225</a></div></div>
<div class="ttc" id="astructodp__stash__param__t_html_a8908a6c2445d28a865d98ba0e49d78cd"><div class="ttname"><a href="structodp__stash__param__t.html#a8908a6c2445d28a865d98ba0e49d78cd">odp_stash_param_t::put_mode</a></div><div class="ttdeci">odp_stash_op_mode_t put_mode</div><div class="ttdoc">Put operation mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00234">api/spec/stash_types.h:234</a></div></div>
<div class="ttc" id="astructodp__stash__param__t_html_afe604e82bf2ff403a087b7b5bed402ca"><div class="ttname"><a href="structodp__stash__param__t.html#afe604e82bf2ff403a087b7b5bed402ca">odp_stash_param_t::num_obj</a></div><div class="ttdeci">uint64_t num_obj</div><div class="ttdoc">Number of object handles.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2stash__types_8h_source.html#l00251">api/spec/stash_types.h:251</a></div></div>
<div class="ttc" id="astructodp__u128__s_html"><div class="ttname"><a href="structodp__u128__s.html">odp_u128_s</a></div><div class="ttdoc">128-bit unsigned integer structure</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2std__types_8h_source.html#l00065">api/spec/std_types.h:65</a></div></div>
<div class="ttc" id="aunionodp__pktin__hash__proto__t_html_a23793296c3a0299f69bdacc438ca3caf"><div class="ttname"><a href="unionodp__pktin__hash__proto__t.html#a23793296c3a0299f69bdacc438ca3caf">odp_pktin_hash_proto_t::proto</a></div><div class="ttdeci">struct odp_pktin_hash_proto_t::@106 proto</div><div class="ttdoc">Protocol header fields for hashing.</div></div>
<div class="ttc" id="aunionodp__pktin__hash__proto__t_html_ade3193ac0eb548aac8eb5001fd0933f8"><div class="ttname"><a href="unionodp__pktin__hash__proto__t.html#ade3193ac0eb548aac8eb5001fd0933f8">odp_pktin_hash_proto_t::ipv4</a></div><div class="ttdeci">uint32_t ipv4</div><div class="ttdoc">IPv4 addresses.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00133">api/spec/packet_io_types.h:133</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
