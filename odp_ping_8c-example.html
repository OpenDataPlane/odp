<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>API Reference Manual: odp_ping.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="odpdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ODP-Logo-HQ.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">API Reference Manual
   &#160;<span id="projectnumber">1.49.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('odp_ping_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">odp_ping.c</div>  </div>
</div><!--header-->
<div class="contents">
<p>This application replies to IPv4 ping requests. It can be used to test connectivity with standard ping utility. ARP table needs to be setup manually on the sender side as the application does not reply to ARP requests.</p>
<div class="fragment"><div class="line"><span class="comment">/* SPDX-License-Identifier: BSD-3-Clause</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2019-2023 Nokia</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="odp__api_8h.html">odp_api.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;odp/helper/odph_api.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define MAX_PKTIOS        32</span></div>
<div class="line"><span class="preprocessor">#define MAX_PKTIO_NAME    255</span></div>
<div class="line"><span class="preprocessor">#define MAX_PKT_NUM       1024</span></div>
<div class="line"> </div>
<div class="line"><a name="a0"></a><a class="code" href="group__odp__initialization.html#ga1c51393d64c840c04df3536b6fe40b95">ODP_STATIC_ASSERT</a>(MAX_PKTIOS &lt; UINT8_MAX, <span class="stringliteral">&quot;MAX_PKTIOS too large for index lookup&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>test_options_t {</div>
<div class="line">    uint64_t num_packet;</div>
<div class="line">    uint32_t timeout;</div>
<div class="line">    <span class="keywordtype">int</span> promisc;</div>
<div class="line">    <span class="keywordtype">int</span> verbose;</div>
<div class="line">    <span class="keywordtype">int</span> num_pktio;</div>
<div class="line">    <span class="keywordtype">char</span> pktio_name[MAX_PKTIOS][MAX_PKTIO_NAME + 1];</div>
<div class="line"> </div>
<div class="line">} test_options_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>test_global_t {</div>
<div class="line">    test_options_t opt;</div>
<div class="line">    uint64_t rx_packets;</div>
<div class="line">    uint64_t tx_replies;</div>
<div class="line">    <a name="_a1"></a><a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> pool;</div>
<div class="line">    <a name="_a2"></a><a class="code" href="structodp__atomic__u32__s.html">odp_atomic_u32_t</a> stop;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>{</div>
<div class="line">        odph_ethaddr_t eth_addr;</div>
<div class="line">        <a name="_a3"></a><a class="code" href="struct__odp__abi__pktio__t.html">odp_pktio_t</a> pktio;</div>
<div class="line">        <a name="_a4"></a><a class="code" href="structodp__pktout__queue__s.html">odp_pktout_queue_t</a> pktout;</div>
<div class="line">        <span class="keywordtype">int</span> started;</div>
<div class="line"> </div>
<div class="line">    } pktio[MAX_PKTIOS];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Pktio index lookup table */</span></div>
<div class="line">    uint8_t pktio_from_idx[<a name="a5"></a><a class="code" href="group__odp__packet__io.html#gac600157dd09955a9cee3f6618c757ee7">ODP_PKTIO_MAX_INDEX</a> + 1];</div>
<div class="line"> </div>
<div class="line">} test_global_t;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> test_global_t test_global;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> sig_handler(<span class="keywordtype">int</span> signo)</div>
<div class="line">{</div>
<div class="line">    (void)signo;</div>
<div class="line"> </div>
<div class="line">    <a name="a6"></a><a class="code" href="group__odp__atomic.html#gaa6d2d16a9ef9897b1442d77e41f7101e">odp_atomic_store_u32</a>(&amp;test_global.stop, 1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_usage(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;ODP ping example. Replies to ICMPv4 ping requests.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;OPTIONS:\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -i, --interface &lt;name&gt;      Packet IO interfaces (comma-separated, no spaces)\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -n, --num_packet &lt;number&gt;   Exit after this many packets. Use 0 to run infinitely. Default 0.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -t, --timeout &lt;sec&gt;         Exit after this many seconds. Use 0 to run infinitely. Default 0.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -p, --promisc               Set interface into promiscuous mode.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -v, --verbose               Print extra packet information.\n&quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;  -h, --help                  Display help and exit.\n\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> parse_options(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[], test_global_t *global)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i, opt;</div>
<div class="line">    <span class="keywordtype">char</span> *name, *str;</div>
<div class="line">    <span class="keywordtype">int</span> len, str_len;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">struct </span>option longopts[] = {</div>
<div class="line">        {<span class="stringliteral">&quot;interface&quot;</span>,   required_argument, NULL, <span class="charliteral">&#39;i&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;num_packet&quot;</span>,  required_argument, NULL, <span class="charliteral">&#39;n&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;timeout&quot;</span>,     required_argument, NULL, <span class="charliteral">&#39;t&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;promisc&quot;</span>,     no_argument,       NULL, <span class="charliteral">&#39;p&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;verbose&quot;</span>,     no_argument,       NULL, <span class="charliteral">&#39;v&#39;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;help&quot;</span>,        no_argument,       NULL, <span class="charliteral">&#39;h&#39;</span>},</div>
<div class="line">        {NULL, 0, NULL, 0}</div>
<div class="line">    };</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *shortopts =  <span class="stringliteral">&quot;+i:n:t:pvh&quot;</span>;</div>
<div class="line">    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        opt = getopt_long(argc, argv, shortopts, longopts, NULL);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (opt == -1)</div>
<div class="line">            <span class="keywordflow">break</span>;  <span class="comment">/* No more options */</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line">            i = 0;</div>
<div class="line">            str = optarg;</div>
<div class="line">            str_len = strlen(str);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">while</span> (str_len &gt; 0) {</div>
<div class="line">                len = strcspn(str, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line">                str_len -= len + 1;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (i == MAX_PKTIOS) {</div>
<div class="line">                    ODPH_ERR(<span class="stringliteral">&quot;Too many interfaces\n&quot;</span>);</div>
<div class="line">                    ret = -1;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (len &gt; MAX_PKTIO_NAME) {</div>
<div class="line">                    ODPH_ERR(<span class="stringliteral">&quot;Too long interface name: %s\n&quot;</span>, str);</div>
<div class="line">                    ret = -1;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                name = global-&gt;opt.pktio_name[i];</div>
<div class="line">                memcpy(name, str, len);</div>
<div class="line">                str += len + 1;</div>
<div class="line">                i++;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            global-&gt;opt.num_pktio = i;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div>
<div class="line">            global-&gt;opt.num_packet = atoll(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line">            global-&gt;opt.timeout = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line">            global-&gt;opt.promisc = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>:</div>
<div class="line">            global-&gt;opt.verbose = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            print_usage();</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (global-&gt;opt.num_pktio == 0) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;At least one pktio interface needed\n&quot;</span>);</div>
<div class="line">        ret = -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> open_pktios(test_global_t *global)</div>
<div class="line">{</div>
<div class="line">    <a name="_a7"></a><a class="code" href="structodp__pool__param__t.html">odp_pool_param_t</a>  pool_param;</div>
<div class="line">    <a name="_a8"></a><a class="code" href="structodp__pktio__param__t.html">odp_pktio_param_t</a> pktio_param;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> pool;</div>
<div class="line">    <a name="_a9"></a><a class="code" href="structodp__pool__capability__t.html">odp_pool_capability_t</a> pool_capa;</div>
<div class="line">    <a name="_a10"></a><a class="code" href="structodp__pktio__capability__t.html">odp_pktio_capability_t</a> pktio_capa;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pktio__t.html">odp_pktio_t</a> pktio;</div>
<div class="line">    <a name="_a11"></a><a class="code" href="structodp__pktio__config__t.html">odp_pktio_config_t</a> pktio_config;</div>
<div class="line">    <a name="_a12"></a><a class="code" href="structodp__pktin__queue__param__t.html">odp_pktin_queue_param_t</a> pktin_param;</div>
<div class="line">    <a name="_a13"></a><a class="code" href="structodp__pktout__queue__param__t.html">odp_pktout_queue_param_t</a> pktout_param;</div>
<div class="line">    <a class="code" href="structodp__pktout__queue__s.html">odp_pktout_queue_t</a> pktout;</div>
<div class="line">    <span class="keywordtype">char</span> *name;</div>
<div class="line">    <span class="keywordtype">int</span> i, num_pktio;</div>
<div class="line">    uint32_t num_pkt = MAX_PKT_NUM;</div>
<div class="line"> </div>
<div class="line">    num_pktio = global-&gt;opt.num_pktio;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a14"></a><a class="code" href="group__odp__pool.html#ga2c6f42e9611904eac84872bf8f913b75">odp_pool_capability</a>(&amp;pool_capa)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pool capability failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (pool_capa.<a name="a15"></a><a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a name="a16"></a><a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a> &lt; MAX_PKT_NUM)</div>
<div class="line">        num_pkt = pool_capa.<a class="code" href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">pkt</a>.<a class="code" href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">max_num</a>;</div>
<div class="line"> </div>
<div class="line">    <a name="a17"></a><a class="code" href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a>(&amp;pool_param);</div>
<div class="line">    pool_param.<a name="a18"></a><a class="code" href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">pkt</a>.<a name="a19"></a><a class="code" href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">num</a>     = num_pkt;</div>
<div class="line">    pool_param.<a name="a20"></a><a class="code" href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">type</a>        = <a name="a21"></a><a class="code" href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082aa02b3a4e37094bd277b3dfe371450acd">ODP_POOL_PACKET</a>;</div>
<div class="line"> </div>
<div class="line">    pool = <a name="a22"></a><a class="code" href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a>(<span class="stringliteral">&quot;packet pool&quot;</span>, &amp;pool_param);</div>
<div class="line"> </div>
<div class="line">    global-&gt;pool = pool;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (pool == <a name="a23"></a><a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pool create failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a name="a24"></a><a class="code" href="group__odp__packet__io.html#ga26d165a22d659770eba0c48543860881">odp_pktio_param_init</a>(&amp;pktio_param);</div>
<div class="line">    pktio_param.<a name="a25"></a><a class="code" href="structodp__pktio__param__t.html#a819cf5e2ef7df43a729cad159c022f4d">in_mode</a>  = <a name="a26"></a><a class="code" href="group__odp__packet__io.html#ggaf5d539df6fc8af55d96357c784a54b8faa4f62db7acbe492a3b80f3f782a04dd5">ODP_PKTIN_MODE_SCHED</a>;</div>
<div class="line">    pktio_param.<a name="a27"></a><a class="code" href="structodp__pktio__param__t.html#afc226fd3904618950a0d1154ffa2fd8c">out_mode</a> = <a name="a28"></a><a class="code" href="group__odp__packet__io.html#gga4e0c26e40b1166b07142302d12e8467da9e6184e8d605ce199cfa54d6c50153ff">ODP_PKTOUT_MODE_DIRECT</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; num_pktio; i++)</div>
<div class="line">        global-&gt;pktio[i].pktio = <a name="a29"></a><a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Open and configure interfaces */</span></div>
<div class="line">    for (i = 0; i &lt; num_pktio; i++) {</div>
<div class="line">        name  = global-&gt;opt.pktio_name[i];</div>
<div class="line">        pktio = <a name="a30"></a><a class="code" href="group__odp__packet__io.html#ga7ae4f96ab09d468fff3623d90db306f9">odp_pktio_open</a>(name, pool, &amp;pktio_param);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pktio == <a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a>) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Pktio open failed: %s\n&quot;</span>, name);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        global-&gt;pktio[i].pktio = pktio;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a31"></a><a class="code" href="group__odp__packet__io.html#gaba80778db7ec138977ed9e473bd1faaa">odp_pktio_capability</a>(pktio, &amp;pktio_capa)) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Packet IO capability failed\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a32"></a><a class="code" href="group__odp__packet__io.html#ga04d67c951aff803cf718940e0783ef8f">odp_pktio_mac_addr</a>(pktio,</div>
<div class="line">                       &amp;global-&gt;pktio[i].eth_addr.addr,</div>
<div class="line">                       ODPH_ETHADDR_LEN) != ODPH_ETHADDR_LEN) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;MAC address read failed: %s\n&quot;</span>, name);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a name="a33"></a><a class="code" href="group__odp__packet__io.html#ga6a1c262ef999e8a73ac107c182b67d33">odp_pktio_config_init</a>(&amp;pktio_config);</div>
<div class="line">        pktio_config.<a name="a34"></a><a class="code" href="structodp__pktio__config__t.html#ad8e059ec7e784ef0f2d6ffc6623620b7">pktin</a>.<a name="a35"></a><a class="code" href="unionodp__pktin__config__opt__t.html#a20b595b0adb3cbccf3395ff93dc7067e">bit</a>.<a name="a36"></a><a class="code" href="unionodp__pktin__config__opt__t.html#a0955307af97f20d4e8676934c999387c">ts_all</a> = 1;</div>
<div class="line">        pktio_config.<a name="a37"></a><a class="code" href="structodp__pktio__config__t.html#ab11707ba4258066a50f0e029fcc641f5">parser</a>.<a name="a38"></a><a class="code" href="structodp__pktio__parser__config__t.html#aff1f0d93e1f3cc93006aa613287378a2">layer</a> = <a name="a39"></a><a class="code" href="group__odp__packet.html#gga428cdbec9e7bc0bc19286f9564f9828ba3a3cbdc7032884954f7b688afacd37d5">ODP_PROTO_LAYER_ALL</a>;</div>
<div class="line"> </div>
<div class="line">        <a name="a40"></a><a class="code" href="group__odp__packet__io.html#ga7f9faaf250d3d0d87478ff9f13680bf1">odp_pktio_config</a>(pktio, &amp;pktio_config);</div>
<div class="line"> </div>
<div class="line">        <a name="a41"></a><a class="code" href="group__odp__packet__io.html#ga055eabf5622e6745afbe9a1550ad1d78">odp_pktin_queue_param_init</a>(&amp;pktin_param);</div>
<div class="line"> </div>
<div class="line">        pktin_param.<a name="a42"></a><a class="code" href="structodp__pktin__queue__param__t.html#a5a07d5e93f26a523103360c0bea4a304">queue_param</a>.<a name="a43"></a><a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a44"></a><a class="code" href="structodp__schedule__param__t.html#a3f103771c3a9319c1ec998fa8724b8ac">prio</a>  = <a name="a45"></a><a class="code" href="group__odp__scheduler.html#ga94034a7f591f3f549099aebb098f7e05">odp_schedule_default_prio</a>();</div>
<div class="line">        pktin_param.<a class="code" href="structodp__pktin__queue__param__t.html#a5a07d5e93f26a523103360c0bea4a304">queue_param</a>.<a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a46"></a><a class="code" href="structodp__schedule__param__t.html#ad4ca09d63edb0cec36567c26688cea14">sync</a>  = <a name="a47"></a><a class="code" href="group__odp__scheduler.html#ga4b7efc5cfc27ef416312f5adb8bdc392">ODP_SCHED_SYNC_ATOMIC</a>;</div>
<div class="line">        pktin_param.<a class="code" href="structodp__pktin__queue__param__t.html#a5a07d5e93f26a523103360c0bea4a304">queue_param</a>.<a class="code" href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">sched</a>.<a name="a48"></a><a class="code" href="structodp__schedule__param__t.html#a0bc7830a919f31ce295a20c51a7e2648">group</a> = <a name="a49"></a><a class="code" href="group__odp__scheduler.html#gaf463b15ad978dac0bf77c0110232b504">ODP_SCHED_GROUP_ALL</a>;</div>
<div class="line">        pktin_param.<a name="a50"></a><a class="code" href="structodp__pktin__queue__param__t.html#a03e94f43a2e4379d7a16adb964a55ecd">num_queues</a> = 1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a51"></a><a class="code" href="group__odp__packet__io.html#gaf9dce6b2cc13ad715e777416dce88194">odp_pktin_queue_config</a>(pktio, &amp;pktin_param)) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Pktin config failed: %s\n&quot;</span>, name);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a name="a52"></a><a class="code" href="group__odp__packet__io.html#gab09475da05438a53b2d0fca96aab7515">odp_pktout_queue_param_init</a>(&amp;pktout_param);</div>
<div class="line">        pktout_param.<a name="a53"></a><a class="code" href="structodp__pktout__queue__param__t.html#acd16e77991869797adb3da1bd41a1d0c">num_queues</a> = 1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a54"></a><a class="code" href="group__odp__packet__io.html#gafc2120185a8da74540feade78623f3b3">odp_pktout_queue_config</a>(pktio, &amp;pktout_param)) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Pktout config failed: %s\n&quot;</span>, name);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a55"></a><a class="code" href="group__odp__packet__io.html#ga41a3ebb7ac489b85a5f7560e4d4f77f5">odp_pktout_queue</a>(pktio, &amp;pktout, 1) != 1) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Pktout queue request failed: %s\n&quot;</span>, name);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        global-&gt;pktio[i].pktout = pktout;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (global-&gt;opt.promisc &amp;&amp; <a name="a56"></a><a class="code" href="group__odp__packet__io.html#ga2c232afd3b0c7afd7e9685a0957b84bd">odp_pktio_promisc_mode</a>(pktio) != 1) {</div>
<div class="line">            <span class="keywordflow">if</span> (pktio_capa.<a name="a57"></a><a class="code" href="structodp__pktio__capability__t.html#a2d4329604c32dda9539d9ea9831b2291">set_op</a>.<a name="a58"></a><a class="code" href="unionodp__pktio__set__op__t.html#a63dcf0f49f84a9678c00f5581e2c75cc">op</a>.<a name="a59"></a><a class="code" href="unionodp__pktio__set__op__t.html#ae821914c6895a2cfbea766f6c70d48bc">promisc_mode</a> == 0) {</div>
<div class="line">                ODPH_ERR(<span class="stringliteral">&quot;Promiscuous mode cannot be set: %s\n&quot;</span>, name);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (<a name="a60"></a><a class="code" href="group__odp__packet__io.html#ga506ab30c6737e9fbd815f0044396893b">odp_pktio_promisc_mode_set</a>(pktio, 1)) {</div>
<div class="line">                ODPH_ERR(<span class="stringliteral">&quot;Promiscuous mode set failed: %s\n&quot;</span>, name);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a name="a61"></a><a class="code" href="group__odp__packet__io.html#ga8fdd705d18d4aeb81528e68c0294e984">odp_pktio_print</a>(pktio);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> init_pktio_lookup_tbl(test_global_t *global)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; global-&gt;opt.num_pktio; i++) {</div>
<div class="line">        <a class="code" href="struct__odp__abi__pktio__t.html">odp_pktio_t</a> pktio = global-&gt;pktio[i].pktio;</div>
<div class="line">        <span class="keywordtype">int</span> pktio_idx = <a name="a62"></a><a class="code" href="group__odp__packet__io.html#gab552d0e69245ade3de47130c2b9c5203">odp_pktio_index</a>(pktio);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pktio_idx &lt; 0) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;odp_pktio_index() failed: %s\n&quot;</span>, global-&gt;opt.pktio_name[i]);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        global-&gt;pktio_from_idx[pktio_idx] = i;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> start_pktios(test_global_t *global)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; global-&gt;opt.num_pktio; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a63"></a><a class="code" href="group__odp__packet__io.html#ga9a5746e73616297fabb8d4caaa6d0333">odp_pktio_start</a>(global-&gt;pktio[i].pktio)) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Pktio start failed: %s\n&quot;</span>, global-&gt;opt.pktio_name[i]);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        global-&gt;pktio[i].started = 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> stop_pktios(test_global_t *global)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__pktio__t.html">odp_pktio_t</a> pktio;</div>
<div class="line">    <span class="keywordtype">int</span> i, ret = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; global-&gt;opt.num_pktio; i++) {</div>
<div class="line">        pktio = global-&gt;pktio[i].pktio;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pktio == <a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a> || global-&gt;pktio[i].started == 0)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a64"></a><a class="code" href="group__odp__packet__io.html#gab34cb9679bf99d1b3366f06a9b155c41">odp_pktio_stop</a>(pktio)) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Pktio stop failed: %s\n&quot;</span>, global-&gt;opt.pktio_name[i]);</div>
<div class="line">            ret = -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> empty_queues(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a name="_a65"></a><a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> ev;</div>
<div class="line">    uint64_t wait_time = <a name="a66"></a><a class="code" href="group__odp__scheduler.html#gab0a0d2673cc7371d5c5d782d13a485b8">odp_schedule_wait_time</a>(<a name="a67"></a><a class="code" href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a> / 2);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Drop all events from all queues */</span></div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        ev = <a name="a68"></a><a class="code" href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a>(NULL, wait_time);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (ev == <a name="a69"></a><a class="code" href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a>)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <a name="a70"></a><a class="code" href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a>(ev);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> close_pktios(test_global_t *global)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__pktio__t.html">odp_pktio_t</a> pktio;</div>
<div class="line">    <a class="code" href="struct__odp__abi__pool__t.html">odp_pool_t</a> pool;</div>
<div class="line">    <span class="keywordtype">int</span> i, ret = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; global-&gt;opt.num_pktio; i++) {</div>
<div class="line">        pktio = global-&gt;pktio[i].pktio;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pktio == <a class="code" href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a>)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a71"></a><a class="code" href="group__odp__packet__io.html#ga2e481c9f2f073cc337aff7f4c65cba7c">odp_pktio_close</a>(pktio)) {</div>
<div class="line">            ODPH_ERR(<span class="stringliteral">&quot;Pktio close failed: %s\n&quot;</span>, global-&gt;opt.pktio_name[i]);</div>
<div class="line">            ret = -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    pool = global-&gt;pool;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (pool == <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>)</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a72"></a><a class="code" href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a>(pool)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pool destroy failed\n&quot;</span>);</div>
<div class="line">        ret = -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_mac_addr(uint8_t *addr)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;%02x:%02x:%02x:%02x:%02x:%02x\n&quot;</span>,</div>
<div class="line">           addr[0], addr[1], addr[2], addr[3], addr[4], addr[5]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_ipv4_addr(uint8_t *addr)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;%u.%u.%u.%u\n&quot;</span>,</div>
<div class="line">           addr[0], addr[1], addr[2], addr[3]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_data(<a name="_a73"></a><a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkt, uint32_t offset, uint32_t len)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> uint32_t bytes_per_row = 16;</div>
<div class="line">    <span class="keyword">const</span> uint32_t num_char = 1 + (bytes_per_row * 3) + 1;</div>
<div class="line">    uint8_t data[bytes_per_row];</div>
<div class="line">    <span class="keywordtype">char</span> row[num_char];</div>
<div class="line">    uint32_t copy_len, i, j;</div>
<div class="line">    uint32_t data_len = <a name="a74"></a><a class="code" href="group__odp__packet.html#ga68c47fd0c2a764b01b11390974748cc6">odp_packet_len</a>(pkt);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (offset &gt; data_len)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (offset + len &gt; data_len)</div>
<div class="line">        len = data_len - offset;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (len) {</div>
<div class="line">        i = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (len &gt; bytes_per_row)</div>
<div class="line">            copy_len = bytes_per_row;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            copy_len = len;</div>
<div class="line"> </div>
<div class="line">        <a name="a75"></a><a class="code" href="group__odp__packet.html#gadf9179122029a9dd7a000e050f68b357">odp_packet_copy_to_mem</a>(pkt, offset, copy_len, data);</div>
<div class="line"> </div>
<div class="line">        i += snprintf(&amp;row[i], num_char - i, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; copy_len; j++)</div>
<div class="line">            i += snprintf(&amp;row[i], num_char - i, <span class="stringliteral">&quot; %02x&quot;</span>, data[j]);</div>
<div class="line"> </div>
<div class="line">        row[i] = 0;</div>
<div class="line">        printf(<span class="stringliteral">&quot;%s\n&quot;</span>, row);</div>
<div class="line"> </div>
<div class="line">        len    -= copy_len;</div>
<div class="line">        offset += copy_len;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_packet(<a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkt, uint64_t num_packet)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__pktio__t.html">odp_pktio_t</a> pktio;</div>
<div class="line">    <a name="_a76"></a><a class="code" href="structodp__pktio__info__t.html">odp_pktio_info_t</a> pktio_info;</div>
<div class="line">    <a name="_a77"></a><a class="code" href="structodp__time__s.html">odp_time_t</a> time;</div>
<div class="line">    uint64_t sec, nsec;</div>
<div class="line">    uint32_t offset;</div>
<div class="line">    uint8_t *data = <a name="a78"></a><a class="code" href="group__odp__packet.html#ga433ba21e3c83c6d4d9831c9e732b63de">odp_packet_data</a>(pkt);</div>
<div class="line">    uint32_t seg_len = <a name="a79"></a><a class="code" href="group__odp__packet.html#ga22a6d43d83393129dcd548194930bfcf">odp_packet_seg_len</a>(pkt);</div>
<div class="line">    uint32_t l2_offset = <a name="a80"></a><a class="code" href="group__odp__packet.html#gaff4652c8ee369e5d0964775c810ac720">odp_packet_l2_offset</a>(pkt);</div>
<div class="line">    uint32_t l3_offset = <a name="a81"></a><a class="code" href="group__odp__packet.html#ga9eb7cff2a7f32d07bcf919d7286509b1">odp_packet_l3_offset</a>(pkt);</div>
<div class="line">    uint32_t l4_offset = <a name="a82"></a><a class="code" href="group__odp__packet.html#ga3d1e523b200b887c88d9506a804f0e38">odp_packet_l4_offset</a>(pkt);</div>
<div class="line">    uint32_t data_len = <a class="code" href="group__odp__packet.html#ga68c47fd0c2a764b01b11390974748cc6">odp_packet_len</a>(pkt);</div>
<div class="line">    <span class="keywordtype">int</span> icmp = <a name="a83"></a><a class="code" href="group__odp__packet.html#ga343ae97d85ff6defcecbf66e32fba4c5">odp_packet_has_icmp</a>(pkt);</div>
<div class="line">    <span class="keywordtype">int</span> ipv4 = <a name="a84"></a><a class="code" href="group__odp__packet.html#ga34cecc1ff01ab01bbcbd18dd8ef535fb">odp_packet_has_ipv4</a>(pkt);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a85"></a><a class="code" href="group__odp__packet.html#ga1937a99d94a87387d8700e850a013dd3">odp_packet_has_ts</a>(pkt))</div>
<div class="line">        time = <a name="a86"></a><a class="code" href="group__odp__packet.html#gaeac50a7feadc136a33839222ce55ad6a">odp_packet_ts</a>(pkt);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        time = <a name="a87"></a><a class="code" href="group__odp__time.html#ga5d0b24d7dae739bac7585ed515bd60a8">odp_time_local</a>();</div>
<div class="line"> </div>
<div class="line">    nsec  = <a name="a88"></a><a class="code" href="group__odp__time.html#ga04eed146c4559fb906766c4fbd4c2460">odp_time_to_ns</a>(time);</div>
<div class="line">    sec   = nsec / <a class="code" href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a>;</div>
<div class="line">    nsec  = nsec - (sec * <a class="code" href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a>);</div>
<div class="line">    pktio = <a name="a89"></a><a class="code" href="group__odp__packet.html#gafedebc00ec9a8b6076717e43e9ac1b43">odp_packet_input</a>(pkt);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;PACKET [%&quot;</span> PRIu64 <span class="stringliteral">&quot;]\n&quot;</span>, num_packet);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  time:            %&quot;</span> PRIu64 <span class="stringliteral">&quot;.%09&quot;</span> PRIu64 <span class="stringliteral">&quot; sec\n&quot;</span>, sec, nsec);</div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a90"></a><a class="code" href="group__odp__packet__io.html#ga3f703418ffbd054ce430a7f0f23be0f8">odp_pktio_info</a>(pktio, &amp;pktio_info) == 0)</div>
<div class="line">        printf(<span class="stringliteral">&quot;  interface name:  %s\n&quot;</span>, pktio_info.<a name="a91"></a><a class="code" href="structodp__pktio__info__t.html#ab821dfd9c69a437bee30e2ed8bef8845">name</a>);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;  interface name:  n/a\n&quot;</span>);</div>
<div class="line">    printf(<span class="stringliteral">&quot;  packet length:   %u bytes\n&quot;</span>, <a class="code" href="group__odp__packet.html#ga68c47fd0c2a764b01b11390974748cc6">odp_packet_len</a>(pkt));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* L2 */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a92"></a><a class="code" href="group__odp__packet.html#ga4606474a0e463064e573cfe95acf10ab">odp_packet_has_eth</a>(pkt)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  Ethernet offset: %u bytes\n&quot;</span>, l2_offset);</div>
<div class="line">        offset = l2_offset;</div>
<div class="line">        <span class="keywordflow">if</span> (offset + 6 &lt;= seg_len) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;    dst address:   &quot;</span>);</div>
<div class="line">            print_mac_addr(data + offset);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        offset = l2_offset + 6;</div>
<div class="line">        <span class="keywordflow">if</span> (offset + 6 &lt;= seg_len) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;    src address:   &quot;</span>);</div>
<div class="line">            print_mac_addr(data + offset);</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a name="a93"></a><a class="code" href="group__odp__packet.html#ga7d214afb24153cf16bf3ae774c3b7d1b">odp_packet_has_l2</a>(pkt)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  L2 (%i) offset:   %u bytes\n&quot;</span>,</div>
<div class="line">               <a name="a94"></a><a class="code" href="group__odp__packet.html#ga5293342304d7a2bf1f5bd958a272f186">odp_packet_l2_type</a>(pkt), l2_offset);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* L3 */</span></div>
<div class="line">    <span class="keywordflow">if</span> (ipv4) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  IPv4 offset:     %u bytes\n&quot;</span>, l3_offset);</div>
<div class="line">        offset = l3_offset + 12;</div>
<div class="line">        <span class="keywordflow">if</span> (offset + 4 &lt;= seg_len) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;    src address:   &quot;</span>);</div>
<div class="line">            print_ipv4_addr(data + offset);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        offset = l3_offset + 16;</div>
<div class="line">        <span class="keywordflow">if</span> (offset + 4 &lt;= seg_len) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;    dst address:   &quot;</span>);</div>
<div class="line">            print_ipv4_addr(data + offset);</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a name="a95"></a><a class="code" href="group__odp__packet.html#ga6fb9531bd5cbc6a850e294c4dbcd0c27">odp_packet_has_ipv6</a>(pkt)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  IPv6 offset:     %u bytes\n&quot;</span>, l3_offset);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a name="a96"></a><a class="code" href="group__odp__packet.html#ga0aa1a0f7db60d79c1fdf8453aac52248">odp_packet_has_l3</a>(pkt)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  L3 (%i) offset:   %u bytes\n&quot;</span>,</div>
<div class="line">               <a name="a97"></a><a class="code" href="group__odp__packet.html#gac5b14d78f78c263f00959d6d189b0270">odp_packet_l3_type</a>(pkt), l3_offset);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* L4 */</span></div>
<div class="line">    <span class="keywordflow">if</span> (icmp) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  ICMP offset:     %u bytes\n&quot;</span>, l4_offset);</div>
<div class="line">        <span class="keywordflow">if</span> (ipv4) {</div>
<div class="line">            uint32_t len;</div>
<div class="line">            uint8_t *u8 = <a name="a98"></a><a class="code" href="group__odp__packet.html#gab9760ae693455cc838dfb82cc280de7d">odp_packet_l4_ptr</a>(pkt, &amp;len);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (u8 &amp;&amp; len &gt;= 2) {</div>
<div class="line">                printf(<span class="stringliteral">&quot;    type:          %u\n&quot;</span>, u8[0]);</div>
<div class="line">                printf(<span class="stringliteral">&quot;    code:          %u\n&quot;</span>, u8[1]);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a name="a99"></a><a class="code" href="group__odp__packet.html#ga67debe2e28e66e464faeaa3b3ab655e0">odp_packet_has_l4</a>(pkt)) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;  L4 (%i) offset:   %u bytes\n&quot;</span>,</div>
<div class="line">               <a name="a100"></a><a class="code" href="group__odp__packet.html#ga154698e4b688372fee60af446a7f1190">odp_packet_l4_type</a>(pkt), l4_offset);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    print_data(pkt, 0, data_len);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Updated checksum when a 16 bit word has been changed from old to new */</span></div>
<div class="line"><span class="keyword">static</span> uint16_t update_chksum(uint16_t chksum, uint16_t old, uint16_t <span class="keyword">new</span>)</div>
<div class="line">{</div>
<div class="line">    uint16_t chksum_comp = ~chksum;</div>
<div class="line">    uint16_t old_comp = ~old;</div>
<div class="line">    uint32_t sum = chksum_comp + old_comp + <span class="keyword">new</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (sum &gt;&gt; 16)</div>
<div class="line">        sum = (sum &amp; 0xffff) + (sum &gt;&gt; 16);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ~sum;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> icmp_reply(test_global_t *global, <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkt)</div>
<div class="line">{</div>
<div class="line">    uint32_t dst_ip;</div>
<div class="line">    odph_ipv4hdr_t *ip_hdr;</div>
<div class="line">    odph_ethhdr_t *eth_hdr;</div>
<div class="line">    uint16_t old, <span class="keyword">new</span>;</div>
<div class="line">    uint32_t len = 0;</div>
<div class="line">    <span class="keywordtype">int</span> index = global-&gt;pktio_from_idx[<a name="a101"></a><a class="code" href="group__odp__packet.html#ga1c03b0fec815617168cf29a013442d58">odp_packet_input_index</a>(pkt)];</div>
<div class="line">    <a class="code" href="structodp__pktout__queue__s.html">odp_pktout_queue_t</a> pktout = global-&gt;<a name="a102"></a><a class="code" href="structodp__pktout__queue__s.html#ac54f5c2d64c17fbc782b2f7df600f9fe">pktio</a>[index].pktout;</div>
<div class="line">    odph_ethaddr_t *eth_addr = &amp;global-&gt;pktio[index].eth_addr;</div>
<div class="line">    <span class="keywordtype">int</span> icmp = <a class="code" href="group__odp__packet.html#ga343ae97d85ff6defcecbf66e32fba4c5">odp_packet_has_icmp</a>(pkt);</div>
<div class="line">    <span class="keywordtype">int</span> ipv4 = <a class="code" href="group__odp__packet.html#ga34cecc1ff01ab01bbcbd18dd8ef535fb">odp_packet_has_ipv4</a>(pkt);</div>
<div class="line">    <span class="keywordtype">int</span> eth  = <a class="code" href="group__odp__packet.html#ga4606474a0e463064e573cfe95acf10ab">odp_packet_has_eth</a>(pkt);</div>
<div class="line">    odph_icmphdr_t *icmp_hdr = <a class="code" href="group__odp__packet.html#gab9760ae693455cc838dfb82cc280de7d">odp_packet_l4_ptr</a>(pkt, &amp;len);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a103"></a><a class="code" href="group__odp__packet.html#ga6a0bceb8c3c555f52638561dfce5f785">odp_packet_has_error</a>(pkt))</div>
<div class="line">        <span class="keywordflow">goto</span> error;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (eth == 0 || ipv4 == 0 || icmp == 0)</div>
<div class="line">        <span class="keywordflow">goto</span> error;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* ICMP type, code and chksum fields are located in the first 4 bytes */</span></div>
<div class="line">    <span class="keywordflow">if</span> (icmp_hdr == NULL || len &lt; 4)</div>
<div class="line">        <span class="keywordflow">goto</span> error;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (icmp_hdr-&gt;type != ODPH_ICMP_ECHO || icmp_hdr-&gt;code != 0)</div>
<div class="line">        <span class="keywordflow">goto</span> error;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Echo reply */</span></div>
<div class="line">    old = *(uint16_t *)(uintptr_t)icmp_hdr;</div>
<div class="line">    icmp_hdr-&gt;type = ODPH_ICMP_ECHOREPLY;</div>
<div class="line">    <span class="keyword">new</span> = *(uint16_t *)(uintptr_t)icmp_hdr;</div>
<div class="line">    icmp_hdr-&gt;chksum = update_chksum(icmp_hdr-&gt;chksum, old, <span class="keyword">new</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Swap IP addresses */</span></div>
<div class="line">    ip_hdr = <a name="a104"></a><a class="code" href="group__odp__packet.html#gad0cd1a3f0137909e038438c97e701ffb">odp_packet_l3_ptr</a>(pkt, &amp;len);</div>
<div class="line">    <span class="keywordflow">if</span> (ip_hdr == NULL || len &lt; 20)</div>
<div class="line">        <span class="keywordflow">goto</span> error;</div>
<div class="line"> </div>
<div class="line">    dst_ip = ip_hdr-&gt;dst_addr;</div>
<div class="line">    ip_hdr-&gt;dst_addr = ip_hdr-&gt;src_addr;</div>
<div class="line">    ip_hdr-&gt;src_addr = dst_ip;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Swap Ethernet addresses */</span></div>
<div class="line">    eth_hdr = <a name="a105"></a><a class="code" href="group__odp__packet.html#ga9db78b8022b51bbe434d7599d22b0b95">odp_packet_l2_ptr</a>(pkt, &amp;len);</div>
<div class="line">    <span class="keywordflow">if</span> (eth_hdr == NULL || len &lt; 14)</div>
<div class="line">        <span class="keywordflow">goto</span> error;</div>
<div class="line"> </div>
<div class="line">    eth_hdr-&gt;dst = eth_hdr-&gt;src;</div>
<div class="line">    eth_hdr-&gt;src = *eth_addr;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a106"></a><a class="code" href="group__odp__packet__io.html#gacb5db3a908775522e316c8b8ccb36498">odp_pktout_send</a>(pktout, &amp;pkt, 1) != 1)</div>
<div class="line">        <span class="keywordflow">goto</span> error;</div>
<div class="line"> </div>
<div class="line">    global-&gt;tx_replies++;</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">error:</div>
<div class="line">    <a name="a107"></a><a class="code" href="group__odp__packet.html#ga8a5e2cd674828c5415f3695f266347d7">odp_packet_free</a>(pkt);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_stat(test_global_t *global, uint64_t rx_packets,</div>
<div class="line">               uint64_t diff_ns)</div>
<div class="line">{</div>
<div class="line">    uint64_t prev = global-&gt;rx_packets;</div>
<div class="line">    <span class="keywordtype">double</span> per_sec = 1000000000.0 * (rx_packets - prev) / diff_ns;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Received %&quot;</span> PRIu64 <span class="stringliteral">&quot; packets (%.1f / sec). &quot;</span></div>
<div class="line">           <span class="stringliteral">&quot;Sent %&quot;</span> PRIu64 <span class="stringliteral">&quot; replies.\n&quot;</span>,</div>
<div class="line">           rx_packets, per_sec, global-&gt;tx_replies);</div>
<div class="line"> </div>
<div class="line">    global-&gt;rx_packets = rx_packets;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> receive_packets(test_global_t *global)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="struct__odp__abi__event__t.html">odp_event_t</a> ev;</div>
<div class="line">    <a class="code" href="struct__odp__abi__packet__t.html">odp_packet_t</a> pkt;</div>
<div class="line">    uint64_t diff_ns;</div>
<div class="line">    <span class="keywordtype">int</span> print = 0;</div>
<div class="line">    uint64_t num_packet = 0;</div>
<div class="line">    uint64_t timeout_ns = global-&gt;opt.timeout * <a class="code" href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a>;</div>
<div class="line">    uint64_t wait = <a class="code" href="group__odp__scheduler.html#gab0a0d2673cc7371d5c5d782d13a485b8">odp_schedule_wait_time</a>(<a name="a108"></a><a class="code" href="group__odp__time.html#gabad65a44847cb6d46c2ae9cc96a80a4c">ODP_TIME_MSEC_IN_NS</a>);</div>
<div class="line">    <a class="code" href="structodp__time__s.html">odp_time_t</a> start = <a class="code" href="group__odp__time.html#ga5d0b24d7dae739bac7585ed515bd60a8">odp_time_local</a>();</div>
<div class="line">    <a class="code" href="structodp__time__s.html">odp_time_t</a> cur = start;</div>
<div class="line">    <a class="code" href="structodp__time__s.html">odp_time_t</a> prev = start;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (!<a name="a109"></a><a class="code" href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a>(&amp;global-&gt;stop)) {</div>
<div class="line">        ev = <a class="code" href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a>(NULL, wait);</div>
<div class="line"> </div>
<div class="line">        cur = <a class="code" href="group__odp__time.html#ga5d0b24d7dae739bac7585ed515bd60a8">odp_time_local</a>();</div>
<div class="line">        diff_ns = <a name="a110"></a><a class="code" href="group__odp__time.html#gada453827b812a8fae651e9d93308e959">odp_time_diff_ns</a>(cur, prev);</div>
<div class="line">        <span class="keywordflow">if</span> (diff_ns &gt;= <a class="code" href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a>) {</div>
<div class="line">            prev = cur;</div>
<div class="line">            print = 1;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (ev == <a class="code" href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a>) {</div>
<div class="line">            <span class="keywordflow">if</span> (print) {</div>
<div class="line">                print_stat(global, num_packet, diff_ns);</div>
<div class="line">                print = 0;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (timeout_ns) {</div>
<div class="line">                <span class="keywordflow">if</span> (<a class="code" href="group__odp__time.html#gada453827b812a8fae651e9d93308e959">odp_time_diff_ns</a>(cur, start) &gt;= timeout_ns)</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a111"></a><a class="code" href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a>(ev) != ODP_EVENT_PACKET) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Bad event type: %i\n&quot;</span>, <a class="code" href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a>(ev));</div>
<div class="line">            <a class="code" href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a>(ev);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        pkt = <a name="a112"></a><a class="code" href="group__odp__packet.html#ga8605e7d4629a479f7b1a59da121c601c">odp_packet_from_event</a>(ev);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (global-&gt;opt.verbose)</div>
<div class="line">            print_packet(pkt, num_packet);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Reply or drop packet */</span></div>
<div class="line">        icmp_reply(global, pkt);</div>
<div class="line"> </div>
<div class="line">        num_packet++;</div>
<div class="line">        <span class="keywordflow">if</span> (print) {</div>
<div class="line">            print_stat(global, num_packet, diff_ns);</div>
<div class="line">            print = 0;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (global-&gt;opt.num_packet &amp;&amp; num_packet &gt;= global-&gt;opt.num_packet)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Timeout before num packets received */</span></div>
<div class="line">    <span class="keywordflow">if</span> (global-&gt;opt.num_packet &amp;&amp; num_packet &lt; global-&gt;opt.num_packet) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Received %&quot;</span> PRIu64 <span class="stringliteral">&quot;/%&quot;</span> PRIu64 <span class="stringliteral">&quot; packets\n&quot;</span>,</div>
<div class="line">             num_packet, global-&gt;opt.num_packet);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__odp__initialization.html#ga8d362bd3c7c87ab5892ca63b15c375c0">odp_instance_t</a> instance;</div>
<div class="line">    test_global_t *global;</div>
<div class="line">    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"> </div>
<div class="line">    global = &amp;test_global;</div>
<div class="line">    memset(global, 0, <span class="keyword">sizeof</span>(test_global_t));</div>
<div class="line">    <a name="a113"></a><a class="code" href="group__odp__atomic.html#ga0029015adacaadb06ee94ea67d00eece">odp_atomic_init_u32</a>(&amp;global-&gt;stop, 0);</div>
<div class="line"> </div>
<div class="line">    signal(SIGINT, sig_handler);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (parse_options(argc, argv, global))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Init ODP before calling anything else */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a114"></a><a class="code" href="group__odp__initialization.html#ga68d81088e65ef66180fb51076905e34d">odp_init_global</a>(&amp;instance, NULL, NULL)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Global init failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Init this thread */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a115"></a><a class="code" href="group__odp__initialization.html#ga265470ea614bfeca9d8901e81ddefca9">odp_init_local</a>(instance, <a name="a116"></a><a class="code" href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a">ODP_THREAD_CONTROL</a>)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Local init failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    global-&gt;pool = <a class="code" href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a>;</div>
<div class="line"> </div>
<div class="line">    <a name="a117"></a><a class="code" href="group__odp__scheduler.html#gaa1b51ebd46adeb6aa7805fccb00144df">odp_schedule_config</a>(NULL);</div>
<div class="line"> </div>
<div class="line">    <a name="a118"></a><a class="code" href="group__odp__system.html#gab0a1cd5e503d5ec067e8d17d228b937d">odp_sys_info_print</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (open_pktios(global)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pktio open failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (init_pktio_lookup_tbl(global)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Mapping pktio indexes failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (start_pktios(global)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pktio start failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (receive_packets(global)) {</div>
<div class="line">        ret = -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (stop_pktios(global)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pktio stop failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    empty_queues();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (close_pktios(global)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Pktio close failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a119"></a><a class="code" href="group__odp__initialization.html#ga6d15f0e1718da9477948dedb06a2f01a">odp_term_local</a>()) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Term local failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a120"></a><a class="code" href="group__odp__initialization.html#ga87e9c66ad92201c9e0a710294eab1569">odp_term_global</a>(instance)) {</div>
<div class="line">        ODPH_ERR(<span class="stringliteral">&quot;Term global failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__odp__atomic_html_ga0029015adacaadb06ee94ea67d00eece"><div class="ttname"><a href="group__odp__atomic.html#ga0029015adacaadb06ee94ea67d00eece">odp_atomic_init_u32</a></div><div class="ttdeci">void odp_atomic_init_u32(odp_atomic_u32_t *atom, uint32_t val)</div><div class="ttdoc">Initialize atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__atomic_html_ga1ebc0fa6d690c24bd2bcc38bcb9a2276"><div class="ttname"><a href="group__odp__atomic.html#ga1ebc0fa6d690c24bd2bcc38bcb9a2276">odp_atomic_load_u32</a></div><div class="ttdeci">uint32_t odp_atomic_load_u32(odp_atomic_u32_t *atom)</div><div class="ttdoc">Load value of atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__atomic_html_gaa6d2d16a9ef9897b1442d77e41f7101e"><div class="ttname"><a href="group__odp__atomic.html#gaa6d2d16a9ef9897b1442d77e41f7101e">odp_atomic_store_u32</a></div><div class="ttdeci">void odp_atomic_store_u32(odp_atomic_u32_t *atom, uint32_t val)</div><div class="ttdoc">Store value to atomic uint32 variable.</div></div>
<div class="ttc" id="agroup__odp__event_html_ga1622f73356c325f625db747cb3badf8d"><div class="ttname"><a href="group__odp__event.html#ga1622f73356c325f625db747cb3badf8d">odp_event_free</a></div><div class="ttdeci">void odp_event_free(odp_event_t event)</div><div class="ttdoc">Free event.</div></div>
<div class="ttc" id="agroup__odp__event_html_ga4bd59cdf228fe0c36b8e04fe122e047a"><div class="ttname"><a href="group__odp__event.html#ga4bd59cdf228fe0c36b8e04fe122e047a">odp_event_type</a></div><div class="ttdeci">odp_event_type_t odp_event_type(odp_event_t event)</div><div class="ttdoc">Event type of an event.</div></div>
<div class="ttc" id="agroup__odp__event_html_gae1a3732a534ba7a892fca38b824591b0"><div class="ttname"><a href="group__odp__event.html#gae1a3732a534ba7a892fca38b824591b0">ODP_EVENT_INVALID</a></div><div class="ttdeci">#define ODP_EVENT_INVALID</div><div class="ttdoc">Invalid event.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga1c51393d64c840c04df3536b6fe40b95"><div class="ttname"><a href="group__odp__initialization.html#ga1c51393d64c840c04df3536b6fe40b95">ODP_STATIC_ASSERT</a></div><div class="ttdeci">#define ODP_STATIC_ASSERT(cond, msg)</div><div class="ttdoc">Compile time assertion macro.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga265470ea614bfeca9d8901e81ddefca9"><div class="ttname"><a href="group__odp__initialization.html#ga265470ea614bfeca9d8901e81ddefca9">odp_init_local</a></div><div class="ttdeci">int odp_init_local(odp_instance_t instance, odp_thread_type_t thr_type)</div><div class="ttdoc">Thread local ODP initialization.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga68d81088e65ef66180fb51076905e34d"><div class="ttname"><a href="group__odp__initialization.html#ga68d81088e65ef66180fb51076905e34d">odp_init_global</a></div><div class="ttdeci">int odp_init_global(odp_instance_t *instance, const odp_init_t *params, const odp_platform_init_t *platform_params)</div><div class="ttdoc">Global ODP initialization.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga6d15f0e1718da9477948dedb06a2f01a"><div class="ttname"><a href="group__odp__initialization.html#ga6d15f0e1718da9477948dedb06a2f01a">odp_term_local</a></div><div class="ttdeci">int odp_term_local(void)</div><div class="ttdoc">Thread local ODP termination.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga87e9c66ad92201c9e0a710294eab1569"><div class="ttname"><a href="group__odp__initialization.html#ga87e9c66ad92201c9e0a710294eab1569">odp_term_global</a></div><div class="ttdeci">int odp_term_global(odp_instance_t instance)</div><div class="ttdoc">Global ODP termination.</div></div>
<div class="ttc" id="agroup__odp__initialization_html_ga8d362bd3c7c87ab5892ca63b15c375c0"><div class="ttname"><a href="group__odp__initialization.html#ga8d362bd3c7c87ab5892ca63b15c375c0">odp_instance_t</a></div><div class="ttdeci">uint64_t odp_instance_t</div><div class="ttdoc">ODP instance ID.</div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2init_8h_source.html#l00031">api/abi-default/init.h:31</a></div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga04d67c951aff803cf718940e0783ef8f"><div class="ttname"><a href="group__odp__packet__io.html#ga04d67c951aff803cf718940e0783ef8f">odp_pktio_mac_addr</a></div><div class="ttdeci">int odp_pktio_mac_addr(odp_pktio_t pktio, void *mac_addr, int size)</div><div class="ttdoc">Get the default MAC address of a packet IO interface.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga055eabf5622e6745afbe9a1550ad1d78"><div class="ttname"><a href="group__odp__packet__io.html#ga055eabf5622e6745afbe9a1550ad1d78">odp_pktin_queue_param_init</a></div><div class="ttdeci">void odp_pktin_queue_param_init(odp_pktin_queue_param_t *param)</div><div class="ttdoc">Initialize packet input queue parameters.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga26d165a22d659770eba0c48543860881"><div class="ttname"><a href="group__odp__packet__io.html#ga26d165a22d659770eba0c48543860881">odp_pktio_param_init</a></div><div class="ttdeci">void odp_pktio_param_init(odp_pktio_param_t *param)</div><div class="ttdoc">Initialize pktio params.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga2c232afd3b0c7afd7e9685a0957b84bd"><div class="ttname"><a href="group__odp__packet__io.html#ga2c232afd3b0c7afd7e9685a0957b84bd">odp_pktio_promisc_mode</a></div><div class="ttdeci">int odp_pktio_promisc_mode(odp_pktio_t pktio)</div><div class="ttdoc">Determine if promiscuous mode is enabled for a packet IO interface.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga2e481c9f2f073cc337aff7f4c65cba7c"><div class="ttname"><a href="group__odp__packet__io.html#ga2e481c9f2f073cc337aff7f4c65cba7c">odp_pktio_close</a></div><div class="ttdeci">int odp_pktio_close(odp_pktio_t pktio)</div><div class="ttdoc">Close a packet IO interface.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga3f703418ffbd054ce430a7f0f23be0f8"><div class="ttname"><a href="group__odp__packet__io.html#ga3f703418ffbd054ce430a7f0f23be0f8">odp_pktio_info</a></div><div class="ttdeci">int odp_pktio_info(odp_pktio_t pktio, odp_pktio_info_t *info)</div><div class="ttdoc">Retrieve information about a pktio.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga41a3ebb7ac489b85a5f7560e4d4f77f5"><div class="ttname"><a href="group__odp__packet__io.html#ga41a3ebb7ac489b85a5f7560e4d4f77f5">odp_pktout_queue</a></div><div class="ttdeci">int odp_pktout_queue(odp_pktio_t pktio, odp_pktout_queue_t queues[], int num)</div><div class="ttdoc">Direct packet output queues.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga506ab30c6737e9fbd815f0044396893b"><div class="ttname"><a href="group__odp__packet__io.html#ga506ab30c6737e9fbd815f0044396893b">odp_pktio_promisc_mode_set</a></div><div class="ttdeci">int odp_pktio_promisc_mode_set(odp_pktio_t pktio, odp_bool_t enable)</div><div class="ttdoc">Set promiscuous mode.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga6a1c262ef999e8a73ac107c182b67d33"><div class="ttname"><a href="group__odp__packet__io.html#ga6a1c262ef999e8a73ac107c182b67d33">odp_pktio_config_init</a></div><div class="ttdeci">void odp_pktio_config_init(odp_pktio_config_t *config)</div><div class="ttdoc">Initialize packet IO configuration options.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga7ae4f96ab09d468fff3623d90db306f9"><div class="ttname"><a href="group__odp__packet__io.html#ga7ae4f96ab09d468fff3623d90db306f9">odp_pktio_open</a></div><div class="ttdeci">odp_pktio_t odp_pktio_open(const char *name, odp_pool_t pool, const odp_pktio_param_t *param)</div><div class="ttdoc">Open a packet IO interface.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga7f9faaf250d3d0d87478ff9f13680bf1"><div class="ttname"><a href="group__odp__packet__io.html#ga7f9faaf250d3d0d87478ff9f13680bf1">odp_pktio_config</a></div><div class="ttdeci">int odp_pktio_config(odp_pktio_t pktio, const odp_pktio_config_t *config)</div><div class="ttdoc">Configure packet IO interface options.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga8fdd705d18d4aeb81528e68c0294e984"><div class="ttname"><a href="group__odp__packet__io.html#ga8fdd705d18d4aeb81528e68c0294e984">odp_pktio_print</a></div><div class="ttdeci">void odp_pktio_print(odp_pktio_t pktio)</div><div class="ttdoc">Print pktio info to the console.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga9a5746e73616297fabb8d4caaa6d0333"><div class="ttname"><a href="group__odp__packet__io.html#ga9a5746e73616297fabb8d4caaa6d0333">odp_pktio_start</a></div><div class="ttdeci">int odp_pktio_start(odp_pktio_t pktio)</div><div class="ttdoc">Start packet receive and transmit.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ga9c7d0fcaec232b5503633e42ea29f6f5"><div class="ttname"><a href="group__odp__packet__io.html#ga9c7d0fcaec232b5503633e42ea29f6f5">ODP_PKTIO_INVALID</a></div><div class="ttdeci">#define ODP_PKTIO_INVALID</div><div class="ttdoc">Invalid packet IO handle.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gab09475da05438a53b2d0fca96aab7515"><div class="ttname"><a href="group__odp__packet__io.html#gab09475da05438a53b2d0fca96aab7515">odp_pktout_queue_param_init</a></div><div class="ttdeci">void odp_pktout_queue_param_init(odp_pktout_queue_param_t *param)</div><div class="ttdoc">Initialize packet output queue parameters.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gab34cb9679bf99d1b3366f06a9b155c41"><div class="ttname"><a href="group__odp__packet__io.html#gab34cb9679bf99d1b3366f06a9b155c41">odp_pktio_stop</a></div><div class="ttdeci">int odp_pktio_stop(odp_pktio_t pktio)</div><div class="ttdoc">Stop packet receive and transmit.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gab552d0e69245ade3de47130c2b9c5203"><div class="ttname"><a href="group__odp__packet__io.html#gab552d0e69245ade3de47130c2b9c5203">odp_pktio_index</a></div><div class="ttdeci">int odp_pktio_index(odp_pktio_t pktio)</div><div class="ttdoc">Get pktio interface index.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gaba80778db7ec138977ed9e473bd1faaa"><div class="ttname"><a href="group__odp__packet__io.html#gaba80778db7ec138977ed9e473bd1faaa">odp_pktio_capability</a></div><div class="ttdeci">int odp_pktio_capability(odp_pktio_t pktio, odp_pktio_capability_t *capa)</div><div class="ttdoc">Query packet IO interface capabilities.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gac600157dd09955a9cee3f6618c757ee7"><div class="ttname"><a href="group__odp__packet__io.html#gac600157dd09955a9cee3f6618c757ee7">ODP_PKTIO_MAX_INDEX</a></div><div class="ttdeci">#define ODP_PKTIO_MAX_INDEX</div><div class="ttdoc">Maximum packet IO interface index.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gacb5db3a908775522e316c8b8ccb36498"><div class="ttname"><a href="group__odp__packet__io.html#gacb5db3a908775522e316c8b8ccb36498">odp_pktout_send</a></div><div class="ttdeci">int odp_pktout_send(odp_pktout_queue_t queue, const odp_packet_t packets[], int num)</div><div class="ttdoc">Send packets directly to an interface output queue.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gaf9dce6b2cc13ad715e777416dce88194"><div class="ttname"><a href="group__odp__packet__io.html#gaf9dce6b2cc13ad715e777416dce88194">odp_pktin_queue_config</a></div><div class="ttdeci">int odp_pktin_queue_config(odp_pktio_t pktio, const odp_pktin_queue_param_t *param)</div><div class="ttdoc">Configure packet input queues.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gafc2120185a8da74540feade78623f3b3"><div class="ttname"><a href="group__odp__packet__io.html#gafc2120185a8da74540feade78623f3b3">odp_pktout_queue_config</a></div><div class="ttdeci">int odp_pktout_queue_config(odp_pktio_t pktio, const odp_pktout_queue_param_t *param)</div><div class="ttdoc">Configure packet output queues.</div></div>
<div class="ttc" id="agroup__odp__packet__io_html_gga4e0c26e40b1166b07142302d12e8467da9e6184e8d605ce199cfa54d6c50153ff"><div class="ttname"><a href="group__odp__packet__io.html#gga4e0c26e40b1166b07142302d12e8467da9e6184e8d605ce199cfa54d6c50153ff">ODP_PKTOUT_MODE_DIRECT</a></div><div class="ttdeci">@ ODP_PKTOUT_MODE_DIRECT</div><div class="ttdoc">Direct packet output on the interface.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00109">api/spec/packet_io_types.h:109</a></div></div>
<div class="ttc" id="agroup__odp__packet__io_html_ggaf5d539df6fc8af55d96357c784a54b8faa4f62db7acbe492a3b80f3f782a04dd5"><div class="ttname"><a href="group__odp__packet__io.html#ggaf5d539df6fc8af55d96357c784a54b8faa4f62db7acbe492a3b80f3f782a04dd5">ODP_PKTIN_MODE_SCHED</a></div><div class="ttdeci">@ ODP_PKTIN_MODE_SCHED</div><div class="ttdoc">Packet input through scheduler and scheduled event queues.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00097">api/spec/packet_io_types.h:97</a></div></div>
<div class="ttc" id="agroup__odp__packet_html_ga0aa1a0f7db60d79c1fdf8453aac52248"><div class="ttname"><a href="group__odp__packet.html#ga0aa1a0f7db60d79c1fdf8453aac52248">odp_packet_has_l3</a></div><div class="ttdeci">int odp_packet_has_l3(odp_packet_t pkt)</div><div class="ttdoc">Check for layer 3 protocols.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga154698e4b688372fee60af446a7f1190"><div class="ttname"><a href="group__odp__packet.html#ga154698e4b688372fee60af446a7f1190">odp_packet_l4_type</a></div><div class="ttdeci">odp_proto_l4_type_t odp_packet_l4_type(odp_packet_t pkt)</div><div class="ttdoc">Layer 4 protocol type.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga1937a99d94a87387d8700e850a013dd3"><div class="ttname"><a href="group__odp__packet.html#ga1937a99d94a87387d8700e850a013dd3">odp_packet_has_ts</a></div><div class="ttdeci">int odp_packet_has_ts(odp_packet_t pkt)</div><div class="ttdoc">Check for packet timestamp.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga1c03b0fec815617168cf29a013442d58"><div class="ttname"><a href="group__odp__packet.html#ga1c03b0fec815617168cf29a013442d58">odp_packet_input_index</a></div><div class="ttdeci">int odp_packet_input_index(odp_packet_t pkt)</div><div class="ttdoc">Packet input interface index.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga22a6d43d83393129dcd548194930bfcf"><div class="ttname"><a href="group__odp__packet.html#ga22a6d43d83393129dcd548194930bfcf">odp_packet_seg_len</a></div><div class="ttdeci">uint32_t odp_packet_seg_len(odp_packet_t pkt)</div><div class="ttdoc">Packet data length following the data pointer.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga343ae97d85ff6defcecbf66e32fba4c5"><div class="ttname"><a href="group__odp__packet.html#ga343ae97d85ff6defcecbf66e32fba4c5">odp_packet_has_icmp</a></div><div class="ttdeci">int odp_packet_has_icmp(odp_packet_t pkt)</div><div class="ttdoc">Check for ICMP.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga34cecc1ff01ab01bbcbd18dd8ef535fb"><div class="ttname"><a href="group__odp__packet.html#ga34cecc1ff01ab01bbcbd18dd8ef535fb">odp_packet_has_ipv4</a></div><div class="ttdeci">int odp_packet_has_ipv4(odp_packet_t pkt)</div><div class="ttdoc">Check for IPv4.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga3d1e523b200b887c88d9506a804f0e38"><div class="ttname"><a href="group__odp__packet.html#ga3d1e523b200b887c88d9506a804f0e38">odp_packet_l4_offset</a></div><div class="ttdeci">uint32_t odp_packet_l4_offset(odp_packet_t pkt)</div><div class="ttdoc">Layer 4 start offset.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga433ba21e3c83c6d4d9831c9e732b63de"><div class="ttname"><a href="group__odp__packet.html#ga433ba21e3c83c6d4d9831c9e732b63de">odp_packet_data</a></div><div class="ttdeci">void * odp_packet_data(odp_packet_t pkt)</div><div class="ttdoc">Packet data pointer.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga4606474a0e463064e573cfe95acf10ab"><div class="ttname"><a href="group__odp__packet.html#ga4606474a0e463064e573cfe95acf10ab">odp_packet_has_eth</a></div><div class="ttdeci">int odp_packet_has_eth(odp_packet_t pkt)</div><div class="ttdoc">Check for Ethernet header.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga5293342304d7a2bf1f5bd958a272f186"><div class="ttname"><a href="group__odp__packet.html#ga5293342304d7a2bf1f5bd958a272f186">odp_packet_l2_type</a></div><div class="ttdeci">odp_proto_l2_type_t odp_packet_l2_type(odp_packet_t pkt)</div><div class="ttdoc">Layer 2 protocol type.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga67debe2e28e66e464faeaa3b3ab655e0"><div class="ttname"><a href="group__odp__packet.html#ga67debe2e28e66e464faeaa3b3ab655e0">odp_packet_has_l4</a></div><div class="ttdeci">int odp_packet_has_l4(odp_packet_t pkt)</div><div class="ttdoc">Check for layer 4 protocols.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga68c47fd0c2a764b01b11390974748cc6"><div class="ttname"><a href="group__odp__packet.html#ga68c47fd0c2a764b01b11390974748cc6">odp_packet_len</a></div><div class="ttdeci">uint32_t odp_packet_len(odp_packet_t pkt)</div><div class="ttdoc">Packet data length.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga6a0bceb8c3c555f52638561dfce5f785"><div class="ttname"><a href="group__odp__packet.html#ga6a0bceb8c3c555f52638561dfce5f785">odp_packet_has_error</a></div><div class="ttdeci">int odp_packet_has_error(odp_packet_t pkt)</div><div class="ttdoc">Check for all parse errors in packet.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga6fb9531bd5cbc6a850e294c4dbcd0c27"><div class="ttname"><a href="group__odp__packet.html#ga6fb9531bd5cbc6a850e294c4dbcd0c27">odp_packet_has_ipv6</a></div><div class="ttdeci">int odp_packet_has_ipv6(odp_packet_t pkt)</div><div class="ttdoc">Check for IPv6.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga7d214afb24153cf16bf3ae774c3b7d1b"><div class="ttname"><a href="group__odp__packet.html#ga7d214afb24153cf16bf3ae774c3b7d1b">odp_packet_has_l2</a></div><div class="ttdeci">int odp_packet_has_l2(odp_packet_t pkt)</div><div class="ttdoc">Check for layer 2 protocols.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga8605e7d4629a479f7b1a59da121c601c"><div class="ttname"><a href="group__odp__packet.html#ga8605e7d4629a479f7b1a59da121c601c">odp_packet_from_event</a></div><div class="ttdeci">odp_packet_t odp_packet_from_event(odp_event_t ev)</div><div class="ttdoc">Get packet handle from event.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga8a5e2cd674828c5415f3695f266347d7"><div class="ttname"><a href="group__odp__packet.html#ga8a5e2cd674828c5415f3695f266347d7">odp_packet_free</a></div><div class="ttdeci">void odp_packet_free(odp_packet_t pkt)</div><div class="ttdoc">Free packet.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga9db78b8022b51bbe434d7599d22b0b95"><div class="ttname"><a href="group__odp__packet.html#ga9db78b8022b51bbe434d7599d22b0b95">odp_packet_l2_ptr</a></div><div class="ttdeci">void * odp_packet_l2_ptr(odp_packet_t pkt, uint32_t *len)</div><div class="ttdoc">Layer 2 start pointer.</div></div>
<div class="ttc" id="agroup__odp__packet_html_ga9eb7cff2a7f32d07bcf919d7286509b1"><div class="ttname"><a href="group__odp__packet.html#ga9eb7cff2a7f32d07bcf919d7286509b1">odp_packet_l3_offset</a></div><div class="ttdeci">uint32_t odp_packet_l3_offset(odp_packet_t pkt)</div><div class="ttdoc">Layer 3 start offset.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gab9760ae693455cc838dfb82cc280de7d"><div class="ttname"><a href="group__odp__packet.html#gab9760ae693455cc838dfb82cc280de7d">odp_packet_l4_ptr</a></div><div class="ttdeci">void * odp_packet_l4_ptr(odp_packet_t pkt, uint32_t *len)</div><div class="ttdoc">Layer 4 start pointer.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gac5b14d78f78c263f00959d6d189b0270"><div class="ttname"><a href="group__odp__packet.html#gac5b14d78f78c263f00959d6d189b0270">odp_packet_l3_type</a></div><div class="ttdeci">odp_proto_l3_type_t odp_packet_l3_type(odp_packet_t pkt)</div><div class="ttdoc">Layer 3 protocol type.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gad0cd1a3f0137909e038438c97e701ffb"><div class="ttname"><a href="group__odp__packet.html#gad0cd1a3f0137909e038438c97e701ffb">odp_packet_l3_ptr</a></div><div class="ttdeci">void * odp_packet_l3_ptr(odp_packet_t pkt, uint32_t *len)</div><div class="ttdoc">Layer 3 start pointer.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gadf9179122029a9dd7a000e050f68b357"><div class="ttname"><a href="group__odp__packet.html#gadf9179122029a9dd7a000e050f68b357">odp_packet_copy_to_mem</a></div><div class="ttdeci">int odp_packet_copy_to_mem(odp_packet_t pkt, uint32_t offset, uint32_t len, void *dst)</div><div class="ttdoc">Copy data from packet to memory.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gaeac50a7feadc136a33839222ce55ad6a"><div class="ttname"><a href="group__odp__packet.html#gaeac50a7feadc136a33839222ce55ad6a">odp_packet_ts</a></div><div class="ttdeci">odp_time_t odp_packet_ts(odp_packet_t pkt)</div><div class="ttdoc">Packet timestamp.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gafedebc00ec9a8b6076717e43e9ac1b43"><div class="ttname"><a href="group__odp__packet.html#gafedebc00ec9a8b6076717e43e9ac1b43">odp_packet_input</a></div><div class="ttdeci">odp_pktio_t odp_packet_input(odp_packet_t pkt)</div><div class="ttdoc">Packet input interface.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gaff4652c8ee369e5d0964775c810ac720"><div class="ttname"><a href="group__odp__packet.html#gaff4652c8ee369e5d0964775c810ac720">odp_packet_l2_offset</a></div><div class="ttdeci">uint32_t odp_packet_l2_offset(odp_packet_t pkt)</div><div class="ttdoc">Layer 2 start offset.</div></div>
<div class="ttc" id="agroup__odp__packet_html_gga428cdbec9e7bc0bc19286f9564f9828ba3a3cbdc7032884954f7b688afacd37d5"><div class="ttname"><a href="group__odp__packet.html#gga428cdbec9e7bc0bc19286f9564f9828ba3a3cbdc7032884954f7b688afacd37d5">ODP_PROTO_LAYER_ALL</a></div><div class="ttdeci">@ ODP_PROTO_LAYER_ALL</div><div class="ttdoc">All layers.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__types_8h_source.html#l00249">api/spec/packet_types.h:247</a></div></div>
<div class="ttc" id="agroup__odp__pool_html_ga256909a276600c25ce11b52ae274632f"><div class="ttname"><a href="group__odp__pool.html#ga256909a276600c25ce11b52ae274632f">odp_pool_create</a></div><div class="ttdeci">odp_pool_t odp_pool_create(const char *name, const odp_pool_param_t *param)</div><div class="ttdoc">Create a pool.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga2c6f42e9611904eac84872bf8f913b75"><div class="ttname"><a href="group__odp__pool.html#ga2c6f42e9611904eac84872bf8f913b75">odp_pool_capability</a></div><div class="ttdeci">int odp_pool_capability(odp_pool_capability_t *capa)</div><div class="ttdoc">Query pool capabilities.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga3dd8bcfb920f81142e9fe27cfba24073"><div class="ttname"><a href="group__odp__pool.html#ga3dd8bcfb920f81142e9fe27cfba24073">odp_pool_param_init</a></div><div class="ttdeci">void odp_pool_param_init(odp_pool_param_t *param)</div><div class="ttdoc">Initialize pool params.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ga6ad439aaef911d82b972c915850e6924"><div class="ttname"><a href="group__odp__pool.html#ga6ad439aaef911d82b972c915850e6924">odp_pool_destroy</a></div><div class="ttdeci">int odp_pool_destroy(odp_pool_t pool)</div><div class="ttdoc">Destroy a pool previously created by odp_pool_create()</div></div>
<div class="ttc" id="agroup__odp__pool_html_gafca03b58412260da754042a92f8a5e04"><div class="ttname"><a href="group__odp__pool.html#gafca03b58412260da754042a92f8a5e04">ODP_POOL_INVALID</a></div><div class="ttdeci">#define ODP_POOL_INVALID</div><div class="ttdoc">Invalid pool.</div></div>
<div class="ttc" id="agroup__odp__pool_html_ggac47bb33bcde80614b4b358578eaa3082aa02b3a4e37094bd277b3dfe371450acd"><div class="ttname"><a href="group__odp__pool.html#ggac47bb33bcde80614b4b358578eaa3082aa02b3a4e37094bd277b3dfe371450acd">ODP_POOL_PACKET</a></div><div class="ttdeci">@ ODP_POOL_PACKET</div><div class="ttdoc">Packet pool.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00436">api/spec/pool_types.h:436</a></div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga4b7efc5cfc27ef416312f5adb8bdc392"><div class="ttname"><a href="group__odp__scheduler.html#ga4b7efc5cfc27ef416312f5adb8bdc392">ODP_SCHED_SYNC_ATOMIC</a></div><div class="ttdeci">#define ODP_SCHED_SYNC_ATOMIC</div><div class="ttdoc">Atomic queue synchronization.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_ga94034a7f591f3f549099aebb098f7e05"><div class="ttname"><a href="group__odp__scheduler.html#ga94034a7f591f3f549099aebb098f7e05">odp_schedule_default_prio</a></div><div class="ttdeci">int odp_schedule_default_prio(void)</div><div class="ttdoc">Default scheduling priority level.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gaa1b51ebd46adeb6aa7805fccb00144df"><div class="ttname"><a href="group__odp__scheduler.html#gaa1b51ebd46adeb6aa7805fccb00144df">odp_schedule_config</a></div><div class="ttdeci">int odp_schedule_config(const odp_schedule_config_t *config)</div><div class="ttdoc">Global schedule configuration.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gab0a0d2673cc7371d5c5d782d13a485b8"><div class="ttname"><a href="group__odp__scheduler.html#gab0a0d2673cc7371d5c5d782d13a485b8">odp_schedule_wait_time</a></div><div class="ttdeci">uint64_t odp_schedule_wait_time(uint64_t ns)</div><div class="ttdoc">Schedule wait time.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gae4ca1012ebb16ff8b9752b958dc45ce6"><div class="ttname"><a href="group__odp__scheduler.html#gae4ca1012ebb16ff8b9752b958dc45ce6">odp_schedule</a></div><div class="ttdeci">odp_event_t odp_schedule(odp_queue_t *from, uint64_t wait)</div><div class="ttdoc">Schedule an event.</div></div>
<div class="ttc" id="agroup__odp__scheduler_html_gaf463b15ad978dac0bf77c0110232b504"><div class="ttname"><a href="group__odp__scheduler.html#gaf463b15ad978dac0bf77c0110232b504">ODP_SCHED_GROUP_ALL</a></div><div class="ttdeci">#define ODP_SCHED_GROUP_ALL</div><div class="ttdoc">Group of all threads.</div></div>
<div class="ttc" id="agroup__odp__system_html_gab0a1cd5e503d5ec067e8d17d228b937d"><div class="ttname"><a href="group__odp__system.html#gab0a1cd5e503d5ec067e8d17d228b937d">odp_sys_info_print</a></div><div class="ttdeci">void odp_sys_info_print(void)</div><div class="ttdoc">Print system info.</div></div>
<div class="ttc" id="agroup__odp__thread_html_ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a"><div class="ttname"><a href="group__odp__thread.html#ggafc7a7c180de9811d71b7cb050713bf53a9aab3fdb10eb2000a864bff81f23c00a">ODP_THREAD_CONTROL</a></div><div class="ttdeci">@ ODP_THREAD_CONTROL</div><div class="ttdoc">Control thread.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2thread__types_8h_source.html#l00054">api/spec/thread_types.h:53</a></div></div>
<div class="ttc" id="agroup__odp__time_html_ga04eed146c4559fb906766c4fbd4c2460"><div class="ttname"><a href="group__odp__time.html#ga04eed146c4559fb906766c4fbd4c2460">odp_time_to_ns</a></div><div class="ttdeci">uint64_t odp_time_to_ns(odp_time_t time)</div><div class="ttdoc">Convert time to nanoseconds.</div></div>
<div class="ttc" id="agroup__odp__time_html_ga49ab6f8fe6c0aa5b820717fd91f16ab5"><div class="ttname"><a href="group__odp__time.html#ga49ab6f8fe6c0aa5b820717fd91f16ab5">ODP_TIME_SEC_IN_NS</a></div><div class="ttdeci">#define ODP_TIME_SEC_IN_NS</div><div class="ttdoc">A second in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2time__types_8h_source.html#l00031">api/spec/time_types.h:31</a></div></div>
<div class="ttc" id="agroup__odp__time_html_ga5d0b24d7dae739bac7585ed515bd60a8"><div class="ttname"><a href="group__odp__time.html#ga5d0b24d7dae739bac7585ed515bd60a8">odp_time_local</a></div><div class="ttdeci">odp_time_t odp_time_local(void)</div><div class="ttdoc">Current local time.</div></div>
<div class="ttc" id="agroup__odp__time_html_gabad65a44847cb6d46c2ae9cc96a80a4c"><div class="ttname"><a href="group__odp__time.html#gabad65a44847cb6d46c2ae9cc96a80a4c">ODP_TIME_MSEC_IN_NS</a></div><div class="ttdeci">#define ODP_TIME_MSEC_IN_NS</div><div class="ttdoc">A millisecond in nanoseconds.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2time__types_8h_source.html#l00028">api/spec/time_types.h:28</a></div></div>
<div class="ttc" id="agroup__odp__time_html_gada453827b812a8fae651e9d93308e959"><div class="ttname"><a href="group__odp__time.html#gada453827b812a8fae651e9d93308e959">odp_time_diff_ns</a></div><div class="ttdeci">uint64_t odp_time_diff_ns(odp_time_t t2, odp_time_t t1)</div><div class="ttdoc">Time difference in nanoseconds.</div></div>
<div class="ttc" id="aodp__api_8h_html"><div class="ttname"><a href="odp__api_8h.html">odp_api.h</a></div><div class="ttdoc">The OpenDataPlane API.</div></div>
<div class="ttc" id="astruct__odp__abi__event__t_html"><div class="ttname"><a href="struct__odp__abi__event__t.html">_odp_abi_event_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2event__types_8h_source.html#l00016">api/abi-default/event_types.h:16</a></div></div>
<div class="ttc" id="astruct__odp__abi__packet__t_html"><div class="ttname"><a href="struct__odp__abi__packet__t.html">_odp_abi_packet_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2packet__types_8h_source.html#l00016">api/abi-default/packet_types.h:16</a></div></div>
<div class="ttc" id="astruct__odp__abi__pktio__t_html"><div class="ttname"><a href="struct__odp__abi__pktio__t.html">_odp_abi_pktio_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2packet__io__types_8h_source.html#l00022">api/abi-default/packet_io_types.h:22</a></div></div>
<div class="ttc" id="astruct__odp__abi__pool__t_html"><div class="ttname"><a href="struct__odp__abi__pool__t.html">_odp_abi_pool_t</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2pool__types_8h_source.html#l00014">api/abi-default/pool_types.h:14</a></div></div>
<div class="ttc" id="astructodp__atomic__u32__s_html"><div class="ttname"><a href="structodp__atomic__u32__s.html">odp_atomic_u32_s</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2atomic_8h_source.html#l00026">api/abi-default/atomic.h:26</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html"><div class="ttname"><a href="structodp__pktin__queue__param__t.html">odp_pktin_queue_param_t</a></div><div class="ttdoc">Packet input queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00229">api/spec/packet_io_types.h:229</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html_a03e94f43a2e4379d7a16adb964a55ecd"><div class="ttname"><a href="structodp__pktin__queue__param__t.html#a03e94f43a2e4379d7a16adb964a55ecd">odp_pktin_queue_param_t::num_queues</a></div><div class="ttdeci">uint32_t num_queues</div><div class="ttdoc">Number of input queues to be created.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00269">api/spec/packet_io_types.h:269</a></div></div>
<div class="ttc" id="astructodp__pktin__queue__param__t_html_a5a07d5e93f26a523103360c0bea4a304"><div class="ttname"><a href="structodp__pktin__queue__param__t.html#a5a07d5e93f26a523103360c0bea4a304">odp_pktin_queue_param_t::queue_param</a></div><div class="ttdeci">odp_queue_param_t queue_param</div><div class="ttdoc">Queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00294">api/spec/packet_io_types.h:294</a></div></div>
<div class="ttc" id="astructodp__pktio__capability__t_html"><div class="ttname"><a href="structodp__pktio__capability__t.html">odp_pktio_capability_t</a></div><div class="ttdoc">Packet IO capabilities.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l01020">api/spec/packet_io_types.h:1020</a></div></div>
<div class="ttc" id="astructodp__pktio__capability__t_html_a2d4329604c32dda9539d9ea9831b2291"><div class="ttname"><a href="structodp__pktio__capability__t.html#a2d4329604c32dda9539d9ea9831b2291">odp_pktio_capability_t::set_op</a></div><div class="ttdeci">odp_pktio_set_op_t set_op</div><div class="ttdoc">Supported set operations.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l01058">api/spec/packet_io_types.h:1058</a></div></div>
<div class="ttc" id="astructodp__pktio__config__t_html"><div class="ttname"><a href="structodp__pktio__config__t.html">odp_pktio_config_t</a></div><div class="ttdoc">Packet IO configuration options.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00589">api/spec/packet_io_types.h:589</a></div></div>
<div class="ttc" id="astructodp__pktio__config__t_html_ab11707ba4258066a50f0e029fcc641f5"><div class="ttname"><a href="structodp__pktio__config__t.html#ab11707ba4258066a50f0e029fcc641f5">odp_pktio_config_t::parser</a></div><div class="ttdeci">odp_pktio_parser_config_t parser</div><div class="ttdoc">Packet input parser configuration.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00601">api/spec/packet_io_types.h:601</a></div></div>
<div class="ttc" id="astructodp__pktio__config__t_html_ad8e059ec7e784ef0f2d6ffc6623620b7"><div class="ttname"><a href="structodp__pktio__config__t.html#ad8e059ec7e784ef0f2d6ffc6623620b7">odp_pktio_config_t::pktin</a></div><div class="ttdeci">odp_pktin_config_opt_t pktin</div><div class="ttdoc">Packet input configuration options bit field.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00593">api/spec/packet_io_types.h:593</a></div></div>
<div class="ttc" id="astructodp__pktio__info__t_html"><div class="ttname"><a href="structodp__pktio__info__t.html">odp_pktio_info_t</a></div><div class="ttdoc">Packet IO information.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l01256">api/spec/packet_io_types.h:1256</a></div></div>
<div class="ttc" id="astructodp__pktio__info__t_html_ab821dfd9c69a437bee30e2ed8bef8845"><div class="ttname"><a href="structodp__pktio__info__t.html#ab821dfd9c69a437bee30e2ed8bef8845">odp_pktio_info_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdoc">Packet IO device name.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l01258">api/spec/packet_io_types.h:1258</a></div></div>
<div class="ttc" id="astructodp__pktio__param__t_html"><div class="ttname"><a href="structodp__pktio__param__t.html">odp_pktio_param_t</a></div><div class="ttdoc">Packet IO parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00356">api/spec/packet_io_types.h:356</a></div></div>
<div class="ttc" id="astructodp__pktio__param__t_html_a819cf5e2ef7df43a729cad159c022f4d"><div class="ttname"><a href="structodp__pktio__param__t.html#a819cf5e2ef7df43a729cad159c022f4d">odp_pktio_param_t::in_mode</a></div><div class="ttdeci">odp_pktin_mode_t in_mode</div><div class="ttdoc">Packet input mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00360">api/spec/packet_io_types.h:360</a></div></div>
<div class="ttc" id="astructodp__pktio__param__t_html_afc226fd3904618950a0d1154ffa2fd8c"><div class="ttname"><a href="structodp__pktio__param__t.html#afc226fd3904618950a0d1154ffa2fd8c">odp_pktio_param_t::out_mode</a></div><div class="ttdeci">odp_pktout_mode_t out_mode</div><div class="ttdoc">Packet output mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00365">api/spec/packet_io_types.h:365</a></div></div>
<div class="ttc" id="astructodp__pktio__parser__config__t_html_aff1f0d93e1f3cc93006aa613287378a2"><div class="ttname"><a href="structodp__pktio__parser__config__t.html#aff1f0d93e1f3cc93006aa613287378a2">odp_pktio_parser_config_t::layer</a></div><div class="ttdeci">odp_proto_layer_t layer</div><div class="ttdoc">Protocol parsing level in packet input.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00565">api/spec/packet_io_types.h:565</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__param__t_html"><div class="ttname"><a href="structodp__pktout__queue__param__t.html">odp_pktout_queue_param_t</a></div><div class="ttdoc">Packet output queue parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00326">api/spec/packet_io_types.h:326</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__param__t_html_acd16e77991869797adb3da1bd41a1d0c"><div class="ttname"><a href="structodp__pktout__queue__param__t.html#acd16e77991869797adb3da1bd41a1d0c">odp_pktout_queue_param_t::num_queues</a></div><div class="ttdeci">uint32_t num_queues</div><div class="ttdoc">Number of output queues to be created.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00336">api/spec/packet_io_types.h:336</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__s_html"><div class="ttname"><a href="structodp__pktout__queue__s.html">odp_pktout_queue_s</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2packet__io__types_8h_source.html#l00063">api/abi-default/packet_io_types.h:63</a></div></div>
<div class="ttc" id="astructodp__pktout__queue__s_html_ac54f5c2d64c17fbc782b2f7df600f9fe"><div class="ttname"><a href="structodp__pktout__queue__s.html#ac54f5c2d64c17fbc782b2f7df600f9fe">odp_pktout_queue_s::pktio</a></div><div class="ttdeci">odp_pktio_t pktio</div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2packet__io__types_8h_source.html#l00064">api/abi-default/packet_io_types.h:64</a></div></div>
<div class="ttc" id="astructodp__pool__capability__t_html"><div class="ttname"><a href="structodp__pool__capability__t.html">odp_pool_capability_t</a></div><div class="ttdoc">Pool capabilities.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00184">api/spec/pool_types.h:184</a></div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_a11c2f0606b3bb00a72220d2352f43806"><div class="ttname"><a href="structodp__pool__capability__t.html#a11c2f0606b3bb00a72220d2352f43806">odp_pool_capability_t::pkt</a></div><div class="ttdeci">struct odp_pool_capability_t::@133 pkt</div><div class="ttdoc">Packet pool capabilities</div></div>
<div class="ttc" id="astructodp__pool__capability__t_html_a2b468c5617515bbd5d50a57a7d65e1e0"><div class="ttname"><a href="structodp__pool__capability__t.html#a2b468c5617515bbd5d50a57a7d65e1e0">odp_pool_capability_t::max_num</a></div><div class="ttdeci">uint32_t max_num</div><div class="ttdoc">Maximum number of buffers of any size.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00206">api/spec/pool_types.h:206</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html"><div class="ttname"><a href="structodp__pool__param__t.html">odp_pool_param_t</a></div><div class="ttdoc">Pool parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00466">api/spec/pool_types.h:466</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a3598b3a2496629cd45010c1c5e876250"><div class="ttname"><a href="structodp__pool__param__t.html#a3598b3a2496629cd45010c1c5e876250">odp_pool_param_t::num</a></div><div class="ttdeci">uint32_t num</div><div class="ttdoc">Number of buffers in the pool.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00473">api/spec/pool_types.h:473</a></div></div>
<div class="ttc" id="astructodp__pool__param__t_html_a7f9ca49dc21d48da0d80860c03faec1d"><div class="ttname"><a href="structodp__pool__param__t.html#a7f9ca49dc21d48da0d80860c03faec1d">odp_pool_param_t::pkt</a></div><div class="ttdeci">struct odp_pool_param_t::@138 pkt</div><div class="ttdoc">Parameters for packet pools.</div></div>
<div class="ttc" id="astructodp__pool__param__t_html_aac72ae142dd9736a287ce63d78b71c87"><div class="ttname"><a href="structodp__pool__param__t.html#aac72ae142dd9736a287ce63d78b71c87">odp_pool_param_t::type</a></div><div class="ttdeci">odp_pool_type_t type</div><div class="ttdoc">Pool type.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2pool__types_8h_source.html#l00468">api/spec/pool_types.h:468</a></div></div>
<div class="ttc" id="astructodp__queue__param__t_html_a371701df4d20cee95978b9265c232e32"><div class="ttname"><a href="structodp__queue__param__t.html#a371701df4d20cee95978b9265c232e32">odp_queue_param_t::sched</a></div><div class="ttdeci">odp_schedule_param_t sched</div><div class="ttdoc">Scheduler parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2queue__types_8h_source.html#l00270">api/spec/queue_types.h:270</a></div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_a0bc7830a919f31ce295a20c51a7e2648"><div class="ttname"><a href="structodp__schedule__param__t.html#a0bc7830a919f31ce295a20c51a7e2648">odp_schedule_param_t::group</a></div><div class="ttdeci">odp_schedule_group_t group</div><div class="ttdoc">Thread group.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2schedule__types_8h_source.html#l00204">api/spec/schedule_types.h:204</a></div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_a3f103771c3a9319c1ec998fa8724b8ac"><div class="ttname"><a href="structodp__schedule__param__t.html#a3f103771c3a9319c1ec998fa8724b8ac">odp_schedule_param_t::prio</a></div><div class="ttdeci">odp_schedule_prio_t prio</div><div class="ttdoc">Priority level.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2schedule__types_8h_source.html#l00194">api/spec/schedule_types.h:194</a></div></div>
<div class="ttc" id="astructodp__schedule__param__t_html_ad4ca09d63edb0cec36567c26688cea14"><div class="ttname"><a href="structodp__schedule__param__t.html#ad4ca09d63edb0cec36567c26688cea14">odp_schedule_param_t::sync</a></div><div class="ttdeci">odp_schedule_sync_t sync</div><div class="ttdoc">Synchronization method.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2schedule__types_8h_source.html#l00199">api/spec/schedule_types.h:199</a></div></div>
<div class="ttc" id="astructodp__time__s_html"><div class="ttname"><a href="structodp__time__s.html">odp_time_s</a></div><div class="ttdef"><b>Definition:</b> <a href="api_2abi-default_2time__types_8h_source.html#l00018">api/abi-default/time_types.h:18</a></div></div>
<div class="ttc" id="aunionodp__pktin__config__opt__t_html_a0955307af97f20d4e8676934c999387c"><div class="ttname"><a href="unionodp__pktin__config__opt__t.html#a0955307af97f20d4e8676934c999387c">odp_pktin_config_opt_t::ts_all</a></div><div class="ttdeci">uint64_t ts_all</div><div class="ttdoc">Timestamp all packets on packet input.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00403">api/spec/packet_io_types.h:403</a></div></div>
<div class="ttc" id="aunionodp__pktin__config__opt__t_html_a20b595b0adb3cbccf3395ff93dc7067e"><div class="ttname"><a href="unionodp__pktin__config__opt__t.html#a20b595b0adb3cbccf3395ff93dc7067e">odp_pktin_config_opt_t::bit</a></div><div class="ttdeci">struct odp_pktin_config_opt_t::@107 bit</div><div class="ttdoc">Option flags.</div></div>
<div class="ttc" id="aunionodp__pktio__set__op__t_html_a63dcf0f49f84a9678c00f5581e2c75cc"><div class="ttname"><a href="unionodp__pktio__set__op__t.html#a63dcf0f49f84a9678c00f5581e2c75cc">odp_pktio_set_op_t::op</a></div><div class="ttdeci">struct odp_pktio_set_op_t::@111 op</div><div class="ttdoc">Operation flags.</div></div>
<div class="ttc" id="aunionodp__pktio__set__op__t_html_ae821914c6895a2cfbea766f6c70d48bc"><div class="ttname"><a href="unionodp__pktio__set__op__t.html#ae821914c6895a2cfbea766f6c70d48bc">odp_pktio_set_op_t::promisc_mode</a></div><div class="ttdeci">uint32_t promisc_mode</div><div class="ttdoc">Promiscuous mode.</div><div class="ttdef"><b>Definition:</b> <a href="api_2spec_2packet__io__types_8h_source.html#l00756">api/spec/packet_io_types.h:756</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
